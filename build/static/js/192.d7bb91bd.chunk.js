"use strict";(self.webpackChunkreact=self.webpackChunkreact||[]).push([[192],{9(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.deprecatedMemberMap=t.deprecatedEventMap=void 0,t.migrateDeprecatedEventKeys=function(e){const i=Object.assign({},e);return Object.keys(t.deprecatedEventMap).forEach(s=>{const{newKey:n,url:d}=t.deprecatedEventMap[s];if(!n)return;const a=s.split(".");let r=e;for(const e of a){if(!r||!(e in r)){r=void 0;break}r=r[e]}if(void 0===r||""===r)return;const l=Array.isArray(n)?n:[n],h=Array.isArray(d)?d:[d];l.forEach((e,t)=>{const n=e.split(".");let d=i;for(let i=0;i<n.length-1;i++){const e=n[i];d[e]&&"object"===typeof d[e]||(d[e]={}),d=d[e]}const a=n[n.length-1];if(void 0!==r&&""!==r){const i=h[t]||"";console.warn("[Deprecation Warning] Event '".concat(s,"' is deprecated. Use '").concat(e,"' instead. For more details, visit: %s"),"".concat(o).concat(i)),d[a]=r}})}),i},t.checkDeprecatedEmbedOptions=function(e){Object.keys(t.deprecatedMemberMap).forEach(i=>{let s=e;const n=i.split(".");let d=!0;for(let e=0;e<n.length;e++){if(!s||!(n[e]in s)){d=!1;break}s=s[n[e]]}if(d){const{newKey:e,url:s}=t.deprecatedMemberMap[i];s?console.warn("[Deprecation Warning] '".concat(i,"' is deprecated. Please use '").concat(e,"' instead. For more details, visit: %s"),"".concat(o).concat(s)):console.warn("[Deprecation Warning] '".concat(i,"' is deprecated. Please use '").concat(e,"' instead."))}})},t.deprecatedMethod=function(e){const{newKey:t,url:i}=s[e];t&&(i?console.warn("[Deprecation Warning] '".concat(e,"()' is deprecated. Please use '").concat(t,"()' instead. For more details, visit: %s"),"".concat(o).concat(i)):console.warn("[Deprecation Warning] '".concat(e,"()' is deprecated. Please use '").concat(t,"()' instead.")))};const o=i(335).DefaultConstructor.liveHelpLink;t.deprecatedEventMap={actionBegin:{newKey:"events.onActionStart",url:"component-api-v2.0/dashboard/dashboard-events/#onactionstart"},actionComplete:{newKey:"events.onActionComplete",url:"component-api-v2.0/dashboard/dashboard-events/#onactioncomplete"},ajaxBeforeLoad:{newKey:"events.onAjaxStart",url:"component-api-v2.0/dashboard/dashboard-events/#onajaxstart"},onResize:{newKey:"events.onResize",url:"component-api-v2.0/pinboard/pinboard-events/#onresize"},onError:{newKey:"events.onError",url:"component-api-v2.0/dashboard/dashboard-events/#onerror"},beforeContextMenuRender:{newKey:"events.viewer.beforeContextMenuRender",url:"component-api-v2.0/dashboard/dashboard-events/#beforecontextmenurender"},beforeNavigateUrlLinking:{newKey:"events.viewer.beforeUrlNavigation",url:"component-api-v2.0/dashboard/dashboard-events/#beforeurlnavigation"},beforeViewdataIconRender:{newKey:"events.viewer.beforeViewDataRender",url:"component-api-v2.0/dashboard/dashboard-events/#beforeviewdatarender"},"dashboardSettings.beforeIconRender":{newKey:"events.viewer.beforeToolBarItemsRender",url:"component-api-v2.0/dashboard/dashboard-events/#beforetoolbaritemsrender"},"dashboardSettings.onIconClick":{newKey:"events.viewer.onToolbarItemClick",url:"component-api-v2.0/dashboard/dashboard-events/#ontoolbaritemclick"},beforeDashboardMobileMenuOpen:{newKey:"events.viewer.beforeMobileMenuOpen",url:"component-api-v2.0/dashboard/dashboard-events/#beforemobilemenuopen"},"widgetSettings.beforeWidgetItemsListed":{newKey:"events.designer.beforeWidgetsListed",url:"component-api-v2.0/designer/designer-events/#beforewidgetslisted"},"dashboardSettings.beforeDesignerToolbarButtons":{newKey:"events.designer.beforeToolbarButtonsRender",url:"component-api-v2.0/designer/designer-events/#beforetoolbarbuttonsrender"},"dashboardSettings.beforeDesignerToolbarIconsRendered":{newKey:"events.designer.beforeToolbarIconsRender",url:"component-api-v2.0/designer/designer-events/#beforetoolbariconsrender"},"dashboardSettings.toolbarClick":{newKey:["events.designer.onToolbarItemClick","events.datasource.onToolbarItemClick"],url:["component-api-v2.0/designer/designer-events/#ontoolbaritemclick","component-api-v2.0/datasource/datasource-events/#ontoolbaritemclick"]},"dashboardSettings.beforePublishAs":{newKey:"events.designer.beforePublishDialogOpen",url:"component-api-v2.0/designer/designer-events/#beforepublishdialogopen"},"dashboardSettings.beforeDatasourceToolbarButtonsRendered":{newKey:"events.datasource.beforeToolbarButtonsRender",url:"component-api-v2.0/datasource/datasource-events/#beforetoolbarbuttonsrender"},"dashboardSettings.beforeDatasourceToolbarIconsRendered":{newKey:"events.datasource.beforeToolbarIconsRender",url:"component-api-v2.0/datasource/datasource-events/#beforetoolbariconsrender"},beforeDatasourceSave:{newKey:"events.datasource.beforeSave",url:"component-api-v2.0/datasource/datasource-events/#beforesave"},afterDatasourceSave:{newKey:"events.datasource.afterSave",url:"component-api-v2.0/datasource/datasource-events/#aftersave"},onDrag:{newKey:"events.pinboard.onDrag",url:"component-api-v2.0/pinboard/pinboard-events/#ondrag"},onDrop:{newKey:"events.pinboard.onDrop",url:"component-api-v2.0/pinboard/pinboard-events/#ondrop"},onLayoutChange:{newKey:"events.pinboard.onLayoutChange",url:"component-api-v2.0/pinboard/pinboard-events/#onlayoutchange"},onUnpin:{newKey:"events.pinboard.onUnpin",url:"component-api-v2.0/pinboard/pinboard-events/#onunpin"},"widgetSettings.beforeWidgetLayoutRender":{newKey:"events.widget.beforeLayoutRender",url:"component-api-v2.0/widget/widget-events/#beforelayoutrender"},"widgetSettings.beforeIconRender":{newKey:"events.widget.beforeToolBarItemsRender",url:"component-api-v2.0/widget/widget-events/#beforetoolbaritemsrender"},"widgetSettings.beforeWidgetControlMenuOpen":{newKey:"events.widget.beforeContextMenuRender",url:"component-api-v2.0/widget/widget-events/#beforecontextmenurender"},"widgetSettings.onIconClick":{newKey:"events.widget.onToolbarItemClick",url:"component-api-v2.0/widget/widget-events/#ontoolbaritemclick"},"widgetSettings.onWidgetControlMenuClick":{newKey:"events.widget.onToolbarItemClick",url:"component-api-v2.0/widget/widget-events/#ontoolbaritemclick"},afterFilterApply:{newKey:"events.filters.afterApply",url:"component-api-v2.0/dashboard/dashboard-events/#afterapply"},beforeFilterApply:{newKey:"events.filters.beforeApply",url:"component-api-v2.0/dashboard/dashboard-events/#beforeapply"},"dashboardSettings.onInteraction":{newKey:"events.filters.onInteraction",url:"component-api-v2.0/dashboard/dashboard-events/#oninteraction"},"dashboardSettings.onViewSavedFiltersClick":{newKey:"events.filters.onSavedFilterClick",url:"component-api-v2.0/dashboard/dashboard-events/#onsavedfilterclick"},"dashboardSettings.beforeSaveViewDialogOpen":{newKey:"events.filters.beforeSaveViewDialogOpen",url:"component-api-v2.0/dashboard/dashboard-events/#beforesaveviewdialogopen"},"dashboardSettings.beforeSaveAsViewDialogOpen":{newKey:"events.filters.beforeSaveAsViewDialogOpen",url:"component-api-v2.0/dashboard/dashboard-events/#beforesaveasviewdialogopen"}},t.deprecatedMemberMap={isBingMapRequired:{newKey:"settings.bingMapRequired",url:"component-api-v2.0/dashboard/dashboard-members/#bingmaprequired"},hideErrorMessage:{newKey:"settings.hideErrorMessage",url:"component-api-v2.0/dashboard/dashboard-members/#hideerrormessage"},restrictMobileView:{newKey:"settings.restrictMobileView",url:"component-api-v2.0/dashboard/dashboard-members/#restrictmobileview"},disableAutoRecover:{newKey:"settings.disableAutoRecover",url:"component-api-v2.0/designer/designer-members/#disableautorecover"},datasources:{newKey:"settings.datasources",url:"component-api-v2.0/designer/designer-members/#datasources"},"dashboardSettings.showHeader":{newKey:"settings.viewer.header",url:"component-api-v2.0/dashboard/dashboard-members/#header"},"dashboardSettings.showExport":{newKey:"settings.viewer.export",url:"component-api-v2.0/dashboard/dashboard-members/#viewerexport"},"dashboardSettings.showRefresh":{newKey:"settings.viewer.refresh",url:"component-api-v2.0/dashboard/dashboard-members/#refresh"},"dashboardSettings.showMoreOption":{newKey:"settings.viewer.moreOption",url:"component-api-v2.0/dashboard/dashboard-members/#moreoption"},"dashboardSettings.showMetrics":{newKey:"settings.viewer.metrics",url:"component-api-v2.0/dashboard/dashboard-members/#metrics"},"dashboardSettings.enableFullScreen":{newKey:"settings.viewer.fullScreen",url:"component-api-v2.0/dashboard/dashboard-members/#fullscreen"},"dashboardSettings.showDashboardParameter":{newKey:"settings.viewer.dashboardParameter",url:"component-api-v2.0/dashboard/dashboard-members/#dashboardparameter"},"dashboardSettings.dashboardName":{newKey:"settings.viewer.dashboardName",url:"component-api-v2.0/dashboard/dashboard-members/#dashboardname"},"dashboardSettings.enableFilterOverview":{newKey:"settings.viewer.filterOverview.enabled",url:"component-api-v2.0/dashboard/dashboard-members/#filteroverviewenabled"},"dashboardSettings.filterOverviewSettings.showSaveAsIcon":{newKey:"settings.viewer.filterOverview.saveAs",url:"component-api-v2.0/dashboard/dashboard-members/#save"},"dashboardSettings.filterOverviewSettings.showSaveIcon":{newKey:"settings.viewer.filterOverview.save",url:"component-api-v2.0/dashboard/dashboard-members/#saveas"},"dashboardSettings.filterOverviewSettings.showViewSavedFilterIcon":{newKey:"settings.viewer.filterOverview.viewSavedFilter",url:"component-api-v2.0/dashboard/dashboard-members/#viewsavedfilter"},"dashboardSettings.filterOverviewSettings.viewId":{newKey:"settings.viewer.filterOverview.viewId",url:"component-api-v2.0/dashboard/dashboard-members/#viewid"},"dashboardSettings.filterOverviewSettings.viewName":{newKey:"settings.viewer.filterOverview.viewName",url:"component-api-v2.0/dashboard/dashboard-members/#viewname"},"designCanvasSettings.margin":{newKey:"settings.designCanvas.margin",url:"component-api-v2.0/dashboard/dashboard-members/#margin"},"widgetContainerSettings.margin":{newKey:"settings.viewer.widgetContainer.margin",url:"component-api-v2.0/dashboard/dashboard-members/#widgetcontainermargin"},"widgetContainerSettings.boxShadow":{newKey:"settings.viewer.widgetContainer.boxShadow",url:"component-api-v2.0/dashboard/dashboard-members/#boxshadow"},"autoRefreshSettings.enabled":{newKey:"settings.viewer.autoRefresh.enabled",url:"component-api-v2.0/dashboard/dashboard-members/#autorefreshenabled"},"autoRefreshSettings.hourlySchedule.hours":{newKey:"settings.viewer.autoRefresh.hourlySchedule.hours",url:"component-api-v2.0/dashboard/dashboard-members/#hourlyschedulehours"},"autoRefreshSettings.hourlySchedule.minutes":{newKey:"settings.viewer.autoRefresh.hourlySchedule.minutes",url:"component-api-v2.0/dashboard/dashboard-members/#hourlyscheduleminutes"},"autoRefreshSettings.hourlySchedule.seconds":{newKey:"settings.viewer.autoRefresh.hourlySchedule.seconds",url:"component-api-v2.0/dashboard/dashboard-members/#hourlyscheduleseconds"},"dashboardSettings.showPreviewAs":{newKey:"settings.designer.previewAs",url:"component-api-v2.0/designer/designer-members/#previewas"},"dashboardSettings.widgetsPanel.hideDefaultWidgets":{newKey:"settings.designer.widgetsPanel.hideDefaultWidgets",url:"component-api-v2.0/designer/designer-members/#hidedefaultwidgets"},"dashboardSettings.widgetsPanel.hideExistingWidgets":{newKey:"settings.designer.widgetsPanel.hideExistingWidgets",url:"component-api-v2.0/designer/designer-members/#hideexistingwidgets"},"dashboardSettings.widgetsPanel.existingDashboards":{newKey:"settings.designer.widgetsPanel.existingDashboards",url:"component-api-v2.0/designer/designer-members/#existingdashboards"},"dashboardSettings.dataSourceConfig.hideDataSourceConfig":{newKey:"settings.designer.dataSourceConfig.hideDataSourceConfig",url:"component-api-v2.0/designer/designer-members/#hidedatasourceconfig"},"dashboardSettings.dataSourceConfig.hideSampleDataSources":{newKey:"settings.designer.dataSourceConfig.hideSampleDataSources",url:"component-api-v2.0/designer/designer-members/#hidesampledatasources"},"dashboardSettings.dataSourceConfig.hideDataSourceList":{newKey:"settings.designer.dataSourceConfig.hideDataSourceList",url:"component-api-v2.0/designer/designer-members/#hidedatasourcelist"},"dashboardSettings.dataSourceConfig.hideExpression":{newKey:"settings.designer.dataSourceConfig.hideExpression",url:"component-api-v2.0/designer/designer-members/#hideexpression"},"preConfiguredWidgets.dashboardId":{newKey:"settings.designer.preConfiguredWidgets.dashboardId",url:"component-api-v2.0/designer/designer-members/#preconfiguredwidgetsdashboardid"},"preConfiguredWidgets.categoryName":{newKey:"settings.designer.preConfiguredWidgets.categoryName",url:"component-api-v2.0/designer/designer-members/#categoryname"},"dashboardSettings.viewDataSettings.showAllColumns":{newKey:"settings.viewData.allColumns",url:"component-api-v2.0/designer/designer-members/#allcolumns"},"dashboardSettings.viewDataSettings.enableExporting":{newKey:"settings.viewData.exporting",url:"component-api-v2.0/designer/designer-members/#exporting"},"dashboardSettings.viewDataSettings.enableColumnSelection":{newKey:"settings.viewData.columnSelection",url:"component-api-v2.0/designer/designer-members/#columnselection"},"dashboardSettings.themeSettings.appearance":{newKey:"settings.theme.appearance",url:"component-api-v2.0/dashboard/dashboard-members/#appearance"},"dashboardSettings.themeSettings.application":{newKey:"settings.theme.application",url:"component-api-v2.0/dashboard/dashboard-members/#application"},"dashboardSettings.themeSettings.dashboard":{newKey:"settings.theme.dashboard",url:"component-api-v2.0/dashboard/dashboard-members/#dashboard"},"dashboardSettings.themeSettings.isLocalTheme":{newKey:"settings.theme.localTheme",url:"component-api-v2.0/dashboard/dashboard-members/#localTheme"},"dashboardSettings.fontFamily":{newKey:"settings.theme.fontFamily",url:"component-api-v2.0/dashboard/dashboard-members/#fontFamily"},"widgetSettings.showExport":{newKey:"settings.widget.export",url:"component-api-v2.0/widget/widget-members/#widgetexport"},"widgetSettings.showFilter":{newKey:"settings.widget.filter",url:"component-api-v2.0/widget/widget-members/#filter"},"widgetSettings.showMaximize":{newKey:"settings.widget.maximize",url:"component-api-v2.0/widget/widget-members/#maximize"},"widgetSettings.showMoreOption":{newKey:"settings.widget.moreOption",url:"component-api-v2.0/widget/widget-members/#moreoption"},"dynamicConnection.isEnabled":{newKey:"settings.dynamicConnection.enabled",url:"component-api-v2.0/dashboard/dashboard-members/#dynamicconnectionenabled"},"dynamicConnection.identity":{newKey:"settings.dynamicConnection.identity",url:"component-api-v2.0/dashboard/dashboard-members/#identity"},"pinboardSettings.enablePinboardHeader":{newKey:"settings.pinboard.header",url:"component-api-v2.0/pinboard/pinboard-members/#header"},"pinboardSettings.enableUnpinWidget":{newKey:"settings.pinboard.unpinWidget",url:"component-api-v2.0/pinboard/pinboard-members/#unpinWidget"},"exportSettings.showCSV":{newKey:"settings.export.csv",url:"component-api-v2.0/dashboard/dashboard-members/#csv"},"exportSettings.showExcel":{newKey:"settings.export.excel",url:"component-api-v2.0/dashboard/dashboard-members/#excel"},"exportSettings.showImage":{newKey:"settings.export.image",url:"component-api-v2.0/dashboard/dashboard-members/#image"},"exportSettings.showPDF":{newKey:"settings.export.pdf",url:"component-api-v2.0/dashboard/dashboard-members/#pdf"},"customBrandSettings.hideHelpLink":{newKey:"settings.brand.hideHelpLink",url:"component-api-v2.0/designer/designer-members/#hidehelplink"},"customBrandSettings.customDomain":{newKey:"settings.brand.domain",url:"component-api-v2.0/designer/designer-members/#domain"},"languageSettings.hideLanguageDropdown":{newKey:"settings.language.hideDropdown",url:"component-api-v2.0/dashboard/dashboard-members/#hidedropdown"},"languageSettings.languageCode":{newKey:"settings.language.code",url:"component-api-v2.0/dashboard/dashboard-members/#code"},"localeSettings.culture":{newKey:"settings.locale.culture",url:"component-api-v2.0/dashboard/dashboard-members/#culture"},"localeSettings.dateFormat":{newKey:"settings.locale.dateFormat",url:""},"localeSettings.timeFormat":{newKey:"settings.locale.timeFormat",url:""},"localeSettings.appLocale":{newKey:"settings.locale.appLocale",url:"component-api-v2.0/dashboard/dashboard-members/#applocale"},"embedAiAssistant.enabled":{newKey:"settings.aiAssistant.enabled",url:"component-api-v2.0/dashboard/dashboard-members/#enabled"},"embedAiAssistant.position":{newKey:"settings.aiAssistant.position",url:""},"embedAiAssistant.name":{newKey:"settings.aiAssistant.name",url:"component-api-v2.0/dashboard/dashboard-members/#name"},"embedAiAssistant.hideAiDataUsage":{newKey:"settings.aiAssistant.hideUsageAnalytics",url:"component-api-v2.0/dashboard/dashboard-members/#hideusageanalytics"},"embedAiAssistant.hideAiChatHelp":{newKey:"settings.aiAssistant.hideChatHelp",url:"component-api-v2.0/dashboard/dashboard-members/#hidechathelp"},"embedAiAssistant.summary.enabled":{newKey:"settings.aiAssistant.summary.enabled",url:"component-api-v2.0/dashboard/dashboard-members/#summaryenabled"},"embedAiAssistant.summary.includeWidgetSummary":{newKey:"settings.aiAssistant.summary.widget",url:"component-api-v2.0/dashboard/dashboard-members/#summarywidget"},"embedAiAssistant.summary.includeDashboardSummary":{newKey:"settings.aiAssistant.summary.dashboard",url:"component-api-v2.0/dashboard/dashboard-members/#summarydashboard"}};const s={destroy:{newKey:"dispose",url:"component-api-v2.0/dashboard/dashboard-methods/#dispose"},hideWaitingIndicator:{newKey:"hideLoader",url:"component-api-v2.0/dashboard/dashboard-methods/#hideloader"},updateDashboardTheme:{newKey:"applyTheme",url:"component-api-v2.0/dashboard/dashboard-methods/#applytheme"},validateServerAndWrapperVersion:{newKey:"checkCompatibility",url:"component-api-v2.0/dashboard/dashboard-methods/#checkcompatibility"},destroyStyles:{newKey:"removeStyles",url:"component-api-v2.0/dashboard/dashboard-methods/#removestyles"},addStyles:{newKey:"applyStyles",url:"component-api-v2.0/dashboard/dashboard-methods/#applystyles"},loadMultitabDashboard:{newKey:"loadTabbedDashboards",url:"component-api-v2.0/multi-tab/multi-tab-methods/#loadtabbeddashboards"},refreshDashboard:{newKey:"viewer.refresh",url:"component-api-v2.0/dashboard/dashboard-methods/#refresh"},resizeDashboard:{newKey:"viewer.resize",url:"component-api-v2.0/dashboard/dashboard-methods/#resize"},clearAllFilter:{newKey:"viewer.resetFilter",url:"component-api-v2.0/dashboard/dashboard-methods/#resetfilter"},updateFilters:{newKey:"viewer.updateFilters",url:"component-api-v2.0/dashboard/dashboard-methods/#updatefilters"},exportWidgetAsExcel:{newKey:"viewer.exportAsExcel",url:"component-api-v2.0/widget/widget-methods/#exportasexcel"},exportWidgetAsImage:{newKey:"viewer.exportAsImage",url:"component-api-v2.0/widget/widget-methods/#exportasimage"},exportWidgetAsPdf:{newKey:"viewer.exportAsPdf",url:"component-api-v2.0/widget/widget-methods/#exportaspdf"},exportWidgetAsCsv:{newKey:"viewer.exportAsCSV",url:"component-api-v2.0/widget/widget-methods/#exportascsv"},exportDashboardAsExcel:{newKey:"viewer.resize",url:"component-api-v2.0/dashboard/dashboard-methods/#exportasexcel"},exportDashboardAsImage:{newKey:"viewer.resetFilter",url:"component-api-v2.0/dashboard/dashboard-methods/#exportasimage"},exportDashboardAsPdf:{newKey:"viewer.updateFilters",url:"component-api-v2.0/dashboard/dashboard-methods/#exportaspdf"},addDashboardComment:{newKey:"viewer.addComment",url:"component-api-v2.0/dashboard/dashboard-methods/#addcomment"},editDashboardComment:{newKey:"viewer.editComment",url:"component-api-v2.0/dashboard/dashboard-methods/#editcomment"},deleteDashboardComment:{newKey:"viewer.deleteComment",url:"component-api-v2.0/dashboard/dashboard-methods/#deletecomment"},addWidgetComment:{newKey:"viewer.addComment",url:"component-api-v2.0/widget/widget-methods/#addcomment"},editWidgetComment:{newKey:"viewer.editComment",url:"component-api-v2.0/widget/widget-methods/#editcomment"},deleteWidgetComment:{newKey:"viewer.deleteComment",url:"component-api-v2.0/widget/widget-methods/#deletecomment"},getComments:{newKey:"viewer.fetchComments",url:"component-api-v2.0/dashboard/dashboard-methods/#fetchcomments"},loadMultipleWidgets:{newKey:"loadWidgets",url:"component-api-v2.0/widget/widget-methods/#loadwidgets"},loadDashboardWidget:{newKey:"loadWidget",url:"component-api-v2.0/widget/widget-methods/#loadwidget"},getWidgetData:{newKey:"widget.fetchData",url:"component-api-v2.0/widget/widget-methods/#fetchdata"},refreshWidgetData:{newKey:"widget.refresh",url:"component-api-v2.0/widget/widget-methods/#refresh"},getWidgetInstance:{newKey:"widget.getInstance",url:"component-api-v2.0/widget/widget-methods/#getinstance"},updateWidgetFilters:{newKey:"widget.updatefilters",url:"component-api-v2.0/widget/widget-methods/#updatefilters"},removeWidgetInstance:{newKey:"widget.dispose",url:"component-api-v2.0/widget/widget-methods/#dispose"},setFilterParameters:{newKey:"setFilters",url:"component-api-v2.0/widget/widget-methods/#setfilters"},deleteFilterView:{newKey:"view.delete",url:"component-api-v2.0/dashboard/dashboard-methods/#delete"},updateFilterView:{newKey:"view.update",url:"component-api-v2.0/dashboard/dashboard-methods/#update"},saveFilterView:{newKey:"view.save",url:"component-api-v2.0/dashboard/dashboard-methods/#save"},saveAsFilterView:{newKey:"view.saveAs",url:"component-api-v2.0/dashboard/dashboard-methods/#saveas"},getViewByViewId:{newKey:"view.fetchById",url:"component-api-v2.0/dashboard/dashboard-methods/#fetchbyid"},getViewsByDashboardId:{newKey:"view.fetchByDashboardId",url:"component-api-v2.0/dashboard/dashboard-methods/#fetchbydashboardid"},addWidgetToPinboard:{newKey:"pinboard.addWidget",url:"component-api-v2.0/pinboard/pinboard-methods/#addwidget"},updateDatasource:{newKey:"dataSource.refresh",url:"component-api-v2.0/datasource/datasource-methods/#refresh"},saveDashboard:{newKey:"designer.publish",url:"component-api-v2.0/designer/designer-methods/#publish"},getDashboardCategories:{newKey:"fetchCategories",url:"component-api-v2.0/dashboard/dashboard-methods/#fetchcategories"},createDashboardCategory:{newKey:"createCategory",url:"component-api-v2.0/dashboard/dashboard-methods/#createcategory"}}},14(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.successMessages=t.errorMessages=void 0,t.errorMessages={EmbedModeInvalid:"Invalid embedded mode.",EmptyWidgetID:"Widget id and name cannot not be empty.",EmptyWidgetName:"Widget name cannot not be empty.",InvalidAllWidgetNames:"All the widget names are invalid.",UnableWidgetRender:"Unable to render the widget in design mode.",PinboardNameEmpty:"The pinboard name cannot be empty.",EmptyWidgetList:"Please provide the widget details with the containerID in an array.",ArrayWidgetNames:"Unable to refresh the widget. The widgetName should be in an array.",WidgetNameSpecialChar:"Please avoid using special characters in widget name.",InvalidDbrdAndWidget:"Please provide a valid dashboard ID and widget ID.",InvalidWidgetName:"Please provide a valid widget name.",InvalidDashboardID:"Please provide a valid dashboard ID.",InvalidChildDbrdID:"Please provide a valid child dashboard ID.",InvalidViewName:"Please provide a valid view name.",InvalidQueryString:"Please provide a valid query string.",EmptyViewDetails:"View details must not be empty.",InvalidViewID:"Please provide a valid view ID.",InvalidEmbedType:"Invalid EmbedType.",UnablePinboardRender:"Unable to render the pinboard in design mode.",InitFetch:"Data fetching has been initiated.",InvalidBoldBIURL:"Invalid Bold BI serverUrl.",EnvironmentMemberError:"Server not found. If you are using Cloud BI Server, please ensure that the Environment member is set on the client side.",ServerNotFound:"server Not Found.",InvalidDbrdDetails:"The provided dashboard details are invalid.",InvalidPinboardName:"Please provide a valid pinboard name.",AccessDeniedItem:"Access denied for the item.",NotRenderMultitabDashboard:"A multitab dashboard cannot be rendered in designer mode.",ErrorInBoldBIDesigner:"BoldBIDashboardDesigner is not defined.",DbrdDownloadError:"There was an error while downloading the dashboards.",bbEmbedNotDefined:"bbEmbed is not defined.",LayoutFailure:"The change in layout failed due to ",DragAndDropError:"Drag and drop failure due to ",DbrdPathTokenAPIError:"The token API does not support rendering a dashboard with the specified dashboardPath.",DataSourceTokenAPIError:"The Token API does not support rendering the dashboard with the datasourceName.",ViewNameTokenAPIError:"The Token API does not support rendering a dashboard with the viewName.",InvalidAccessToken:"Please provide a valid access token.",InvalidApiKey:"Please provide a valid API Key.",ViewDetailsNotFound:"View details not found.",WidgetNameTokenAPIError:"The Token API does not support rendering widgets with the widgetName.",EnsureServerOrSDKVersion:"Unable to ensure the server version and SDK version for cloud environment.",ErrorLoadMultipleWidget:"Error: To render multiple widgets, please use the loadMultipleWidget() method.",EmptyDbrdCreate:"Please provide the DashboardId in BoldBI.Create().",ExistedViewName:"The view name already exists.",InvalidReplyCommentID:"Please provide a valid ID for the reply comment.",InvalidCommentText:"Please provide a comment that is valid.",InvalidDbrdOrWidgetID:"Please provide a valid dashboard or widget ID.",InvalidCommentID:"Please provide a valid comment ID.",NetworkIssue:"Not connected. Please check the network.",NotFound:"Not Found.",ViewIDNotFound:"The view id was not found. Please provide a valid view id.",PageNotFound:"The requested page could not be found (404).",InternalServerError:"Internal Server Error (500).",UncaughtError:"An uncaught error has occurred.",AuthorizationServerMissing:"Access has been denied because the authorization server URL is missing in the BoldBI.Create() method.",InvalidEmbedContainerID:"Please provide the valid embed container Id.",EmptyServerURL:"The server URL cannot be empty.",InvalidServerURL:"Please provide a valid server URL.",InvalidDashboardPath:"Invalid dashboard path: ",EmptyDbrdOrViewID:"Dashboard ID, path, and view ID cannot be empty.",EmptyDatasourceDetails:"Data source ID and name cannot be empty.",MultitabDbrdWidgetRender:"Unable to render the widget from multitab dashboard.",UnableAddWidget:"Unable to add the widget due to ",PageUnavailable:"The page you are looking for was unavailable.",ObjectRefNotSet:"Object reference not set to an instance of an object.",AvoidSplChar:"Please avoid using special characters.",EmptyViewName:"Please enter the name of the view.",NotMatchVersion:"The Embedded SDK version does not match the Bold BI Server version.",CantReadNull:"Cannot read property append of null",NotImplementedMethod:"The LoadDashboardView method has not been implemented.",InvalidThemeName:"Please provide a valid dashboard theme name",BoldBIEmbedded:"BoldBI Embedded: ",ProvideCreatePermission:"Please provide permission to create the dashboard.",AnonymousEmailandGroup:"Please provide a user email and group name to access the group for an anonymous user",AnonymousEmail:"Please provide an anonymous user email.",AnonymousGroup:"Please provide a group name to access the group for an anonymous user.",DomainMaskingError:"Please remove the authorization URL or token API when when domain masking is enabled.",InvalidEditAccess:"Write access is required to render the dashboard in Designer mode.",DashboardNotAvailable:"The requested dashboard could not be loaded. Please verify the configuration or try again later.",NotRenderMultitabDashboardForAnonymousUser:"Anonymous users are not allowed to view or design multi-tab dashboards.",UnablePinboardRenderEmbedToken:"Pinboard dashboards are not supported when using the embed token.",UnableDatasourceRenderEmbedToken:"Creating or editing data sources is not supported when using the embed token.",UnableMultitabDashboardToken:"Embedding multi-tab dashboards is not supported when using the token and embed token api member.",UnableViewEmbedToken:"Dashboard View is not not supported when using the embed token.",UnableMultipleWidgetsToken:"Embedding multiple widgets is not supported when using the token and embed token api member.",UnableDraftWithEmbedToken:"Draft dashboards is not supported when using the embed token.",NotRenderDesignerForAnonymousUser:"Anonymous users are not allowed to design dashboards",InvalidWidgetID:"The provided Widget Id appears to be a GUID but is not in a valid format.Please provide valid widget Id",EmptyDbrdOrViewIDForToken:"Dashboard ID and view ID cannot be empty.",NullResponse:"No response was received from the authorization server or token endpoint.",InvalidResponse:"An invalid response was received from the authorization server or the token endpoint.",AIAgentInitializationFailed:"The essential file BoldBIAI could not be loaded. Please check the browsers developer console for network errors and ensure all required AI agent dependencies are correctly included and accessible."},t.successMessages={UpdateFilterViewMsg:"and you can add custom functionalities using viewId:",NonDefaultViewInfoMsg:"If enabled, the current view will be set as your default view for this dashboard.",DefaultViewInfoMsg:"Based on your dashboard settings in Bold BI, these filters will be applied by default the next time the dashboard is rendered.",MatchVersion:"The embedded SDK version matches the Bold BI Server version."}},192(e,t,i){t.BoldBI=void 0;const o=i(14),s=i(561),n=i(335),d=i(9);let a,r;class l{constructor(e){this._authorizeResponse=null,this.loadPinboard=this.Invoke(function(){if(!this.invalidDetail){if(""==this.embedOptions.pinboardName)throw new Error(o.errorMessages.PinboardNameEmpty);if(this.embedOptions.mode!=l.Mode.View)throw new Error(o.errorMessages.UnablePinboardRender);if(this.embedOptions.dashboardIds=[],this.embedOptions.dashboardPaths=[],!this._checkWidgetList())if(this.embedOptions.embedType==l.EmbedType.Component)this._setEmbedDefaults(),this.isPinboardRendering=!0,this._showLoader(),this._isDependencyLoaded(this);else if(this.embedOptions.embedType==l.EmbedType.IFrame){const e=document.createElement("iframe");e.frameBorder=0,e.width=this.embedOptions.width,e.height=this.embedOptions.height,e.id=this.embedOptions.embedContainerId+"_"+this.embedOptions.dashboardId,e.allowfullscreen=this.embedOptions.dashboardSettings.showFullScreen,e.setAttribute("src",this.embedOptions.serverUrl+"/dashboards/"+this.embedOptions.dashboardId+"?isembed=true"),document.getElementById(this.embedOptions.embedContainerId).appendChild(e)}}}),this.loadDatasource=this.Invoke(function(){if(!this.invalidDetail&&((this.embedOptions.dashboardId||this.embedOptions.dashboardPath)&&(this.embedOptions.dashboardId=this.embedOptions.dashboardPath=""),""!=this.embedOptions.pinboardName&&(this.embedOptions.pinboardName=""),!this._checkWidgetList())){if(this.embedOptions.mode!=l.Mode.DataSource&&this.embedOptions.mode!=l.Mode.Connection)throw new Error(o.errorMessages.EmbedModeInvalid);if(this.embedOptions.embedType==l.EmbedType.Component)this.isWidgetMode=!1,this.widgetName="",this.isDashboardViewMode=!1,this.dashboardViewName="",this._showLoader(),this._isDependencyLoaded(this);else if(this.embedOptions.embedType==l.EmbedType.IFrame){const e=document.createElement("iframe");e.frameBorder=0,e.width=this.embedOptions.width,e.height=this.embedOptions.height,e.id=this.embedOptions.embedContainerId+"_"+this.embedOptions.datasourceId,e.allowfullscreen=this.embedOptions.dashboardSettings.showFullScreen,e.setAttribute("src",this.embedOptions.serverUrl+"/datasource-designer/"+this.embedOptions.datasourceId+"?isembed=true"),document.getElementById(this.embedOptions.embedContainerId).appendChild(e)}}}),this.viewer={refresh:()=>{this.deprecated=!1,this.refreshDashboard()},resize:()=>{this.deprecated=!1,this.resizeDashboard()},resetFilter:()=>{this.deprecated=!1,this.clearAllFilter()},updateFilters:e=>{this.deprecated=!1,this.updateFilters(e)},exportAsExcel:e=>{this.deprecated=!1,e.widgetName?this.exportWidgetAsExcel(e):this.exportDashboardAsExcel(e)},exportAsImage:e=>{this.deprecated=!1,e.widgetName?this.exportWidgetAsImage(e):this.exportDashboardAsImage(e)},exportAsPdf:e=>{this.deprecated=!1,e.widgetName?this.exportWidgetAsPdf(e):this.exportDashboardAsPdf(e)},exportAsCSV:e=>{this.deprecated=!1,e.widgetName&&this.exportWidgetAsCsv(e)},addComment:(e,t)=>{this.deprecated=!1,e.widgetId?this.addWidgetComment(e,t):this.addDashboardComment(e,t)},editComment:(e,t)=>{this.deprecated=!1,e.widgetId?this.editWidgetComment(e,t):this.editDashboardComment(e,t)},deleteComment:(e,t)=>{this.deprecated=!1,e.widgetId?this.deleteWidgetComment(e,t):this.deleteDashboardComment(e,t)},fetchComments:(e,t,i)=>{this.deprecated=!1,this.getComments(e,t,i)}},this.pinboard={addWidget:(e,t,i)=>{this.deprecated=!1,this.addWidgetToPinboard(e,t,i)}},this.dataSource={refresh:()=>{this.deprecated=!1,this.updateDatasource()}},this.designer={publish:(e,t)=>{this.deprecated=!1,this.saveDashboard(e,t)}},this.widget={fetchData:(e,t,i)=>{this.deprecated=!1,this.getWidgetData(e,t,i)},refresh:(e,t,i)=>{this.deprecated=!1,this.refreshWidgetData(e,t,i)},getInstance:e=>(this.deprecated=!1,this.getWidgetInstance(e)),updatefilters:e=>{this.deprecated=!1,this.updateWidgetFilters(e)},dispose:e=>{this.deprecated=!1,this.removeWidgetInstance(e),this.deprecated=!1}},this.view={delete:(e,t)=>{this.deprecated=!1,this.deleteFilterView(e,t)},update:(e,t)=>{this.deprecated=!1,this.updateFilterView(e,t)},save:(e,t)=>{this.deprecated=!1,this.saveFilterView(e,t)},saveAs:(e,t)=>{this.deprecated=!1,this.saveAsFilterView(e,t)},fetchById:(e,t)=>{this.deprecated=!1,this.getViewByViewId(e,t)},fetchByDashboardId:(e,t)=>{this.deprecated=!1,this.getViewsByDashboardId(e,t)}},this._initializeUrls=this.Invoke(function(){if(this.embedOptions.enableDomainMasking){if(""===this.embedOptions.authorizationServer.url&&""===this.embedOptions.token&&""===this.embedOptions.embedToken)return this.designerRootUrl=this.embedOptions.serverUrl,!0;throw new Error(o.errorMessages.DomainMaskingError)}if(this.embedOptions.serverUrl.indexOf("/bi")<=0)throw new Error(o.errorMessages.InvalidBoldBIURL);return this.embedOptions.environment==l.Environment.Enterprise?(this.rootUrl=this.embedOptions.serverUrl.substr(0,this.embedOptions.serverUrl.indexOf("/bi/")>=0?this.embedOptions.serverUrl.indexOf("/bi/")+3:this.embedOptions.serverUrl.indexOf("/bi")+3),this.baseUrl=this.embedOptions.serverUrl,this.siteIdentifier=this.embedOptions.serverUrl.indexOf("/site/")>=0?this.embedOptions.serverUrl.substr(this.embedOptions.serverUrl.indexOf("/site/")+1):"",this.dashboardServerApiUrl=this.rootUrl+"/api"+(this._isEmptyOrSpaces(this.siteIdentifier)?"":"/"+this.siteIdentifier),this.designerRootUrl=this.rootUrl+"/designer",this.customThemeUrl=this.rootUrl.replace(/\/bi(?!.*\/bi)/,"/ums/theme/styles")):(this.rootUrl=this.embedOptions.serverUrl.endsWith("/")?this.embedOptions.serverUrl.slice(0,-1):this.embedOptions.serverUrl,this.baseUrl=this.embedOptions.serverUrl,this.siteIdentifier="",this.dashboardServerApiUrl=this.rootUrl+"/api"),this.scheduleEndpointUrl=this.baseUrl+"/datasources/recurrence-type-page",!0}),this._addJquerydependentFiles=this.Invoke(function(){if(this._checkDepedentFileExists(this.jQueryDepedentFile,!1)||void 0!=window.jQuery&&"3.5.0"==window.jQuery().jquery){const e=setInterval(()=>{window.jQuery&&(clearInterval(e),a=window.bbEmbed=window.$,"undefined"!=typeof window.bb$&&(a=window.bbEmbed=window.bb$),this._addWrapperDependentFiles(this,this.wrapperDependentScriptFiles),this._loadDepedentFiles())},1e3)}else{const t=document.createElement("script");if(this.embedOptions.environment==l.Environment.Enterprise){var e=this.embedOptions.enableDomainMasking?this.maskedCdnUrl+this.embedSDKWrapperVersion+"/script/"+this.jQueryDepedentFile:this.rootUrl+"/cdn/scripts/designer/"+this.jQueryDepedentFile;t.setAttribute("src",e)}else t.setAttribute("src",this.cdnLink+"/scripts/designer/"+this.jQueryDepedentFile);this.embedOptions.nonce&&(t.nonce=this.embedOptions.nonce),document.head.appendChild(t),t.onload=()=>{try{const e=document.createElement("script");e.append(this.jqConflictFile),this.embedOptions.nonce&&(e.nonce=this.embedOptions.nonce),document.head.appendChild(e),a=window.bbEmbed=window.bb$,this._addWrapperDependentFiles(this,this.wrapperDependentScriptFiles),this._loadDepedentFiles()}catch(e){this._throwError(o.errorMessages.ServerNotFound),this.invalidDetail=!0}},t.onerror=e=>this._handleEnvironmentError(e)}}),this._renderDashboard=this.Invoke(function(e){var t,i,s,n,d,r,h,m,c,b,p,u,v,g,w,f,I,y,O,D,S,_,E,C,A,x,M,F,T,k,B,N,W,P,R,V,U,L,z,j,K,H,q,Q,G,J,Z,Y,X,$,ee,te,ie,oe,se,ne,de,ae,re,le,he,me,ce,be,pe,ue,ve,ge,we,fe,Ie,ye,Oe,De,Se,_e,Ee,Ce,Ae,xe,Me,Fe,Te,ke,Be,Ne,We,Pe,Re,Ve,Ue,Le,ze,je,Ke,He,qe,Qe,Ge,Je,Ze,Ye,Xe,$e,et,tt,it,ot,st,nt,dt,at,rt,lt,ht,mt,ct,bt,pt,ut,vt,gt,wt,ft,It,yt,Ot,Dt,St,_t,Et,Ct,At,xt,Mt,Ft,Tt,kt,Bt,Nt,Wt,Pt,Rt,Vt,Ut,Lt,zt,jt,Kt,Ht,qt,Qt,Gt,Jt,Zt,Yt,Xt,$t,ei,ti,ii,oi,si,ni,di,ai,ri,li,hi,mi,ci,bi,pi,ui,vi,gi,wi,fi,Ii,yi,Oi,Di,Si,_i,Ei,Ci,Ai,xi,Mi,Fi,Ti,ki,Bi,Ni,Wi,Pi,Ri,Vi,Ui,Li,zi,ji,Ki,Hi,qi,Qi,Gi,Ji,Zi,Yi,Xi,$i,eo,to,io,oo,so,no,ao,ro,lo,ho,mo,co,bo,po,uo,vo,go,wo,fo,Io,yo,Oo,Do,So,_o,Eo,Co,Ao,xo,Mo,Fo,To,ko,Bo,No,Wo,Po,Ro,Vo,Uo,Lo,zo,jo,Ko,Ho,qo,Qo,Go,Jo,Zo,Yo,Xo,$o,es,ts,is,os,ss,ns,ds,as,rs,ls,hs,ms,cs,bs,ps,us,vs,gs,ws,fs,Is,ys,Os,Ds,Ss,_s,Es,Cs,As,xs,Ms,Fs,Ts,ks,Bs,Ns,Ws,Ps,Rs,Vs,Us,Ls,zs,js,Ks,Hs,qs,Qs,Gs,Js,Zs,Ys,Xs,$s,en,tn,on,sn,nn,dn,an,rn,ln,hn,mn,cn,bn,pn,un,vn,gn,wn,fn,In,yn,On,Dn,Sn,_n,En,Cn,An,xn,Mn,Fn,Tn,kn,Bn,Nn,Wn,Pn,Rn,Vn,Un,Ln,zn,jn,Kn,Hn,qn,Qn,Gn,Jn,Zn,Yn,Xn,$n,ed,td,id;const od=this;if(null==e)throw new Error(o.errorMessages.NullResponse);const sd=e.Data;if(!e.Status&&!this.embedOptions.enableDomainMasking)throw e.errorMessage==o.errorMessages.PageUnavailable&&(e.Status=!1,e.Message=e.errorMessage),e.Message===o.errorMessages.ObjectRefNotSet&&("view"!==this.embedOptions.mode&&"design"!==this.embedOptions.mode||(this._isEmptyOrSpaces(this.embedOptions.dashboardId)&&this._isEmptyOrSpaces(this.embedOptions.dashboardPath)||(e.Message=o.errorMessages.InvalidDbrdDetails),this._isEmptyOrSpaces(this.embedOptions.pinboardName)||(e.Message=o.errorMessages.InvalidPinboardName))),void 0==e.Message?new Error(o.errorMessages.InvalidResponse):new Error(e.Message);{if(Array.isArray(e.Data)&&this._isEmptyOrSpaces(this.embedOptions.dashboardId)&&this._isEmptyOrSpaces(this.embedOptions.dashboardPath)){for(const t of e.Data)if("ErrorMessage"in t){const i="BoldBI Embedded: ".concat(t.ErrorMessage);if(this._isNullOrUndefined(this.embedOptions.events.onError)||""===this.embedOptions.events.onError)console.error(i);else{const e=new Error(i);this.onErrorClient(e)}e.Data=e.Data.filter(e=>e!==t)}if(sd.filter(e=>"ErrorMessage"in e&&e.ErrorMessage.includes("Access denied for the item")).length===sd.length)throw new Error(o.errorMessages.AccessDeniedItem);if(!e.Data.length)throw new Error(o.errorMessages.InvalidDbrdDetails)}const ad=e.Data;if(""!=this.embedOptions.pinboardName&&0==this.pinboardIds.length){if(!ad.ColumnInfo)throw new Error(o.errorMessages.InvalidPinboardName);this._renderPinboard(ad)}else if(!this._isNullOrUndefined(ad)&&ad.length){if(this.isWidgetMode){const e=document.getElementById(this.embedOptions.embedContainerId);throw l._hasinstance(e,"embeddedBoldBI")&&l._removeinstance(e,"embeddedBoldBI"),new Error(o.errorMessages.MultitabDbrdWidgetRender)}if(this.embedOptions.mode!=l.Mode.View){const e=document.getElementById(this.embedOptions.embedContainerId);throw l._hasinstance(e,"embeddedBoldBI")&&l._removeinstance(e,"embeddedBoldBI"),new Error(o.errorMessages.NotRenderMultitabDashboard)}this._renderMultiTabDashboard(ad)}else{let sd;this.embedOptions.enableDomainMasking||(ad.ItemDetail=this.embedOptions.mode!==l.Mode.Connection?this.embedOptions.token||this.embedOptions.embedToken||"string"!==typeof e.Data.ItemDetail?e.Data.ItemDetail:JSON.parse(e.Data.ItemDetail):null),this.embedOptions.token||this.embedOptions.enableDomainMasking||this.embedOptions.isPublicDashboard||this.embedOptions.embedToken||((this.embedOptions.mode==l.Mode.View||ad.ItemDetail&&ad.ItemDetail.IsEnableDefaultView)&&(this.isDefaultView=ad.ItemDetail.IsEnableDefaultView,this.embedOptions.dashboardSettings=this.embedOptions.dashboardSettings||{},this.embedOptions.dashboardSettings.filterOverviewSettings=this.embedOptions.dashboardSettings.filterOverviewSettings||{},this.embedOptions.settings=this.embedOptions.settings||{},this.embedOptions.settings.viewer=this.embedOptions.settings.viewer||{},this.embedOptions.settings.viewer.filterOverview=this.embedOptions.settings.viewer.filterOverview||{},ad.ItemDetail.ItemViews&&(this.embedOptions.dashboardSettings.filterOverviewSettings.viewId=this.embedOptions.settings.viewer.filterOverview.viewId=ad.ItemDetail.ItemViews[0].ViewId,this.embedOptions.dashboardSettings.filterOverviewSettings.viewName=this.embedOptions.settings.viewer.filterOverview.ViewName=ad.ItemDetail.ItemViews[0].ViewName,this.embedOptions.filterParameters=ad.ItemDetail.ItemViews[0].QueryString)),this.embedOptions.mode==l.Mode.View&&(this.dashboardUrl="/dashboard/"+ad.ItemDetail.Id+"/"+ad.ItemDetail.CategoryName+"/"+ad.ItemDetail.Name+"?"),this.embedOptions.mode==l.Mode.View&&this.embedOptions.viewId&&(this.embedOptions.dashboardId=ad.ItemDetail.Id)),this.accessToken=od.embedOptions.enableDomainMasking?null:od.embedOptions.token?od.embedOptions.token:this.embedOptions.embedToken?this.embedOptions.embedToken:ad.access_token;let rd,ld="";if(this.pinboardIds.length>0){const e=this.authToken?ad.Id:ad.WidgetId;a.map(this.pinboardIds,function(t){if(t.widgetId==e){const e=od._getDashboardInstance(t.pinboardContainerId+"_embeddedbi");od._isNullOrUndefined(e)&&(sd=t.pinboardContainerId)}}),rd=this.authToken?ad.ItemId:""}else if(this.isMultiTab){const e=this.embedOptions.token||this.embedOptions.embedToken?ad.DashboardId.toString().replaceAll("-",""):ad.ItemDetail.Id.toString().replaceAll("-","");sd="multi_"+e;const o=od._isNullOrUndefined(null===(t=od.embedOptions.dashboardSettings)||void 0===t?void 0:t.dashboardName)||"string"===typeof od.embedOptions.dashboardSettings.dashboardName?null===(i=od.embedOptions.settings.viewer)||void 0===i?void 0:i.dashboardName:od.embedOptions.dashboardSettings.dashboardName;!od._isNullOrUndefined(o)&&Array.isArray(o)&&a.map(o,function(e){ad.ItemDetail.Id===e.dashboardId&&(ld=e.displayName)}),rd=od.embedOptions.token||this.embedOptions.embedToken?ad.DashboardId:""}else{sd=this.embedOptions.embedContainerId;const e=od._isNullOrUndefined(null===(s=od.embedOptions.dashboardSettings)||void 0===s?void 0:s.dashboardName)||"string"!=typeof od.embedOptions.dashboardSettings.dashboardName?null===(d=null===(n=od.embedOptions.settings)||void 0===n?void 0:n.viewer)||void 0===d?void 0:d.dashboardName:od.embedOptions.dashboardSettings.dashboardName;od._isNullOrUndefined(e)||"string"!=typeof e||(ld=e)}const hd=this.pinboardIds.length>0?a("#"+sd).height():this.isMultiTab?this.embedOptions.height.indexOf("%")>0?this.embedOptions.height.includes("calc")?"calc(100% - 36px)":"calc("+this.embedOptions.height+" - 36px)":parseInt(this.embedOptions.height,10)-36+"px":this.embedOptions.height;if(this.embedOptions.enableDomainMasking||this.embedOptions.isPublicDashboard||this.embedOptions.embedToken||"undefined"==typeof e.Data.UserDetail||(ad.UserDetail="string"===typeof e.Data.UserDetail?JSON.parse(e.Data.UserDetail):e.Data.UserDetail),this.embedOptions.mode==l.Mode.Connection&&a('<style type="text/css"> .e-dashboarddesigner .bbi-dbrd-connection-mode-dlg .bbi-dbrd-connection-mode-header .bbi-dbrd-icon-container .bbi-dbrd-close-icon{ display: none !important} </style>').appendTo("head"),this._onBoldBIAuthorizionComplete(ad),""==this.embedOptions.widgetList){document.getElementById(sd)&&(document.getElementById(sd).style.height=hd,document.getElementById(sd).style.width=""!=this.embedOptions.pinboardName?document.getElementById(sd).style.width:this.isMultiTab?"100%":this.embedOptions.width)}const md=this.embedOptions.mode===l.Mode.View,cd=(this.embedOptions.mode,l.Mode.Design,!(null===(r=this.embedOptions.authorizationServer)||void 0===r?void 0:r.url)&&!(null===(h=this.embedOptions.authorizationServer)||void 0===h?void 0:h.data)&&!this.embedOptions.token&&!this.embedOptions.embedToken);let bd;md&&cd&&(this._isNullOrUndefined(null===(m=this.embedOptions.dashboardSettings)||void 0===m?void 0:m.filterOverviewSettings)||(this.embedOptions.dashboardSettings.filterOverviewSettings.showSaveIcon=!1,this.embedOptions.dashboardSettings.filterOverviewSettings.showSaveAsIcon=!1),this._isNullOrUndefined(null===(b=null===(c=this.embedOptions.settings)||void 0===c?void 0:c.viewer)||void 0===b?void 0:b.filterOverview)||(this.embedOptions.settings.viewer.filterOverview.save=!1,this.embedOptions.settings.viewer.filterOverview.saveAs=!1));const pd=this._isEmptyOrSpaces(null===(p=this.embedOptions.dashboardSettings)||void 0===p?void 0:p.fontFamily)?this._isEmptyOrSpaces(null===(g=null===(v=null===(u=this.embedOptions)||void 0===u?void 0:u.settings)||void 0===v?void 0:v.theme)||void 0===g?void 0:g.fontFamily)?"":this.embedOptions.settings.theme.fontFamily:this.embedOptions.dashboardSettings.fontFamily,ud=this.embedOptions.environment===l.Environment.Enterprise?this.rootUrl.replace(/\/bi(?!.*\/bi)/,"/ums/user-interface/fonts")+"?family="+pd:"".concat(this.rootUrl+"/user-interface/fonts?family="+pd);if(bd={siteUrl:this.baseUrl,serviceUrl:this.designerRootUrl,dataServiceUrl:this.designerRootUrl,serverUrl:this.dashboardServerApiUrl,hasAPIKey:!od.embedOptions.enableDomainMasking&&!this.embedOptions.isPublicDashboard&&!this._isJwtFormat(this.accessToken),viewerSettings:{serviceUrl:this.designerRootUrl+"/v1.0/design"},nonce:this.embedOptions.nonce,localeSettings:{culture:this._isEmptyOrSpaces(null===(f=null===(w=this.embedOptions)||void 0===w?void 0:w.localeSettings)||void 0===f?void 0:f.culture)?this._isEmptyOrSpaces(null===(O=null===(y=null===(I=this.embedOptions)||void 0===I?void 0:I.settings)||void 0===y?void 0:y.locale)||void 0===O?void 0:O.culture)?"en-US":this.embedOptions.settings.locale.culture:this.embedOptions.localeSettings.culture,dateFormat:this._isEmptyOrSpaces(null===(S=null===(D=this.embedOptions)||void 0===D?void 0:D.localeSettings)||void 0===S?void 0:S.dateFormat)?this._isEmptyOrSpaces(null===(C=null===(E=null===(_=this.embedOptions)||void 0===_?void 0:_.settings)||void 0===E?void 0:E.locale)||void 0===C?void 0:C.dateFormat)?"M/d/yyyy":this.embedOptions.settings.locale.dateFormat:this.embedOptions.localeSettings.dateFormat,timeFormat:this._isEmptyOrSpaces(null===(x=null===(A=this.embedOptions)||void 0===A?void 0:A.localeSettings)||void 0===x?void 0:x.timeFormat)?this._isEmptyOrSpaces(null===(T=null===(F=null===(M=this.embedOptions)||void 0===M?void 0:M.settings)||void 0===F?void 0:F.locale)||void 0===T?void 0:T.timeFormat)?"h:mm:ss tt":this.embedOptions.settings.locale.timeFormat:this.embedOptions.localeSettings.timeFormat},mode:this.embedOptions.mode,localData:{loadFromData:this.embedOptions.localData.loadFromData,layoutData:this.embedOptions.localData.layoutData,widgetData:this.embedOptions.localData.widgetData},environment:this.embedOptions.environment,IsEmbed:!0,_isPublic:this.embedOptions.mode!=l.Mode.Connection?this.embedOptions.enableDomainMasking||!this._isNullOrUndefined(this.embedOptions.embedToken)&&!this._isEmptyOrSpaces(this.embedOptions.embedToken)||this._isNullOrUndefined(ad.ItemDetail)?"":ad.ItemDetail.IsPublic:"",itemId:this.embedOptions.mode!=l.Mode.Connection?this.embedOptions.enableDomainMasking?this.embedOptions.dashboardId:this._isNullOrUndefined(this.authToken)||this._isEmptyOrSpaces(this.authToken)?ad.ItemDetail.Id:od.embedOptions.isdesignerdraft?ad.draftItemID:rd||this.embedOptions.dashboardId:"",dashboardPath:this.embedOptions.mode==l.Mode.DataSource||this.embedOptions.mode==l.Mode.Connection?"":this.embedOptions.enableDomainMasking?this.embedOptions.dashboardId+"/0":this._isNullOrUndefined(this.authToken)||this._isEmptyOrSpaces(this.authToken)?ad.ItemDetail.ItemLocation:rd?rd+"/0":this.embedOptions.dashboardId+"/"+ad.dashboardVersion,serviceAuthorizationToken:this.accessToken,dashboardName:this.embedOptions.mode==l.Mode.DataSource||this.embedOptions.mode==l.Mode.Connection||this.embedOptions.enableDomainMasking||this._isNullOrUndefined(ad.ItemDetail)?"":this._isEmptyOrSpaces(ld)?ad.ItemDetail.Name:ld,dashboardDescription:this.embedOptions.mode==l.Mode.DataSource||this.embedOptions.mode==l.Mode.Connection||this.embedOptions.enableDomainMasking||this._isNullOrUndefined(ad.ItemDetail)?"":ad.ItemDetail.Description,IsProxy:!!this.embedOptions.enableDomainMasking,theme:this._isEmptyOrSpaces(this.multiTabTheme)?this.embedOptions.theme:this.multiTabTheme,enableTheme:!1,enableFilterOverview:"boolean"===typeof this.embedOptions.dashboardSettings.enableFilterOverview?this.embedOptions.dashboardSettings.enableFilterOverview:null===(W=null===(N=null===(B=null===(k=this.embedOptions.settings)||void 0===k?void 0:k.viewer)||void 0===B?void 0:B.filterOverview)||void 0===N?void 0:N.enabled)||void 0===W||W,isPinWidget:this.pinboardIds.length>0,layoutSetting:this.embedOptions.layoutSettings,export:{Image:this.dashboardWidgetExports.export.image,Excel:this.dashboardWidgetExports.export.excel,Pdf:this.dashboardWidgetExports.export.pdf,CustomFontFamilyUrl:pd?ud:"",IsDefaultFont:!1},dashboardExportMenuSettings:{showCSV:this.dashboardWidgetExports.export.csv,showExcel:this.dashboardWidgetExports.export.excel,showImage:this.dashboardWidgetExports.export.image,showPDF:this.dashboardWidgetExports.export.pdf},widgetExportMenuSettings:{showCSV:this.dashboardWidgetExports.export.csv,showExcel:this.dashboardWidgetExports.export.excel,showImage:this.dashboardWidgetExports.export.image,showPDF:this.dashboardWidgetExports.export.pdf},filterParameters:(this._isEmptyOrSpaces(this.embedOptions.filterParameters)?"":"&")+(this.isMultiTab&&window.multiTabFilterParameter?window.multiTabFilterParameter:this.embedOptions.filterParameters),designCanvasSettings:{margin:this._isNullOrUndefined(null===(R=null===(P=this.embedOptions)||void 0===P?void 0:P.designCanvasSettings)||void 0===R?void 0:R.margin)?this._isNullOrUndefined(null===(L=null===(U=null===(V=this.embedOptions)||void 0===V?void 0:V.settings)||void 0===U?void 0:U.designCanvas)||void 0===L?void 0:L.margin)?null:null===(j=null===(z=this.embedOptions.settings)||void 0===z?void 0:z.designCanvas)||void 0===j?void 0:j.margin:this.embedOptions.designCanvasSettings.margin},widgetContainerSettings:{margin:this._isNullOrUndefined(null===(H=null===(K=this.embedOptions)||void 0===K?void 0:K.widgetContainerSettings)||void 0===H?void 0:H.margin)?this._isNullOrUndefined(null===(J=null===(G=null===(Q=null===(q=this.embedOptions)||void 0===q?void 0:q.settings)||void 0===Q?void 0:Q.viewer)||void 0===G?void 0:G.widgetContainer)||void 0===J?void 0:J.margin)?null:null===(Y=null===(Z=this.embedOptions.settings.viewer)||void 0===Z?void 0:Z.widgetContainer)||void 0===Y?void 0:Y.margin:this.embedOptions.widgetContainerSettings.margin,boxShadow:this._isEmptyOrSpaces(null===($=null===(X=this.embedOptions)||void 0===X?void 0:X.widgetContainerSettings)||void 0===$?void 0:$.boxShadow)?this._isEmptyOrSpaces(null===(oe=null===(ie=null===(te=null===(ee=this.embedOptions)||void 0===ee?void 0:ee.settings)||void 0===te?void 0:te.viewer)||void 0===ie?void 0:ie.widgetContainer)||void 0===oe?void 0:oe.boxShadow)?null:null===(ne=null===(se=this.embedOptions.settings.viewer)||void 0===se?void 0:se.widgetContainer)||void 0===ne?void 0:ne.boxShadow:this.embedOptions.widgetContainerSettings.boxShadow},viewDataSettings:{checkShowAllColumns:"boolean"===typeof(null===(ae=null===(de=this.embedOptions.dashboardSettings)||void 0===de?void 0:de.viewDataSettings)||void 0===ae?void 0:ae.showAllColumns)?this.embedOptions.dashboardSettings.viewDataSettings.showAllColumns:null!==(he=null===(le=null===(re=this.embedOptions.settings)||void 0===re?void 0:re.viewData)||void 0===le?void 0:le.allColumns)&&void 0!==he&&he},viewDataActions:{allowExporting:"boolean"===typeof(null===(ce=null===(me=this.embedOptions.dashboardSettings)||void 0===me?void 0:me.viewDataSettings)||void 0===ce?void 0:ce.enableExporting)?this.embedOptions.dashboardSettings.viewDataSettings.enableExporting:null===(ue=null===(pe=null===(be=this.embedOptions.settings)||void 0===be?void 0:be.viewData)||void 0===pe?void 0:pe.exporting)||void 0===ue||ue,allowColumnSelection:"boolean"===typeof(null===(ge=null===(ve=this.embedOptions.dashboardSettings)||void 0===ve?void 0:ve.viewDataSettings)||void 0===ge?void 0:ge.enableColumnSelection)?this.embedOptions.dashboardSettings.viewDataSettings.enableColumnSelection:null===(Ie=null===(fe=null===(we=this.embedOptions.settings)||void 0===we?void 0:we.viewData)||void 0===fe?void 0:fe.columnSelection)||void 0===Ie||Ie},dashboardThemeSettings:{appearance:this._isEmptyOrSpaces(null===(De=null===(Oe=null===(ye=this.embedOptions)||void 0===ye?void 0:ye.dashboardSettings)||void 0===Oe?void 0:Oe.themeSettings)||void 0===De?void 0:De.appearance)?this._isEmptyOrSpaces(null===(Ee=null===(_e=null===(Se=this.embedOptions)||void 0===Se?void 0:Se.settings)||void 0===_e?void 0:_e.theme)||void 0===Ee?void 0:Ee.appearance)?"light":this.embedOptions.settings.theme.appearance:this.embedOptions.dashboardSettings.themeSettings.appearance,applicationTheme:this._isEmptyOrSpaces(null===(xe=null===(Ae=null===(Ce=this.embedOptions)||void 0===Ce?void 0:Ce.dashboardSettings)||void 0===Ae?void 0:Ae.themeSettings)||void 0===xe?void 0:xe.application)?this._isEmptyOrSpaces(null===(Te=null===(Fe=null===(Me=this.embedOptions)||void 0===Me?void 0:Me.settings)||void 0===Fe?void 0:Fe.theme)||void 0===Te?void 0:Te.application)?null:this.embedOptions.settings.theme.application:this.embedOptions.dashboardSettings.themeSettings.application,dashboardTheme:null!==(qe=null!==(je=null!==(Ve=null!==(We=null===(Ne=null===(Be=null===(ke=this.embedOptions.dashboardSettings)||void 0===ke?void 0:ke.themeSettings)||void 0===Be?void 0:Be.dashboard)||void 0===Ne?void 0:Ne.trim())&&void 0!==We?We:(null===(Re=null===(Pe=this.embedOptions.dashboardSettings)||void 0===Pe?void 0:Pe.themeSettings)||void 0===Re?void 0:Re.isLocalTheme)?"boldBITheme":null)&&void 0!==Ve?Ve:null===(ze=null===(Le=null===(Ue=this.embedOptions.settings)||void 0===Ue?void 0:Ue.theme)||void 0===Le?void 0:Le.dashboard)||void 0===ze?void 0:ze.trim())&&void 0!==je?je:(null===(He=null===(Ke=this.embedOptions.settings)||void 0===Ke?void 0:Ke.theme)||void 0===He?void 0:He.localTheme)?"boldBITheme":null)&&void 0!==qe?qe:null},hideMetrics:"boolean"===typeof(null===(Qe=this.embedOptions.dashboardSettings)||void 0===Qe?void 0:Qe.showMetrics)?!this.embedOptions.dashboardSettings.showMetrics:"boolean"===typeof(null===(Je=null===(Ge=this.embedOptions.settings)||void 0===Ge?void 0:Ge.viewer)||void 0===Je?void 0:Je.metrics)&&!this.embedOptions.settings.viewer.metrics,widgets:this._getWidgetFilterInfo(),showConfirmPublishPopup:!0,actionComplete:function(e){od._onBoldBIDashboardInstaceActionComplete(e)},reportOpened:function(e){od._onBoldBIDashboardInstaceReportOpen(e)},performNavigateToDashboard:function(e){od._onBoldBIDashboardInstanceNavigateToDashboard(e)},beforeBannerIconRender:function(e){od._onBoldBIDashboardBeforeBannerIconRender(e,ad)},beforeOtherOptionContextMenuRender:function(e){od._onBoldBIDashboardBeforeOtherOptionContextMenuRender(e)},_onSaveFilter:function(e){od._onBoldBIDashboardSaveFilter(e)},_onSaveAsFilter:function(e){od._onBoldBIDashboardSaveAsFilter(e)},_onViewSavedFilters:function(e){od._onBoldBIDashboardOpenViewSection(e)},onBannerIconClick:function(e){od._onBoldBIDashboardBannerIconClick(e)},beforeWidgetIconRendered:function(e){od._onBoldBIDashboardBeforeWidgetIconRendered(e)},onWidgetIconClick:function(e){od._onBoldBIDashboardWidgetIconClick(e)},_onFavoriteStateChange:function(e){od._onBoldBIDashboardUpdatefavorite(e)},beforeNavigateUrlLinking:function(e){od._onBoldBIBeforeNavigateUrlLinking(e)},beforeViewdataIconRender:function(e){od._onBoldBIBeforeViewdataIconRender(e)},beforeControlMenuOpen:function(e){od._onBoldBIBeforeControlMenuOpen(e)},beforeDashboardMobileMenuOpen:function(e){od._onBoldBIBeforeDashboardMobileMenuOpen(e)},ajaxBeforeLoad:function(e){od._onBoldBIAjaxBeforeLoad(e)},beforeDesignerToolbarButtonsRendered:function(e){od._onBoldBIbeforeDesignerToolbarButtonsRendered(e)},onControlMenuClick:function(e){od._onBoldBIonControlMenuClick(e)},beforeDatasourceToolbarButtonsRendered:function(e){od._onBoldBIbeforeDatasourceToolbarButtonsRendered(e)},beforeDatasourceToolbarIconsRendered:function(e){od._onBoldBIbeforeDatasourceToolbarIconsRendered(e)},beforeDesignerToolbarIconsRendered:function(e){od._onBoldBIbeforeDesignerToolbarIconsRendered(e)},toolbarClick:function(e){od._onBoldBItoolbarClick(e)},beforeWidgetItemsListed:function(e){od._onBoldBIbeforeWidgetItemsListed(e)},beforeWidgetLayoutRender:function(e){od._onBoldBIbeforeWidgetLayoutRender(e)}},(md||this.embedOptions.mode==l.Mode.AIAssistant)&&(bd.filterOverviewSettings={showSaveIcon:"boolean"===typeof(null===(Ye=null===(Ze=this.embedOptions.dashboardSettings)||void 0===Ze?void 0:Ze.filterOverviewSettings)||void 0===Ye?void 0:Ye.showSaveIcon)?null===($e=null===(Xe=this.embedOptions.dashboardSettings)||void 0===Xe?void 0:Xe.filterOverviewSettings)||void 0===$e?void 0:$e.showSaveAsIcon:null!==(ot=null===(it=null===(tt=null===(et=this.embedOptions.settings)||void 0===et?void 0:et.viewer)||void 0===tt?void 0:tt.filterOverview)||void 0===it?void 0:it.save)&&void 0!==ot&&ot,showSaveAsIcon:"boolean"===typeof(null===(nt=null===(st=this.embedOptions.dashboardSettings)||void 0===st?void 0:st.filterOverviewSettings)||void 0===nt?void 0:nt.showSaveAsIcon)?null===(at=null===(dt=this.embedOptions.dashboardSettings)||void 0===dt?void 0:dt.filterOverviewSettings)||void 0===at?void 0:at.showSaveAsIcon:null!==(mt=null===(ht=null===(lt=null===(rt=this.embedOptions.settings)||void 0===rt?void 0:rt.viewer)||void 0===lt?void 0:lt.filterOverview)||void 0===ht?void 0:ht.saveAs)&&void 0!==mt&&mt,showViewSavedFilterIcon:"boolean"===typeof(null===(bt=null===(ct=this.embedOptions.dashboardSettings)||void 0===ct?void 0:ct.filterOverviewSettings)||void 0===bt?void 0:bt.showViewSavedFilterIcon)?null===(ut=null===(pt=this.embedOptions.dashboardSettings)||void 0===pt?void 0:pt.filterOverviewSettings)||void 0===ut?void 0:ut.showViewSavedFilterIcon:null!==(ft=null===(wt=null===(gt=null===(vt=this.embedOptions.settings)||void 0===vt?void 0:vt.viewer)||void 0===gt?void 0:gt.filterOverview)||void 0===wt?void 0:wt.viewSavedFilter)&&void 0!==ft&&ft,viewId:this._isNullOrUndefined(null===(It=this.embedOptions.dashboardSettings)||void 0===It?void 0:It.filterOverviewSettings)||this._isEmptyOrSpaces(this.embedOptions.dashboardSettings.filterOverviewSettings.viewId)?this._isNullOrUndefined(null===(Ot=null===(yt=this.embedOptions.settings)||void 0===yt?void 0:yt.viewer)||void 0===Ot?void 0:Ot.filterOverview)||this._isEmptyOrSpaces(this.embedOptions.settings.viewer.filterOverview.viewId)?null:this.embedOptions.settings.viewer.filterOverview.viewId:this.embedOptions.dashboardSettings.filterOverviewSettings.viewId,viewName:this._isNullOrUndefined(null===(Dt=this.embedOptions.dashboardSettings)||void 0===Dt?void 0:Dt.filterOverviewSettings)||this._isEmptyOrSpaces(this.embedOptions.dashboardSettings.filterOverviewSettings.viewName)?this._isNullOrUndefined(null===(_t=null===(St=this.embedOptions.settings)||void 0===St?void 0:St.viewer)||void 0===_t?void 0:_t.filterOverview)||this._isEmptyOrSpaces(this.embedOptions.settings.viewer.filterOverview.viewName)?null:this.embedOptions.settings.viewer.filterOverview.viewName:this.embedOptions.dashboardSettings.filterOverviewSettings.viewName}),this.loadMultipleWidget){var nd=this.embedOptions.widgetList;nd.forEach(e=>{const t=document.createElement("div");t.id="".concat(e.containerId,"_embeddedbi"),t.style.width="100%",t.style.height="100%";var i=document.getElementById(e.containerId);i&&i.append(t)});const t="string"===typeof e.Data.WidgetList?JSON.parse(e.Data.WidgetList):e.Data.WidgetList,i={};Object.keys(t).forEach(e=>{i[e.toLowerCase()]=t[e]});const o=nd.map(e=>{const t=e.widgetName.toLowerCase();return{widgetId:i[t]||"",container:"".concat(e.containerId,"_embeddedbi")}});bd.loadMultipleWidget=this.loadMultipleWidget,bd.multipleWidgetsCollection=o}if(""==this.embedOptions.widgetList&&(bd.actionBegin=function(e){od._onBoldBIDashboardInstaceActionBegin(e,sd)}),(this.embedOptions.mode!=l.Mode.View||this.isWidgetMode||this.isMultipleWidgetMode||this.isPinboardRendering)&&this.embedOptions.mode!=l.Mode.Design&&this.embedOptions.mode!=l.Mode.AIAssistant||(bd.languageSettings={hideLanguageDropdown:"boolean"===typeof(null===(Et=this.embedOptions.languageSettings)||void 0===Et?void 0:Et.hideLanguageDropdown)?this.embedOptions.languageSettings.hideLanguageDropdown:null!==(xt=null===(At=null===(Ct=this.embedOptions.settings)||void 0===Ct?void 0:Ct.language)||void 0===At?void 0:At.hideDropdown)&&void 0!==xt&&xt,languageCode:this._isEmptyOrSpaces(null===(Ft=null===(Mt=this.embedOptions)||void 0===Mt?void 0:Mt.languageSettings)||void 0===Ft?void 0:Ft.languageCode)?this._isEmptyOrSpaces(null===(Bt=null===(kt=null===(Tt=this.embedOptions)||void 0===Tt?void 0:Tt.settings)||void 0===kt?void 0:kt.language)||void 0===Bt?void 0:Bt.code)?"":this.embedOptions.settings.language.code:this.embedOptions.languageSettings.languageCode},bd.customBrandSettings={hideHelpLink:"boolean"===typeof(null===(Nt=this.embedOptions.customBrandSettings)||void 0===Nt?void 0:Nt.hideHelpLink)?this.embedOptions.customBrandSettings.hideHelpLink:null!==(Rt=null===(Pt=null===(Wt=this.embedOptions.settings)||void 0===Wt?void 0:Wt.brand)||void 0===Pt?void 0:Pt.hideHelpLink)&&void 0!==Rt&&Rt,customBrandName:this._isEmptyOrSpaces(null===(Ut=null===(Vt=this.embedOptions)||void 0===Vt?void 0:Vt.customBrandSettings)||void 0===Ut?void 0:Ut.customBrandName)?this._isEmptyOrSpaces(null===(jt=null===(zt=null===(Lt=this.embedOptions)||void 0===Lt?void 0:Lt.settings)||void 0===zt?void 0:zt.brand)||void 0===jt?void 0:jt.name)?"":this.embedOptions.settings.brand.name:this.embedOptions.customBrandSettings.customBrandName,customDomain:this._isEmptyOrSpaces(null===(Ht=null===(Kt=this.embedOptions)||void 0===Kt?void 0:Kt.customBrandSettings)||void 0===Ht?void 0:Ht.customDomain)?this._isEmptyOrSpaces(null===(Gt=null===(Qt=null===(qt=this.embedOptions)||void 0===qt?void 0:qt.settings)||void 0===Qt?void 0:Qt.brand)||void 0===Gt?void 0:Gt.domain)?"":this.embedOptions.settings.brand.domain:this.embedOptions.customBrandSettings.customDomain}),this.embedOptions.enableDomainMasking||(this.embedOptions.mode==l.Mode.View&&!this.isPinboardRendering||this.embedOptions.mode==l.Mode.Design)&&(bd.enableMobileView=this.restrictMobileView,this.embedOptions.isPublicDashboard||this.embedOptions.embedToken||!ad.IsAnonymousUser||(bd.anonymousUserEmail=ad.email)),this.embedOptions.mode==l.Mode.Design){(this.authToken&&!this.embedOptions.dashboardId||!this.authToken&&!this.embedOptions.enableDomainMasking&&!this._isNullOrUndefined(ad)&&ad.ItemDetail.IsDraft)&&(bd.dashboardPath="");const e=this._isNullOrUndefined(ad)||this.embedOptions.enableDomainMasking||this._isEmptyOrSpaces(ad.DatasourceId)?"":ad.DatasourceId;this._isEmptyOrSpaces(e)||(bd.datasource=e);const t=Array.isArray(null===(Jt=this.embedOptions)||void 0===Jt?void 0:Jt.datasources)&&this.embedOptions.datasources.length>0?this.embedOptions.datasources:Array.isArray(null===(Yt=null===(Zt=this.embedOptions)||void 0===Zt?void 0:Zt.settings)||void 0===Yt?void 0:Yt.datasources)&&this.embedOptions.settings.datasources.length>0?this.embedOptions.settings.datasources:[];bd.datasources=t,bd.disableAutoRecover=this.disableAutoRecover,bd.schedule={endPoint:this.scheduleEndpointUrl,summaryText:""},bd.serverSettings={isAdmin:!this.embedOptions.enableDomainMasking&&("undefined"!=typeof ad.IsAdmin&&ad.IsAdmin)},bd.intermediateDbStatus=this.embedOptions.enableDomainMasking?void 0:ad.IntermediateDbStatus,bd.connectionList=this.embedOptions.enableDomainMasking?void 0:ad.ConnectionList,bd.isAllowUserToCreateDatasource=this.embedOptions.enableDomainMasking?void 0:ad.CanCreateDatasource,bd.enablePublicDashboardSetting=!1,bd.beforeNavigateToDashboard=function(e){od._onBoldBIBeforeNavigateToDashboard(e)},bd.toolbarSettings={showToolbar:"boolean"===typeof(null===(Xt=this.embedOptions.toolbarSettings)||void 0===Xt?void 0:Xt.showToolbar)?this.embedOptions.toolbarSettings.showToolbar:null===(ii=null===(ti=null===(ei=null===($t=this.embedOptions.settings)||void 0===$t?void 0:$t.designer)||void 0===ei?void 0:ei.toolbar)||void 0===ti?void 0:ti.enabled)||void 0===ii||ii},bd.predefinedWidgets={categoryName:this._isEmptyOrSpaces(null===(si=null===(oi=this.embedOptions)||void 0===oi?void 0:oi.preConfiguredWidgets)||void 0===si?void 0:si.categoryName)?this._isEmptyOrSpaces(null===(ri=null===(ai=null===(di=null===(ni=this.embedOptions)||void 0===ni?void 0:ni.settings)||void 0===di?void 0:di.designer)||void 0===ai?void 0:ai.preConfiguredWidgets)||void 0===ri?void 0:ri.categoryName)?"":this.embedOptions.settings.designer.preConfiguredWidgets.categoryName:this.embedOptions.preConfiguredWidgets.categoryName,dashboardId:this._isEmptyOrSpaces(null===(hi=null===(li=this.embedOptions)||void 0===li?void 0:li.preConfiguredWidgets)||void 0===hi?void 0:hi.dashboardId)?this._isEmptyOrSpaces(null===(pi=null===(bi=null===(ci=null===(mi=this.embedOptions)||void 0===mi?void 0:mi.settings)||void 0===ci?void 0:ci.designer)||void 0===bi?void 0:bi.preConfiguredWidgets)||void 0===pi?void 0:pi.dashboardId)?"":this.embedOptions.settings.designer.preConfiguredWidgets.dashboardId:this.embedOptions.preConfiguredWidgets.dashboardId},this.embedOptions.environment==l.Environment.Enterprise?bd.configuration=this.embedOptions.enableDomainMasking?" ":this.rootUrl+"/webdesignerservice/scripts/settings/"+ad.Branding+"/settings.min.js":bd.configuration=this.cdnLink+"/scripts/settings/"+ad.Branding+"/settings.min.js",bd.designerSettings={widgetsPanel:{hideExistingWidgets:"boolean"===typeof(null===(vi=null===(ui=this.embedOptions.dashboardSettings)||void 0===ui?void 0:ui.widgetsPanel)||void 0===vi?void 0:vi.hideExistingWidgets)?this.embedOptions.dashboardSettings.widgetsPanel.hideExistingWidgets:null!==(Ii=null===(fi=null===(wi=null===(gi=this.embedOptions.settings)||void 0===gi?void 0:gi.designer)||void 0===wi?void 0:wi.widgetsPanel)||void 0===fi?void 0:fi.hideExistingWidgets)&&void 0!==Ii&&Ii,hideDefaultWidgets:"boolean"===typeof(null===(Oi=null===(yi=this.embedOptions.dashboardSettings)||void 0===yi?void 0:yi.widgetsPanel)||void 0===Oi?void 0:Oi.hideDefaultWidgets)?this.embedOptions.dashboardSettings.widgetsPanel.hideDefaultWidgets:null!==(Ei=null===(_i=null===(Si=null===(Di=this.embedOptions.settings)||void 0===Di?void 0:Di.designer)||void 0===Si?void 0:Si.widgetsPanel)||void 0===_i?void 0:_i.hideDefaultWidgets)&&void 0!==Ei&&Ei,defaultPanelDisplayText:(null===(Ai=null===(Ci=this.embedOptions.settings)||void 0===Ci?void 0:Ci.designer)||void 0===Ai?void 0:Ai.widgetsPanel)?null===(Mi=null===(xi=this.embedOptions.settings)||void 0===xi?void 0:xi.designer)||void 0===Mi?void 0:Mi.widgetsPanel.defaultPanelDisplayText:"",existingPanelDisplayText:(null===(Ti=null===(Fi=this.embedOptions.settings)||void 0===Fi?void 0:Fi.designer)||void 0===Ti?void 0:Ti.widgetsPanel)?null===(Bi=null===(ki=this.embedOptions.settings)||void 0===ki?void 0:ki.designer)||void 0===Bi?void 0:Bi.widgetsPanel.existingPanelDisplayText:"",defaultPanelSearchPlaceholder:(null===(Wi=null===(Ni=this.embedOptions.settings)||void 0===Ni?void 0:Ni.designer)||void 0===Wi?void 0:Wi.widgetsPanel)?null===(Ri=null===(Pi=this.embedOptions.settings)||void 0===Pi?void 0:Pi.designer)||void 0===Ri?void 0:Ri.widgetsPanel.defaultPanelSearchPlaceholder:"",existingPanelSearchPlaceholder:(null===(Ui=null===(Vi=this.embedOptions.settings)||void 0===Vi?void 0:Vi.designer)||void 0===Ui?void 0:Ui.widgetsPanel)?null===(zi=null===(Li=this.embedOptions.settings)||void 0===Li?void 0:Li.designer)||void 0===zi?void 0:zi.widgetsPanel.existingPanelSearchPlaceholder:"",existingDashboards:Array.isArray(null===(Ki=null===(ji=this.embedOptions.dashboardSettings)||void 0===ji?void 0:ji.widgetsPanel)||void 0===Ki?void 0:Ki.existingDashboards)&&this.embedOptions.dashboardSettings.widgetsPanel.existingDashboards.length>0?this.embedOptions.dashboardSettings.widgetsPanel.existingDashboards:Array.isArray(null===(Qi=null===(qi=null===(Hi=this.embedOptions.settings)||void 0===Hi?void 0:Hi.designer)||void 0===qi?void 0:qi.widgetsPanel)||void 0===Qi?void 0:Qi.existingDashboards)&&this.embedOptions.settings.designer.widgetsPanel.existingDashboards.length>0?this.embedOptions.settings.designer.widgetsPanel.existingDashboards:[],dragAndDropSettings:{rowSpan:null!==(Xi=null===(Yi=null===(Zi=null===(Ji=null===(Gi=this.embedOptions.settings)||void 0===Gi?void 0:Gi.designer)||void 0===Ji?void 0:Ji.widgetsPanel)||void 0===Zi?void 0:Zi.dragAndDropSettings)||void 0===Yi?void 0:Yi.rowSpan)&&void 0!==Xi?Xi:null,columnSpan:null!==(oo=null===(io=null===(to=null===(eo=null===($i=this.embedOptions.settings)||void 0===$i?void 0:$i.designer)||void 0===eo?void 0:eo.widgetsPanel)||void 0===to?void 0:to.dragAndDropSettings)||void 0===io?void 0:io.columnSpan)&&void 0!==oo?oo:null,isWidgetMode:null!==(lo=null===(ro=null===(ao=null===(no=null===(so=this.embedOptions.settings)||void 0===so?void 0:so.designer)||void 0===no?void 0:no.widgetsPanel)||void 0===ao?void 0:ao.dragAndDropSettings)||void 0===ro?void 0:ro.isWidgetMode)&&void 0!==lo&&lo}},dataSourceConfig:{hideDataSourceConfig:"boolean"===typeof(null===(mo=null===(ho=this.embedOptions.dashboardSettings)||void 0===ho?void 0:ho.dataSourceConfig)||void 0===mo?void 0:mo.hideDataSourceConfig)?this.embedOptions.dashboardSettings.dataSourceConfig.hideDataSourceConfig:null!==(uo=null===(po=null===(bo=null===(co=this.embedOptions.settings)||void 0===co?void 0:co.designer)||void 0===bo?void 0:bo.dataSourceConfig)||void 0===po?void 0:po.hideDataSourceConfig)&&void 0!==uo&&uo,hideSampleDataSources:"boolean"===typeof(null===(go=null===(vo=this.embedOptions.dashboardSettings)||void 0===vo?void 0:vo.dataSourceConfig)||void 0===go?void 0:go.hideSampleDataSources)?this.embedOptions.dashboardSettings.dataSourceConfig.hideSampleDataSources:null!==(yo=null===(Io=null===(fo=null===(wo=this.embedOptions.settings)||void 0===wo?void 0:wo.designer)||void 0===fo?void 0:fo.dataSourceConfig)||void 0===Io?void 0:Io.hideSampleDataSources)&&void 0!==yo&&yo,hideDataSourceList:"boolean"===typeof(null===(Do=null===(Oo=this.embedOptions.dashboardSettings)||void 0===Oo?void 0:Oo.dataSourceConfig)||void 0===Do?void 0:Do.hideDataSourceList)?this.embedOptions.dashboardSettings.dataSourceConfig.hideDataSourceList:null!==(Co=null===(Eo=null===(_o=null===(So=this.embedOptions.settings)||void 0===So?void 0:So.designer)||void 0===_o?void 0:_o.dataSourceConfig)||void 0===Eo?void 0:Eo.hideDataSourceList)&&void 0!==Co&&Co,hideExpression:"boolean"===typeof(null===(xo=null===(Ao=this.embedOptions.dashboardSettings)||void 0===Ao?void 0:Ao.dataSourceConfig)||void 0===xo?void 0:xo.hideExpression)?this.embedOptions.dashboardSettings.dataSourceConfig.hideExpression:null!==(ko=null===(To=null===(Fo=null===(Mo=this.embedOptions.settings)||void 0===Mo?void 0:Mo.designer)||void 0===Fo?void 0:Fo.dataSourceConfig)||void 0===To?void 0:To.hideExpression)&&void 0!==ko&&ko},hidePropertySettingIcon:null===(No=null===(Bo=this.embedOptions.settings)||void 0===Bo?void 0:Bo.designer)||void 0===No?void 0:No.hideSettings},bd.userSettings={hidePreviewAs:"boolean"===typeof(null===(Wo=this.embedOptions.dashboardSettings)||void 0===Wo?void 0:Wo.showPreviewAs)?!this.embedOptions.dashboardSettings.showPreviewAs:!(null===(Vo=null===(Ro=null===(Po=this.embedOptions.settings)||void 0===Po?void 0:Po.designer)||void 0===Ro?void 0:Ro.previewAs)||void 0===Vo||Vo)}}this.embedOptions.mode==l.Mode.Connection&&(bd.connectionList=ad.ConnectionList),this.embedOptions.mode==l.Mode.DataSource&&(bd.itemId=this._isNullOrUndefined(this.authToken)||this._isEmptyOrSpaces(this.authToken)?ad.ItemDetail.Id:this.embedOptions.datasourceId,bd.datasourceName=this._isNullOrUndefined(this.authToken)||this._isEmptyOrSpaces(this.authToken)?ad.ItemDetail.Name:this.embedOptions.datasourceName,bd.datasource=this._isNullOrUndefined(this.authToken)||this._isEmptyOrSpaces(this.authToken)?ad.ItemDetail.Id:this.embedOptions.datasourceId),this.isMultipleWidgetMode=""!=this.embedOptions.widgetList&&this.isMultipleWidgetMode,this.isWidgetMode&&(bd.isPinWidget=this.isWidgetMode,bd.widgetId=this._isNullOrUndefined(this.authToken)||this._isEmptyOrSpaces(this.authToken)?ad.WidgetId:this.widgetName);const vd="boolean"===typeof(null===(Uo=this.embedOptions.dashboardSettings)||void 0===Uo?void 0:Uo.showHeader)?this.embedOptions.dashboardSettings.showHeader:null===(jo=null===(zo=null===(Lo=this.embedOptions.settings)||void 0===Lo?void 0:Lo.viewer)||void 0===zo?void 0:zo.header)||void 0===jo||jo;bd.isHideHeader=0==vd,this.isMultiTab&&(bd.dashboardSettings={parentId:this.parentDbrdId,isMultiTab:null!=this.parentDbrdId&&""!==this.parentDbrdId});("boolean"===typeof(null===(Ko=this.embedOptions.dynamicConnection)||void 0===Ko?void 0:Ko.isEnabled)?this.embedOptions.dynamicConnection.isEnabled:null!==(Qo=null===(qo=null===(Ho=this.embedOptions.settings)||void 0===Ho?void 0:Ho.dynamicConnection)||void 0===qo?void 0:qo.enabled)&&void 0!==Qo&&Qo)&&(bd.customIdentity=this._isEmptyOrSpaces(null===(Jo=null===(Go=this.embedOptions)||void 0===Go?void 0:Go.dynamicConnection)||void 0===Jo?void 0:Jo.identity)?this._isEmptyOrSpaces(null===(Xo=null===(Yo=null===(Zo=this.embedOptions)||void 0===Zo?void 0:Zo.settings)||void 0===Yo?void 0:Yo.dynamicConnection)||void 0===Xo?void 0:Xo.identity)?"":this.embedOptions.settings.dynamicConnection.identity:this.embedOptions.dynamicConnection.identity);if(("boolean"===typeof(null===($o=this.embedOptions.autoRefreshSettings)||void 0===$o?void 0:$o.enabled)?null===(es=this.embedOptions.autoRefreshSettings)||void 0===es?void 0:es.enabled:null!==(ss=null===(os=null===(is=null===(ts=this.embedOptions.settings)||void 0===ts?void 0:ts.viewer)||void 0===is?void 0:is.autoRefresh)||void 0===os?void 0:os.enabled)&&void 0!==ss&&ss)&&(bd.enableAutoRefresh=!0,bd.autoRefreshSettings={intervalSettings:{mode:"Hourly",hourlySchedule:{hours:"number"===typeof(null===(ns=this.embedOptions.autoRefreshSettings.hourlySchedule)||void 0===ns?void 0:ns.hours)?null===(ds=this.embedOptions.autoRefreshSettings.hourlySchedule)||void 0===ds?void 0:ds.hours:null===(ls=null===(rs=null===(as=this.embedOptions.settings.viewer)||void 0===as?void 0:as.autoRefresh)||void 0===rs?void 0:rs.hourlySchedule)||void 0===ls?void 0:ls.hours,minutes:"number"===typeof(null===(hs=this.embedOptions.autoRefreshSettings.hourlySchedule)||void 0===hs?void 0:hs.minutes)?null===(ms=this.embedOptions.autoRefreshSettings.hourlySchedule)||void 0===ms?void 0:ms.minutes:null===(ps=null===(bs=null===(cs=this.embedOptions.settings.viewer)||void 0===cs?void 0:cs.autoRefresh)||void 0===bs?void 0:bs.hourlySchedule)||void 0===ps?void 0:ps.minutes,seconds:"number"===typeof(null===(us=this.embedOptions.autoRefreshSettings.hourlySchedule)||void 0===us?void 0:us.seconds)?null===(vs=this.embedOptions.autoRefreshSettings.hourlySchedule)||void 0===vs?void 0:vs.seconds:null===(fs=null===(ws=null===(gs=this.embedOptions.settings.viewer)||void 0===gs?void 0:gs.autoRefresh)||void 0===ws?void 0:ws.hourlySchedule)||void 0===fs?void 0:fs.seconds}}}),this.embedOptions.mode==l.Mode.AIAssistant&&(bd.isUnifiedAI=!0,bd.dataSourceId=this.embedOptions.dataSourceId,bd.dashboardApiUrl=this.dashboardServerApiUrl),(!this.loadMultipleWidget&&((null===(Is=this.embedOptions.embedAiAssistant)||void 0===Is?void 0:Is.enabled)||(null===(Os=null===(ys=this.embedOptions.settings)||void 0===ys?void 0:ys.aiAssistant)||void 0===Os?void 0:Os.enabled))||this.embedOptions.mode==l.Mode.AIAssistant)&&(bd.embedAiAssistant={enableAiAssistant:!0,aiAssistantPosition:this._isEmptyOrSpaces(null===(Ss=null===(Ds=this.embedOptions)||void 0===Ds?void 0:Ds.embedAiAssistant)||void 0===Ss?void 0:Ss.position)?this._isEmptyOrSpaces(null===(Cs=null===(Es=null===(_s=this.embedOptions)||void 0===_s?void 0:_s.settings)||void 0===Es?void 0:Es.aiAssistant)||void 0===Cs?void 0:Cs.position)?"bottom":this.embedOptions.settings.aiAssistant.position:this.embedOptions.embedAiAssistant.position,hideAIDataUsage:"boolean"===typeof(null===(As=this.embedOptions.embedAiAssistant)||void 0===As?void 0:As.hideAiDataUsage)?null===(xs=this.embedOptions.embedAiAssistant)||void 0===xs?void 0:xs.hideAiDataUsage:"boolean"===typeof(null===(Fs=null===(Ms=this.embedOptions.settings)||void 0===Ms?void 0:Ms.aiAssistant)||void 0===Fs?void 0:Fs.hideUsageAnalytics)?null===(ks=null===(Ts=this.embedOptions.settings)||void 0===Ts?void 0:Ts.aiAssistant)||void 0===ks?void 0:ks.hideUsageAnalytics:null!==(Ps=null===(Ws=null===(Ns=null===(Bs=this.embedOptions.settings)||void 0===Bs?void 0:Bs.aiAssistant)||void 0===Ns?void 0:Ns.hideIcons)||void 0===Ws?void 0:Ws.usageAnalytics)&&void 0!==Ps&&Ps,hideAIChatHelp:"boolean"===typeof(null===(Vs=null===(Rs=this.embedOptions.embedAiAssistant)||void 0===Rs?void 0:Rs.hideIcons)||void 0===Vs?void 0:Vs.helpLink)?null===(Ls=null===(Us=this.embedOptions.embedAiAssistant)||void 0===Us?void 0:Us.hideIcons)||void 0===Ls?void 0:Ls.helpLink:null!==(Ks=null===(js=null===(zs=this.embedOptions.settings)||void 0===zs?void 0:zs.aiAssistant)||void 0===js?void 0:js.hideChatHelp)&&void 0!==Ks&&Ks,enableChatHistory:"boolean"!==typeof(null===(Qs=null===(qs=null===(Hs=this.embedOptions.settings)||void 0===Hs?void 0:Hs.aiAssistant)||void 0===qs?void 0:qs.hideIcons)||void 0===Qs?void 0:Qs.history)||!this.embedOptions.settings.aiAssistant.hideIcons.history,enableNewSession:"boolean"!==typeof(null===(Zs=null===(Js=null===(Gs=this.embedOptions.settings)||void 0===Gs?void 0:Gs.aiAssistant)||void 0===Js?void 0:Js.hideIcons)||void 0===Zs?void 0:Zs.newSession)||!this.embedOptions.settings.aiAssistant.hideIcons.newSession,showBetaTag:"boolean"!==typeof(null===(Xs=null===(Ys=this.embedOptions.settings)||void 0===Ys?void 0:Ys.aiAssistant)||void 0===Xs?void 0:Xs.hideBetaTag)||!this.embedOptions.settings.aiAssistant.hideBetaTag,headerTextColorHex:this._isEmptyOrSpaces(null===(en=null===($s=this.embedOptions.settings)||void 0===$s?void 0:$s.aiAssistant)||void 0===en?void 0:en.headerTextColor)?"":this.embedOptions.settings.aiAssistant.headerTextColor,showChatLogo:"boolean"!==typeof(null===(on=null===(tn=this.embedOptions.settings)||void 0===tn?void 0:tn.aiAssistant)||void 0===on?void 0:on.hideLogo)||!this.embedOptions.settings.aiAssistant.hideLogo,showWelcomeMessage:"boolean"!==typeof(null===(nn=null===(sn=this.embedOptions.settings)||void 0===sn?void 0:sn.aiAssistant)||void 0===nn?void 0:nn.hideWelcomeNote)||!this.embedOptions.settings.aiAssistant.hideWelcomeNote,showDashboardCategory:"boolean"!==typeof(null===(an=null===(dn=this.embedOptions.settings)||void 0===dn?void 0:dn.aiAssistant)||void 0===an?void 0:an.hideDashboardTag)||!this.embedOptions.settings.aiAssistant.hideDashboardTag,showDatasourceCategory:"boolean"!==typeof(null===(ln=null===(rn=this.embedOptions.settings)||void 0===rn?void 0:rn.aiAssistant)||void 0===ln?void 0:ln.hideDatasourceTag)||!this.embedOptions.settings.aiAssistant.hideDatasourceTag,dashboardId:Array.isArray(null===(mn=null===(hn=this.embedOptions.settings)||void 0===hn?void 0:hn.aiAssistant)||void 0===mn?void 0:mn.dashboards)&&(null===(bn=null===(cn=this.embedOptions.settings)||void 0===cn?void 0:cn.aiAssistant)||void 0===bn?void 0:bn.dashboards.length)>0?this.embedOptions.settings.aiAssistant.dashboards:[],datasourceId:Array.isArray(null===(un=null===(pn=this.embedOptions.settings)||void 0===pn?void 0:pn.aiAssistant)||void 0===un?void 0:un.dataSources)&&(null===(gn=null===(vn=this.embedOptions.settings)||void 0===vn?void 0:vn.aiAssistant)||void 0===gn?void 0:gn.dataSources.length)>0?this.embedOptions.settings.aiAssistant.dataSources:[],suggestionCount:"number"===typeof(null===(fn=null===(wn=this.embedOptions.settings)||void 0===wn?void 0:wn.aiAssistant)||void 0===fn?void 0:fn.queryDisplayLimit)?this.embedOptions.settings.aiAssistant.queryDisplayLimit:6,customizedAITitle:this._isEmptyOrSpaces(this.embedOptions.embedAiAssistant.name)?null!==(On=null===(yn=null===(In=this.embedOptions.settings)||void 0===In?void 0:In.aiAssistant)||void 0===yn?void 0:yn.name)&&void 0!==On?On:"":this.embedOptions.embedAiAssistant.name,customizedUserName:null!==(_n=null===(Sn=null===(Dn=this.embedOptions.settings)||void 0===Dn?void 0:Dn.aiAssistant)||void 0===Sn?void 0:Sn.userName)&&void 0!==_n?_n:""},this.embedOptions.mode==l.Mode.AIAssistant&&(bd.customBrandSettings=Object.assign(Object.assign({},bd.customBrandSettings),{hideHelpLink:"boolean"===typeof(null===(An=null===(Cn=null===(En=this.embedOptions.settings)||void 0===En?void 0:En.aiAssistant)||void 0===Cn?void 0:Cn.hideIcons)||void 0===An?void 0:An.helpLink)&&(null===(Mn=null===(xn=this.embedOptions.settings)||void 0===xn?void 0:xn.aiAssistant.hideIcons)||void 0===Mn?void 0:Mn.helpLink)}))),bd.isAiSummariesEnabledGlobally="boolean"===typeof(null===(Tn=null===(Fn=this.embedOptions.embedAiAssistant)||void 0===Fn?void 0:Fn.summary)||void 0===Tn?void 0:Tn.enabled)?null===(Bn=null===(kn=this.embedOptions.embedAiAssistant)||void 0===kn?void 0:kn.summary)||void 0===Bn?void 0:Bn.enabled:null!==(Rn=null===(Pn=null===(Wn=null===(Nn=this.embedOptions.settings)||void 0===Nn?void 0:Nn.aiAssistant)||void 0===Wn?void 0:Wn.summary)||void 0===Pn?void 0:Pn.enabled)&&void 0!==Rn&&Rn,bd.isAiSummariesEnabledGlobally&&(bd.embedAiAssistant=bd.embedAiAssistant||{},bd.embedAiAssistant.summarization=bd.embedAiAssistant.summarization||{},bd.embedAiAssistant.summarization.enableWidgetSummary="boolean"===typeof(null===(Un=null===(Vn=this.embedOptions.embedAiAssistant)||void 0===Vn?void 0:Vn.summary)||void 0===Un?void 0:Un.includeWidgetSummary)?null===(zn=null===(Ln=this.embedOptions.embedAiAssistant)||void 0===Ln?void 0:Ln.summary)||void 0===zn?void 0:zn.includeWidgetSummary:null!==(Hn=null===(Kn=null===(jn=this.embedOptions.settings.aiAssistant)||void 0===jn?void 0:jn.summary)||void 0===Kn?void 0:Kn.widget)&&void 0!==Hn&&Hn,bd.embedAiAssistant.summarization.enableDashboardSummary="boolean"===typeof(null===(Qn=null===(qn=this.embedOptions.embedAiAssistant)||void 0===qn?void 0:qn.summary)||void 0===Qn?void 0:Qn.includeDashboardSummary)?null===(Jn=null===(Gn=this.embedOptions.embedAiAssistant)||void 0===Gn?void 0:Gn.summary)||void 0===Jn?void 0:Jn.includeDashboardSummary:null!==($n=null===(Xn=null===(Yn=null===(Zn=this.embedOptions.settings)||void 0===Zn?void 0:Zn.aiAssistant)||void 0===Yn?void 0:Yn.summary)||void 0===Xn?void 0:Xn.dashboard)&&void 0!==$n&&$n),od.embedOptions.mode==l.Mode.AIAssistant){if("undefined"===typeof window.BoldBIAI||!window.BoldBIAI.UnifiedAIAgent)throw new Error(o.errorMessages.AIAgentInitializationFailed);try{let e=window.bbEmbed.call(od,"#"+sd);new window.BoldBIAI.UnifiedAIAgent(e,bd);console.log("AI Assitant initialized successfully.")}catch(dd){console.error("Error initializing AI Assitant Agent:",dd)}}if(od.embedOptions.mode!=l.Mode.AIAssistant&&window.bbEmbed instanceof Function){let e,t=window.bbEmbed.call(od,"#"+(od.pinboardIds.length>0?sd+"_embeddedbi":od.childContainer.id));if(0===t.length&&(t=window.bbEmbed.call(od,"#"+sd+"_embeddedbi"),e=sd+"_embeddedbi"),window.BoldBIDashboardDesigner instanceof Function){const i=this._getDashboardInstance(e);void 0!=i?(i.model=Object.assign(i.model,bd),i.redrawDashboard()):window.BoldBIDashboardDesigner.call(od,t,bd)}else this._throwError(o.errorMessages.ErrorInBoldBIDesigner);if(1==this.isMultipleWidgetMode){const e="string"===typeof ad.WidgetList?JSON.parse(ad.WidgetList):ad.WidgetList;let t=-1;if(Object.keys(e).forEach(i=>{if(t++,""==e[String(i)]){const s=o.errorMessages.InvalidWidgetName;delete e[String(i)];const n=this.embedOptions.widgetList[Number(t)].containerId;this.errorOnContainer(s,n),this.embedOptions.widgetList.splice(t,1),t--}}),0==this.embedOptions.widgetList.length){if(this._isNullOrUndefined(this.embedOptions.events.onError)||""==this.embedOptions.events.onError)throw new Error(o.errorMessages.InvalidAllWidgetNames);{const e=new Error(o.errorMessages.InvalidAllWidgetNames);this.onErrorClient(e)}}ad.WidgetList=JSON.stringify(e)}}else if(this.embedOptions.mode!=l.Mode.AIAssistant)throw new Error(o.errorMessages.bbEmbedNotDefined);if(""==this.embedOptions.widgetList&&this._removeElementsClass(sd,".preloader-wrap","viewer-blue-loader"),this.isMultiTab&&!this.embedOptions.token&&!this.embedOptions.isPublicDashboard&&!this.embedOptions.embedToken&&ad.ItemDetail.ItemViews){const e=null===(ed=this.embedOptions.dashboardSettings)||void 0===ed?void 0:ed.filterOverviewSettings,t=null===(id=null===(td=this.embedOptions.settings)||void 0===td?void 0:td.viewer)||void 0===id?void 0:id.filterOverview;e&&(e.viewId=null,e.viewName=null),t&&(t.viewId=null,t.viewName=null),this.embedOptions.filterParameters=null}}}}),this._changeLayoutSuccess=this.Invoke(function(e){if(e.Status&&""!=this.homepageItemId&&this.isVirtualHomepage)this.afterVirtualHomepageSave(this.homepageItemId);else if(!e.Status)throw new Error(o.errorMessages.LayoutFailure+e.Message)}),this._createPinboardDom=this.Invoke(function(e){const t=this;if(a("#widget-container").attr("data-homepage-id",e.Id).attr("data-current-layout",e.ColumnInfo.Layout).attr("data-item-type",e.ItemType).attr("data-virtual-homepage",e.IsVirtualHomepage),"widget"==e.ItemType.toLowerCase()){const i=e.ColumnInfo.Column;a.each(i,function(e){a("#widget-container").append("<ul id=column-"+(e+1)+' class="widget-list" data-column-id='+(e+1)+"></ul>"),i["".concat(e)].Item.length>0?a.each(i["".concat(e)].Item,function(o){var s,n,d,r,l;const h=null==i["".concat(e)].Item["".concat(o)].Id?"/bi/"+t.siteIdentifier+"/widgets/widgets":"/bi/"+t.siteIdentifier+"/dashboards",m=i["".concat(e)].Item["".concat(o)].Name,c=i["".concat(e)].Item["".concat(o)].WidgetType;let b=0;b=null!=c&&(c.includes("Card")||c.includes("Image"))?250:400;const p=null!=i["".concat(e)].Item["".concat(o)].QueryString?i["".concat(e)].Item["".concat(o)].QueryString:"",u=null==i["".concat(e)].Item["".concat(o)].TabId?h+"/"+i["".concat(e)].Item["".concat(o)].ItemId+"/"+(null!=i["".concat(e)].Item["".concat(o)].Id?i["".concat(e)].Item["".concat(o)].CategoryName+"/":"")+i["".concat(e)].Item["".concat(o)].ItemName+(""!=p?"?"+p:p):h+"/"+i["".concat(e)].Item["".concat(o)].ItemId+"/"+(null!=i["".concat(e)].Item["".concat(o)].Id?i["".concat(e)].Item["".concat(o)].CategoryName+"/":"")+i["".concat(e)].Item["".concat(o)].ItemName+"?tab="+i["".concat(e)].Item["".concat(o)].TabId+(""!=p?"&"+p:p),v=0!=o?'style="width:100%;height:100%;"':"";if(".sydj"!=i["".concat(e)].Item["".concat(o)].ItemExtension.toLowerCase())a("#column-"+(e+1)).append('<li class="list-item" '+v+'><div class="widget" id=widget_'+(e+1)+"_"+(o+1)+' data-dashboardurl="'+u+'" style="height:100%;width:100%;"></div></li>');else{const i=("boolean"===typeof(null===(s=t.embedOptions.pinboardSettings)||void 0===s?void 0:s.enableUnpinWidget)?null===(n=t.embedOptions.pinboardSettings)||void 0===n?void 0:n.enableUnpinWidget:null===(l=null===(r=null===(d=t.embedOptions.settings)||void 0===d?void 0:d.pinboard)||void 0===r?void 0:r.unpinWidget)||void 0===l||l)?'<div id="widget-icons"><i class="items unpin-widget su su-delete" data-bs-toggle="tooltip" data-original-title="Unpin Widget"  style="color: black;" /></div>':"";a("#column-"+(e+1)).append('<li class="list-item" '+v+'><div class="widget" id=widget_'+(e+1)+"_"+(o+1)+' data-dashboardurl="'+u+'" style="height: '+b+'px;width:100%;background:#fff;"><div class="widget-sortable" style="width:100%;float:left;display:block;height:0px"><div style="height:100%;width:100%;cursor:move;"><div id="item-name">'+m+"</div>"+i+"</div></div></div></li>")}}):a("#column-"+(e+1)).append('<li class="empty click-container"><div class="empty-content empty-homepage"><span class="drag-widget" style="font-family:var(--font-family)">Drag your widgets here to customize layout</span></div></li>')});const o=a("li.list-item a");for(let e=0;e<o.length;e++)a("li.list-item a").eq(e).attr("href",a("li.list-item a").eq(e).attr("data-url"))}else"dashboard"==e.ItemType.toLowerCase()&&(a("#add-item, #layout-container, #divider").hide(),a("#widget-container").append('<ul id="column-1" class="dashboard-column col-lg-12 col-md-12 col-sm-12 col-12" data-column-id="1"><li class="dashboard-list"><div class="dashboard" id="dashboard_1_1" style="height:100%;width:100%"></div></li></ul>'))}),this._dragAndDropSuccess=this.Invoke(function(e){if(!e.Status)throw new Error(o.errorMessages.DragAndDropError+e.Message)}),this._renderMultiTabDashboard=this.Invoke(function(e){this.isMultiTab=!0;const t=this,i=a("#"+t.embedOptions.embedContainerId);i.html(""),"undefined"!==typeof ejdashboard&&ejdashboard.base&&"function"===typeof ejdashboard.base.registerLicense&&ejdashboard.base.registerLicense("Ngo9BigBOggjGyl/Vkd+XU9FfV5AQmBIYVp/TGpJfl96cVxMZVVBJAtUQF1hTH9Td0BiXH9ecnVWTmFfWkd3");const o=t.embedOptions.embedContainerId+"_parent_multi_tab_dashboard",s=a('<div id="'+o+'" class="bi-dashboard parent-multitab-dbrd" style="height: 100% !important"></div>');i.append(s);const n=t.embedOptions.embedContainerId+"_multi_tab_dashboard",d=a('<div id="'+n+'" class="multitab-dbrd" style="height: 100% !important"></div>');s.append(d);const l=a('<div class="e-tab-header"></div>'),h=a('<div class="e-content"></div>');a.map(e,function(e){let i={};t.embedOptions.token||t.embedOptions.embedToken?(i.Id=e.DashboardId,i.Name=e.DashboardName,i.TabName=e.TabName||e.DashboardName):(i=JSON.parse(e.ItemDetail),i.TabName=e.TabName||i.Name),t.parentDbrdId=t.authToken?t.embedOptions.dashboardId:e.parentId;const o=i.Id.replaceAll("-","");t.dashboardDetails["".concat(o)]=e,t._isNullOrUndefined(t.embedOptions.dashboardSettings.dashboardName)||"string"==typeof t.embedOptions.dashboardSettings.dashboardName||a.map(t.embedOptions.dashboardSettings.dashboardName,function(e){i.Name=o==e.dashboardId.replaceAll("-","")?t._isEmptyOrSpaces(e.displayName)?i.Name:e.displayName:i.Name}),l.append(a('<div style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">'+i.TabName+"</div>"));const s=a('<div style="height:100%;width:100%;overflow: hidden !important;" id="multi_'+o+'"></div>');h.append(a("<div></div>").append(s.append('<div id="multi_'+o+'_embeddedbi" class="bbembed-multitab-dbrd"></div>')))}),d.append(l).append(h),r=new ejdashboard.navigations.Tab({enableAnimation:!1,selected:a.proxy(this._tabSelected,this)}),r.appendTo("#"+n),a(".e-tab-header .e-toolbar-item .e-tab-text").css({display:"inline-block",width:"150px","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis",color:"#000","font-family":"var(--font-family)","text-transform":"none"}),a('<style type="text/css"> .embed-multi-tab-indicator{ background: var(--primary-branding-color) !important; border-radius: 4px; display: block !important; height: 5px !important;}</style>').appendTo("head"),a(".e-control.e-tab .e-tab-header .e-indicator").addClass("embed-multi-tab-indicator"),a.map(a(".e-tab-header .e-toolbar-item .e-tab-text"),function(e,t){a(e).attr("title",a(e).text()),a(a(".e-content").find("#e-content-multi_tab_dashboard_"+t).children()).css({height:"100%",width:"100%",overflow:"hidden",display:"block",position:"absolute",left:a(".e-content.e-lib.e-touch").width()*t})}),a(".multitab-dbrd .e-content").attr("style","height: 100% !important"),a.map(a(".multitab-dbrd .e-content").children(),function(e){a(e).css({height:"100%"})}),a(i).css({"overflow-x":"hidden","overflow-y":"hidden",width:t.embedOptions.width}),a("#"+n).css({width:a(".e-content.e-lib.e-touch").width(),height:this.embedOptions.height}),a(".e-tab-header")[0].ej2_instances[0].refreshOverflow(),r.resizeContext(),a.map(e,function(e,i){if(0==i){const i={Apistatus:!0,Data:e,Status:!0};t._renderDashboard(i)}})}),this._getAuthorizationToken=this.Invoke(function(e){const t=this,i=e||this.embedOptions.dashboardId,s=this.embedOptions.dashboardIds.join(","),n=this.embedOptions.dashboardPaths.join(",");let d="embed_nonce="+this._uuidv4Generator()+"&embed_dashboard_id="+i+"&embed_dashboard_ids="+s+"&embed_dashboard_path="+this.embedOptions.dashboardPath+"&embed_dashboard_paths="+n+"&pinboard_name="+(this.pinBoardRendered?this.embedOptions.pinboardName:"")+"&embed_mode="+this.embedOptions.mode+"&embed_timestamp="+Math.round((new Date).getTime()/1e3)+"&embed_expirationtime="+this.embedOptions.expirationTime;if(this.embedOptions.anonymousToken.isEnabled){const{groupName:e,userEmail:t}=this.embedOptions.anonymousToken;d+="&embed_user_email=".concat(t,"&embed_anonymous_token=true&embed_authorize_group=").concat(e)}if(this.embedOptions.viewId?d=d+"&embed_dashboardview_id="+this.embedOptions.viewId:this.embedOptions.viewName&&(d=d+"&embed_dashboardview_name="+this.embedOptions.viewName),this.isWidgetMode)if(0==this.isMultipleWidgetMode)d=d+"&embed_widget_isenabled="+this.isWidgetMode+"&embed_widget_name="+this.widgetName;else{const e=[];this.embedOptions.widgetList.forEach(function(t){e.push(t.widgetName.toLowerCase())}),d=d+"&embed_widget_isenabled="+this.isWidgetMode+"&embed_widget_list="+e}this.isMultiTab&&(d=d+"&isMultiTab="+this.isMultiTab),this._isEmptyOrSpaces(this.embedOptions.datasourceId)?this._isEmptyOrSpaces(this.embedOptions.datasourceName)||(d=d+"&embed_datasource_name="+this.embedOptions.datasourceName):d=d+"&embed_datasource_id="+this.embedOptions.datasourceId;const r={embedQuerString:encodeURI(d),embedQueryString:encodeURI(d),dashboardServerApiUrl:this.dashboardServerApiUrl};if(""!=this.embedOptions.authorizationServer.url)this._xhrRequestHelper("POST",this.embedOptions.authorizationServer.url,r,this.embedOptions.authorizationServer.headers,this._renderDashboard);else if(this._isNullOrUndefined(this.embedOptions.authorizationServer.data)||""==this.embedOptions.authorizationServer.data||""!=this.embedOptions.authorizationServer.url)if(this.embedOptions.enableDomainMasking)this._renderDashboard(this.embedOptions.authorizationServer.data);else{if(""!=this.embedOptions.authorizationServer.url&&""!=this.embedOptions.authorizationServer.data||this.embedOptions.mode!=l.Mode.View||!this._isEmptyOrSpaces(this.embedOptions.pinboardName)||!(this.embedOptions.dashboardId||this.embedOptions.dashboardPath||this.embedOptions.dashboardIds||this.embedOptions.dashboardPaths))throw new Error(o.errorMessages.AuthorizationServerMissing);a.ajax({async:!0,type:"POST",url:this.dashboardServerApiUrl+this.embedAuthorizeEndPoint,data:JSON.stringify(d),contentType:"application/json",success:a.proxy(t._renderDashboard,t)})}else this._renderDashboard(this.embedOptions.authorizationServer.data);this.pinBoardRendered=!0}),this._validateOptions=this.Invoke(function(e){var t,i,s,n,d,a,r,h,m,c,b,p,u,v,g,w,f,I,y,O,D,S,_,E,C,A,x,M;const F=e;this.embedOptions=Object.assign(Object.assign({},this.embedOptions),{embedContainer:e.embedContainerId,hideErrorMessage:e.hideErrorMessage,widgetSettings:Object.assign({},F.widgetSettings),exportSettings:Object.assign({},F.exportSettings),pinboardSettings:Object.assign({},F.pinboardtSettings),autoRefreshSettings:Object.assign({},F.autoRefreshSettings),designCanvasSettings:Object.assign({},F.designCanvasSettings),dashboardSettings:Object.assign({},F.dashboardSettings),embedAiAssistant:Object.assign({},F.embedAiAssistant),customBrandSettings:Object.assign({},F.customBrandSettings),toolbarSettings:Object.assign({},F.toolbarSettings),languageSettings:Object.assign({},F.languageSettings),localeSettings:Object.assign({},F.localeSettings),dynamicConnection:Object.assign({},F.dynamicConnection),settings:Object.assign({},F.settings)});const T=null===(t=F.settings)||void 0===t?void 0:t.viewer;this.editIgnore=null!==(n=null!==(s=null===(i=F.dashboardSettings)||void 0===i?void 0:i.edit)&&void 0!==s?s:null===T||void 0===T?void 0:T.edit)&&void 0!==n?n:(null===e||void 0===e?void 0:e.mode)===l.Mode.Design,this.bingMapRequired="boolean"===typeof F.isBingMapRequired?F.isBingMapRequired:null!==(a=null===(d=F.settings)||void 0===d?void 0:d.bingMapRequired)&&void 0!==a&&a,this.restrictMobileView="boolean"===typeof F.restrictMobileView?F.restrictMobileView:null!==(h=null===(r=F.settings)||void 0===r?void 0:r.restrictMobileView)&&void 0!==h&&h,this.disableAutoRecover="boolean"===typeof F.disableAutoRecover?F.disableAutoRecover:null!==(c=null===(m=F.settings)||void 0===m?void 0:m.disableAutoRecover)&&void 0!==c&&c;const k=this.embedOptions.dashboardSettings,B=this.embedOptions.widgetSettings,N=this.embedOptions.exportSettings,W=this.embedOptions.settings;if(this.dashboardWidgetExports.dashboard={showExport:"boolean"===typeof(null===k||void 0===k?void 0:k.showExport)?k.showExport:null===(p=null===(b=null===W||void 0===W?void 0:W.viewer)||void 0===b?void 0:b.export)||void 0===p||p,showMoreOption:"boolean"===typeof(null===k||void 0===k?void 0:k.showMoreOption)?k.showMoreOption:null===(v=null===(u=null===W||void 0===W?void 0:W.viewer)||void 0===u?void 0:u.moreOption)||void 0===v||v,showMetrics:"boolean"===typeof(null===k||void 0===k?void 0:k.showMetrics)?k.showMetrics:null===(w=null===(g=null===W||void 0===W?void 0:W.viewer)||void 0===g?void 0:g.metrics)||void 0===w||w},this.dashboardWidgetExports.widget={showExport:"boolean"===typeof(null===B||void 0===B?void 0:B.showExport)?B.showExport:null===(I=null===(f=null===W||void 0===W?void 0:W.widget)||void 0===f?void 0:f.export)||void 0===I||I,showMoreOption:"boolean"===typeof(null===B||void 0===B?void 0:B.showMoreOption)?B.showMoreOption:null===(O=null===(y=null===W||void 0===W?void 0:W.widget)||void 0===y?void 0:y.moreOption)||void 0===O||O},this.dashboardWidgetExports.export={excel:"boolean"===typeof(null===N||void 0===N?void 0:N.showExcel)?N.showExcel:null===(S=null===(D=null===W||void 0===W?void 0:W.export)||void 0===D?void 0:D.excel)||void 0===S||S,pdf:"boolean"===typeof(null===N||void 0===N?void 0:N.showPDF)?N.showPDF:null===(E=null===(_=null===W||void 0===W?void 0:W.export)||void 0===_?void 0:_.pdf)||void 0===E||E,image:"boolean"===typeof(null===N||void 0===N?void 0:N.showImage)?N.showImage:null===(A=null===(C=null===W||void 0===W?void 0:W.export)||void 0===C?void 0:C.image)||void 0===A||A,csv:"boolean"===typeof(null===N||void 0===N?void 0:N.showCSV)?N.showCSV:null===(M=null===(x=null===W||void 0===W?void 0:W.export)||void 0===x?void 0:x.csv)||void 0===M||M},e.enableDomainMasking)return!0;if(this._isNullOrUndefined(e.onError)||(this.embedOptions.events.onError=e.onError),this._isEmptyOrSpaces(e.embedContainerId)&&this._isNullOrUndefined(e.widgetList))throw this.invalidDetail=!0,new Error(o.errorMessages.InvalidEmbedContainerID);if(this._isEmptyOrSpaces(e.serverUrl))throw this.invalidDetail=!0,new Error(o.errorMessages.EmptyServerURL);if(e.mode==l.Mode.AIAssistant)return!0;if(!this._isUrl(e.serverUrl))throw this.invalidDetail=!0,new Error(o.errorMessages.InvalidServerURL);if(!this._isEmptyOrSpaces(e.pinboardName))return!0;if(e.mode==l.Mode.Connection)return!0;if(e.dashboardPath||e.dashboardPaths&&e.mode!==l.Mode.DataSource){const t=e.dashboardPath?[e.dashboardPath]:e.dashboardPaths;t.forEach((e,i)=>{t[Number(i)]="".concat(e.startsWith("/")?"":"/").concat(e).replace(/\/+$/,"");const s=t[Number(i)].split("/");if(3!==s.length||""!==s[0]||""===s[1]||""===s[2])throw new Error(o.errorMessages.InvalidDashboardPath+e)}),e.dashboardPath?e.dashboardPath=t[0]:e.dashboardPaths=t}if(this._isEmptyOrSpaces(e.dashboardId)&&(!e.dashboardIds||!e.dashboardIds.length)&&(!e.dashboardPaths||!e.dashboardPaths.length)&&this._isEmptyOrSpaces(e.dashboardPath)&&e.mode!==l.Mode.Design&&this._isEmptyOrSpaces(e.datasourceId)&&this._isEmptyOrSpaces(e.datasourceName)){if(e.mode==l.Mode.DataSource)throw this.invalidDetail=!0,new Error(o.errorMessages.EmptyDatasourceDetails);if(this._isEmptyOrSpaces(e.pinboardName)&&!this._isNullOrUndefined(e.pinboardName))throw this.invalidDetail=!0,new Error(o.errorMessages.PinboardNameEmpty);if(this._isEmptyOrSpaces(e.viewId))throw this.invalidDetail=!0,this._isNullOrUndefined(e.token)&&this._isNullOrUndefined(e.embedToken)?new Error(o.errorMessages.EmptyDbrdOrViewID):new Error(o.errorMessages.EmptyDbrdOrViewIDForToken)}return!0});const t=JSON.parse(JSON.stringify(n.DefaultConstructor));Object.assign(this,t,e),this.loadDashboard=this.Invoke(function(e){this._loadDashboard(e)}),this.loadMultitabDashboard=this.Invoke(function(e){this.deprecationMessage("loadMultitabDashboard"),this._loadMultitabDashboard(e)}),this.loadTabbedDashboards=this.Invoke(function(e){this.deprecated=!1,this._loadMultitabDashboard(e)}),this.loadView=this.Invoke(function(){this._loadView()}),this.loadDashboardWidget=this.Invoke(function(e,t){this.deprecationMessage("loadDashboardWidget"),this._loadDashboardWidget(e,t)}),this.loadAIAssistant=this.Invoke(function(){this._loadAIAssistant()}),this.loadWidget=this.Invoke(function(e,t){this.deprecated=!1,this._loadDashboardWidget(e,t)}),this.loadMultipleWidgets=this.Invoke(function(e){this.deprecationMessage("loadMultipleWidgets"),this._loadMultipleWidgets(e)}),this.loadWidgets=this.Invoke(function(e){this.deprecated=!1,this._loadMultipleWidgets(e)}),this.loadDesigner=this.Invoke(function(e){this._loadDesigner(e)}),this.refreshWidgetData=this.Invoke(function(e,t,i){this.deprecationMessage("refreshWidgetData"),this._refreshWidgetData(e,t,i)}),this.addWidgetToPinboard=this.Invoke(function(e,t,i){this.deprecationMessage("addWidgetToPinboard"),this._addWidgetToPinboard(e,t,i)}),this.saveFilterView=this.Invoke(function(e,t){this.deprecationMessage("saveFilterView"),this._saveFilterViews(e,t)}),this.saveAsFilterView=this.Invoke(function(e,t){this.deprecationMessage("saveAsFilterView"),this._saveAsFilterViews(e,t)}),this.updateFilterView=this.Invoke(function(e,t){this.deprecationMessage("updateFilterView"),this._updateFilterViews(e,t)}),this.getViewsByDashboardId=this.Invoke(function(e,t){this.deprecationMessage("getViewsByDashboardId"),this._getViewsByDashboardId(e,t)}),this.getViewByViewId=this.Invoke(function(e,t){this.deprecationMessage("getViewByViewId"),this._getViewByViewId(e,t)}),this.deleteFilterView=this.Invoke(function(e,t){this.deprecationMessage("deleteFilterView"),this._deleteFilterView(e,t)})}_loadAIAssistant(){this._isInvalidEmbed(l.Mode.AIAssistant,"EmbedModeInvalid")||(this._showLoader(),this._isAIDepdencyLoaded(this))}_loadDashboard(e){if(!this._isInvalidEmbed(l.Mode.View,"EmbedModeInvalid")){if(void 0!=e&&(this.embedOptions.dashboardId=e),this._isEmptyOrSpaces(this.embedOptions.dashboardId)&&this._isEmptyOrSpaces(this.embedOptions.dashboardPath)&&this._isEmptyOrSpaces(this.embedOptions.ViewId))throw new Error(o.errorMessages.EmptyDbrdOrViewID);if(this.embedOptions.anonymousToken.isEnabled){const{groupName:e,userEmail:t}=this.embedOptions.anonymousToken;if(this._isEmptyOrSpaces(e)&&this._isEmptyOrSpaces(t))throw new Error(o.errorMessages.AnonymousEmailandGroup);if(this._isEmptyOrSpaces(e))throw new Error(o.errorMessages.AnonymousGroup);if(this._isEmptyOrSpaces(t))throw new Error(o.errorMessages.AnonymousEmail)}this._checkWidgetList()||(this.embedOptions.embedType==l.EmbedType.Component?(this.embedOptions.dashboardIds=[],this.embedOptions.dashboardPaths=[],this.isDashboardRendering=!0,this._setEmbedDefaults(),this._showLoader(),this._isDependencyLoaded(this)):this.embedOptions.embedType==l.EmbedType.IFrame&&this._createIframe("".concat(this.embedOptions.serverUrl,"/dashboards/").concat(this.embedOptions.dashboardId,"?isembed=true")))}}_loadMultitabDashboard(e){var t,i;if(!this._isInvalidEmbed(l.Mode.View,"EmbedModeInvalid")){if(void 0!==e&&null!==e&&(this.embedOptions.dashboardIds=e),this.embedOptions.embedToken||this.embedOptions.token)throw new Error(o.errorMessages.UnableMultitabDashboardToken);(null===(t=this.embedOptions.dashboardIds)||void 0===t?void 0:t.length)&&(this.embedOptions.dashboardIds=Array.from(new Set(this.embedOptions.dashboardIds))),(null===(i=this.embedOptions.dashboardPaths)||void 0===i?void 0:i.length)&&(this.embedOptions.dashboardPaths=Array.from(new Set(this.embedOptions.dashboardPaths))),this.embedOptions.embedType==l.EmbedType.Component&&(this.embedOptions.viewId="",this.embedOptions.viewName="",this._setEmbedDefaults(),this._showLoader(),this._isDependencyLoaded(this))}}_loadView(){if(!this._isInvalidEmbed(l.Mode.View,"EmbedModeInvalid")){if(""==this.embedOptions.viewId&&""==this.embedOptions.viewName)throw new Error(o.errorMessages.EmptyViewDetails);this.embedOptions.embedType==l.EmbedType.Component&&(this.embedOptions.dashboardIds=[],this.embedOptions.dashboardPaths=[],this.isDashboardViewRendering=!0,this._setEmbedDefaults(),this._showLoader(),this._isDependencyLoaded(this))}}_loadDashboardWidget(e,t){if(this._isEmptyOrSpaces(e))throw new Error(o.errorMessages.EmptyWidgetID);this._isInvalidEmbed(l.Mode.View,"UnableWidgetRender")||(""!=this.embedOptions.pinboardName&&this.pinBoardRendered&&(this.embedOptions.pinboardName=""),this._checkWidgetList()||(this.embedOptions.embedType==l.EmbedType.Component?(this.embedOptions.viewId="",this.embedOptions.viewName="",this.embedOptions.dashboardIds=[],this.embedOptions.dashboardPaths=[],this._setEmbedDefaults(),this.isWidgetMode=!0,this.widgetName=e,this._showLoader(),this._isDependencyLoaded(this,t)):this.embedOptions.embedType==l.EmbedType.IFrame&&this._createIframe("".concat(this.embedOptions.serverUrl,"/dashboards/").concat(this.embedOptions.dashboardId,"?isembed=true"))))}_loadMultipleWidgets(e){if(""==this.embedOptions.widgetList)throw new Error(o.errorMessages.EmptyWidgetList);if(!this._isInvalidEmbed(l.Mode.View,"EmbedModeInvalid")){if(void 0!=e&&(this.embedOptions.dashboardId=e),this.embedOptions.embedToken||this.embedOptions.token)throw new Error(o.errorMessages.UnableMultipleWidgetsToken);if(this.embedOptions.embedType==l.EmbedType.Component){this._setEmbedDefaults(),this.isWidgetMode=!0,this.isMultipleWidgetMode=!0,this.loadMultipleWidget=!0;const t=setInterval(()=>{window.jQuery&&(clearInterval(t),this._widgetNamesEmpty()&&this._isDependencyLoaded(this,e))},1e3)}}}_loadDesigner(e){this._isInvalidEmbed(l.Mode.Design,"EmbedModeInvalid")||(void 0!=e&&(this.embedOptions.dashboardId=e),this._checkWidgetList()||(this.embedOptions.embedType==l.EmbedType.Component?(this.isDashboardRendering=!0,this._setEmbedDefaults(),this._showLoader(),this._isDependencyLoaded(this)):this.embedOptions.embedType==l.EmbedType.IFrame&&this._createIframe("".concat(this.embedOptions.serverUrl,"/dashboard-designer/").concat(this.embedOptions.dashboardId,"?isembed=true"))))}_createIframe(e){var t;const i=document.createElement("iframe");i.frameBorder=0,i.width=this.embedOptions.width,i.height=this.embedOptions.height,i.id="".concat(this.embedOptions.embedContainerId,"_").concat(this.embedOptions.dashboardId),i.allowfullscreen=this.embedOptions.dashboardSettings.showFullScreen,i.setAttribute("src",e),null===(t=document.getElementById(this.embedOptions.embedContainerId))||void 0===t||t.appendChild(i)}_setEmbedDefaults(){this.isWidgetMode=!1,this.widgetName="",this.isDashboardViewMode=!1,this.dashboardViewName=""}_isInvalidEmbed(e,t){if(this.invalidDetail)return!0;if(this.embedOptions.mode!==e)throw new Error(o.errorMessages[t]);return""!=this.embedOptions.pinboardName&&(this.embedOptions.pinboardName=""),!1}_refreshWidgetData(e,t,i){if(1!=Array.isArray(e))throw new Error(o.errorMessages.ArrayWidgetNames);if(this.isMultiTab){const o=a("#"+this.embedOptions.embedContainerId).find(".e-content .bbembed-multitab-dbrd");for(let s=0;s<o.length;s++)if(a(o["".concat(s)]).attr("id").includes(i.toString().replaceAll("-",""))>0){const i=a(o["".concat(s)]).attr("id"),n=this._getDashboardInstance(i);void 0!=n&&n.refreshWidget(e,t);break}}else if(this.isMultipleWidgetMode)this._multipleWidgets("refreshWidget",e,t);else{const i=this._getDashboardInstance();void 0!=i&&i.refreshWidget(e,t)}}_addWidgetToPinboard(e,t,i){if(this._isEmptyOrSpaces(e)||this._isEmptyOrSpaces(t)||this._isEmptyOrSpaces(i))throw this._isEmptyOrSpaces(e)||this._isEmptyOrSpaces(t)?new Error(o.errorMessages.InvalidDbrdAndWidget):new Error(o.errorMessages.InvalidWidgetName);{if(!/^[a-zA-Z0-9!@$^ ()_=\-}{.`~]*$/.test(i))throw new Error(o.errorMessages.WidgetNameSpecialChar);const s=a("#widget-container").attr("data-homepage-id"),n=this,d="embed_nonce="+this._uuidv4Generator()+"&homepageId="+s+"&isPinUpdate="+!0+"&pinWidgetId="+t+"&pinDashbooardId="+e+"&pinWidgetName="+(this._isNullOrUndefined(i)?null:i)+"&pinboard_name="+this.embedOptions.pinboardName+"&embed_mode="+this.embedOptions.mode+"&embed_timestamp="+Math.round((new Date).getTime()/1e3)+"&embed_expirationtime="+this.embedOptions.expirationTime,r={embedQuerString:encodeURI(d),embedQueryString:encodeURI(d),dashboardServerApiUrl:this.dashboardServerApiUrl};this._xhrRequestHelper("POST",this.embedOptions.authorizationServer.url,r,this.embedOptions.authorizationServer.headers,function(e){e.Status?n._addWidgetInPinboard(e.Data):e.Status||n._throwError(o.errorMessages.UnableAddWidget+e.Message)})}}_makeAjaxRequest(e,t,i,o){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},n=arguments.length>5?arguments[5]:void 0;const d=this._validatetoken(this.accessToken),r=this;a.ajax({async:!1,type:e,url:t,headers:{Authorization:d},data:JSON.stringify(i),contentType:"application/json",success:function(e){r[n](e,o,r,s)},error:function(e){r.ajaxErrorFnc(e)}})}_saveFilterViews(e,t){const i=this._isValidGuid(e.ItemId),s=!!this.isMultiTab&&this._isValidGuid(e.ChildItemId);if(this._isEmptyOrSpaces(e.ViewName)||this._isEmptyOrSpaces(e.QueryString)||!(this.isMultiTab&&s&&i||i)){if(!i)throw new Error(o.errorMessages.InvalidDashboardID);if(this.isMultiTab&&!s)throw new Error(o.errorMessages.InvalidChildDbrdID);if(this._isEmptyOrSpaces(e.ViewName))throw new Error(o.errorMessages.InvalidViewName);if(this._isEmptyOrSpaces(e.QueryString))throw new Error(o.errorMessages.InvalidQueryString)}else{const i={ViewName:e.ViewName,ItemId:e.ItemId,QueryString:e.QueryString,IsPublic:!1,ChildItemId:this.isMultiTab?e.ChildItemId:null,IsDefault:!!e.IsDefault&&e.IsDefault};this._makeAjaxRequest("POST","".concat(this.dashboardServerApiUrl,"/v4.0/dashboards/views"),i,t,e,"_saveViewSuccess")}}_saveAsFilterViews(e,t){const i=this._isValidGuid(e.ItemId),s=!!this.isMultiTab&&this._isValidGuid(e.ChildItemId);if(this._isEmptyOrSpaces(e.ViewName)||this._isEmptyOrSpaces(e.QueryString)||!(this.isMultiTab&&s&&i||i)){if(!i)throw new Error(o.errorMessages.InvalidDashboardID);if(this.isMultiTab&&!s)throw new Error(o.errorMessages.InvalidChildDbrdID);if(this._isEmptyOrSpaces(e.ViewName))throw new Error(o.errorMessages.InvalidViewName);if(this._isEmptyOrSpaces(e.QueryString))throw new Error(o.errorMessages.InvalidQueryString)}else{const i={ViewName:e.ViewName,ItemId:e.ItemId,QueryString:e.QueryString,ChildItemId:this.isMultiTab?e.ChildItemId:null,IsDefault:!!e.IsDefault&&e.IsDefault};this._makeAjaxRequest("POST","".concat(this.dashboardServerApiUrl,"/v4.0/dashboards/views"),i,t,e,"_saveViewSuccess")}}_updateFilterViews(e,t){const i=this._isValidGuid(e.DashboardId),s=this._isValidGuid(e.ViewId);if(i&&!this._isEmptyOrSpaces(e.QueryString)&&s){const i={ViewId:e.ViewId,DashboardId:e.DashboardId,QueryString:e.QueryString,IsDefault:e.IsDefault};this._makeAjaxRequest("PUT","".concat(this.dashboardServerApiUrl,"/v4.0/dashboards/views"),i,t,e,"_updateFilterViewsSuccess")}else{if(!i)throw new Error(o.errorMessages.InvalidDashboardID);if(!s)throw new Error(o.errorMessages.InvalidViewID);if(this._isEmptyOrSpaces(e.QueryString))throw new Error(o.errorMessages.InvalidQueryString)}}_getViewsByDashboardId(e,t){const i=this._isValidGuid(e);if(i){const i={DashboardId:e};this._makeAjaxRequest("GET","".concat(this.dashboardServerApiUrl,"/v4.0/dashboards/").concat(e,"/views"),i,t,null,"_getViewsByDashboardIdSuccess")}else if(!i)throw new Error(o.errorMessages.InvalidDashboardID)}_getViewByViewId(e,t){const i=this._isValidGuid(e);if(i){const i={ViewId:e};this._makeAjaxRequest("GET","".concat(this.dashboardServerApiUrl,"/v4.0/dashboards/views/").concat(e),i,t,null,"_getViewByViewIdSuccess")}else if(!i)throw new Error(o.errorMessages.InvalidViewID)}_deleteFilterView(e,t){const i=this._isValidGuid(e);if(i){const i={ViewId:e};this._makeAjaxRequest("DELETE","".concat(this.dashboardServerApiUrl,"/v4.0/dashboards/views/").concat(e),i,t,e,"_deleteFilterViewSuccess")}else if(!i)throw new Error(o.errorMessages.InvalidViewID)}_saveViewSuccess(e,t,i,o){const s=i;if(e.Status){const i={ItemId:o.ItemId,ViewId:e.Data,ViewName:o.ViewName};s._updateInFilterOverviewUI(i.ViewName,e.Data),window["".concat(t)]instanceof Function?window["".concat(t)].call(s,i,e.StatusMessage):t.call(s,i,e.StatusMessage)}else window["".concat(t)]instanceof Function?window["".concat(t)].call(s,null,e.StatusMessage):t.call(s,null,e.StatusMessage)}_updateFilterViewsSuccess(e,t,i,o){const s=i;if(e.Status){const i={};i.ViewId=o.ViewId,window["".concat(t)]instanceof Function?window["".concat(t)].call(s,i,e.StatusMessage):t.call(s,i,e.StatusMessage)}}_deleteFilterViewSuccess(e,t,i,o){var s=i;window["".concat(t)]instanceof Function?window["".concat(t)].call(s,o):t.call(s,o)}_getViewByViewIdSuccess(e,t,i){const o=i,s={};e&&(s.ViewId=e.ViewId,s.ViewName=e.ViewName,s.QueryString=e.QueryString),window["".concat(t)]instanceof Function?window["".concat(t)].call(o,s):t.call(o,s)}_getViewsByDashboardIdSuccess(e,t,i){const o=i;if(e){const i=[];for(let t=0;t<e.length;t++){const o={};o.ItemId=e["".concat(t)].ItemId,o.ViewId=e["".concat(t)].ViewId,o.ViewName=e["".concat(t)].ViewName,o.QueryString=e["".concat(t)].QueryString,i.push(o)}window["".concat(t)]instanceof Function?window["".concat(t)].call(o,i):t.call(o,i)}else window["".concat(t)]instanceof Function?window["".concat(t)].call(o):t.call(o)}_isValidGuid(e){return/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/.test(e)}_initializeDashboardContainer(){const e=this.embedOptions.embedContainerId;this.childContainer=document.createElement("div"),this.childContainer.id=e+"_embeddedbi";const t=l._gettinstance(document.getElementById(e),"embeddedBoldBI");t&&"undefined"!==typeof a&&(this.deprecated=!1,t.destroy());const i=document.getElementById(e);i&&(i.innerHTML="",i.append(this.childContainer)),l._putinstance(i,"embeddedBoldBI",this.storeObj)}static create(e){const t=new l;if(t.isMultiTab=!1,t.parentDbrdId="",t.pinboardIds=[],delete window.multiTabFilterParameter,document.addEventListener&&(document.addEventListener("webkitfullscreenchange",function(){t._fullscreenExitHandler(t)},!1),document.addEventListener("mozfullscreenchange",function(){t._fullscreenExitHandler(t)},!1),document.addEventListener("fullscreenchange",function(){t._fullscreenExitHandler(t)},!1),document.addEventListener("MSFullscreenChange",function(){t._fullscreenExitHandler(t)},!1),window.addEventListener("resize",function(){t._isNullOrUndefined(a)||(t.deprecated=!1,t.resizeDashboard()),t._isEmptyOrSpaces(t.embedOptions.pinboardName)&&(t._isNullOrUndefined(t.embedOptions.pinboardName)||t._isNullOrUndefined(a))||t.setListMinimumHeight()})),t._validateOptions(e)){if(t._initializeEmbedOptions(e),t.embedOptions.embedType!=l.EmbedType.Component){t._throwError(o.errorMessages.InvalidEmbedType,t.embedOptions.embedContainerId),t.invalidDetail=!0;const e=Object.assign(t);return t.storeObj=e,e}try{if(""==t.embedOptions.widgetList||t.embedOptions.embedContainerId){t.childContainer=document.createElement("div"),t.childContainer.id=t.embedOptions.embedContainerId+"_embeddedbi";const e=l._gettinstance(document.getElementById(t.embedOptions.embedContainerId),"embeddedBoldBI");null==e&&void 0==e||t._isNullOrUndefined(a)||e.dispose(),document.getElementById(t.embedOptions.embedContainerId).innerHTML="",document.getElementById(t.embedOptions.embedContainerId).append(t.childContainer)}if(!t._initializeUrls()){t.invalidDetail=!0;const e=Object.assign(t);return t.storeObj=e,e}t.embedOptions.width||t.embedOptions.height||t._setDimensions(),t.IsDependencyLoaded||(t.embedOptions.environment==l.Environment.Cloud?(t._isEmptyOrSpaces(t.cdnLink)||t._isEmptyOrSpaces(t.designerRootUrl))&&t._getCloudLinks():t._addJquerydependentFiles())}catch(s){if(s.message==o.errorMessages.CantReadNull)return alert(o.errorMessages.InvalidEmbedContainerID),!1;{t._throwError(s.message,t.embedOptions.embedContainerId),t.invalidDetail=!0;const e=Object.assign(t);return t.storeObj=e,e}}if(""==t.embedOptions.widgetList||t.embedOptions.embedContainerId){const e=document.getElementById(t.embedOptions.embedContainerId);this._hasinstance(e,"embeddedBoldBI")&&this._removeinstance(e,"embeddedBoldBI")}const i=Object.assign(t);if(t.storeObj=i,""==t.embedOptions.widgetList||t.embedOptions.embedContainerId){const e=document.getElementById(t.embedOptions.embedContainerId);this._putinstance(e,"embeddedBoldBI",i)}return i}t._initializeEmbedOptions(e),t.invalidDetail=!0;const i=Object.assign(t);return t.storeObj=i,i}static getInstance(e){return l._widgetsCollection=[],this._gettinstance(document.getElementById(e),"embeddedBoldBI")}Invoke(e){const t=this;return function(){try{for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e.apply(this,o)}catch(n){t._throwError(n,this.embedOptions.embedContainer)}}.bind(this)}dispose(){this.deprecated=!1,this.destroy()}destroy(){this.deprecationMessage("destroy");const e=this;if(this.isMultiTab){const e=a("#"+this.embedOptions.embedContainerId).find(".e-content .bbembed-multitab-dbrd");for(let t=0;t<e.length;t++){const i=a(e["".concat(t)]).attr("id"),o=this._getDashboardInstance(i);void 0!=o&&o.destroy()}l._removeinstance(document.getElementById(this.embedOptions.embedContainerId),"embeddedBoldBI"),document.getElementById(this.embedOptions.embedContainerId).innerHTML=""}else if(a(".pinBoardDbrd").length>0)a(".pinBoardDbrd").each(function(){const t=e._getDashboardInstance(this.id);void 0!=t&&t.destroy()}),l._removeinstance(document.getElementById(this.embedOptions.embedContainerId),"embeddedBoldBI"),document.getElementById(this.embedOptions.embedContainerId).innerHTML="";else{this.isMultipleWidgetMode&&this._multipleWidgets("destroy");const e=this.embedOptions.embedContainerId,t=this._getDashboardInstance();void 0!=t&&t.destroy(),l._removeinstance(document.getElementById(e),"embeddedBoldBI"),document.getElementById(e).innerHTML=""}1==this.embedOptions.isRemoveStyle&&document.querySelectorAll("link").forEach(function(t){e.cssFiles.forEach(function(e){-1!=t.href.toLowerCase().indexOf(e.toLowerCase())&&t.parentNode.removeChild(t)})})}loadDashboardView(){throw new Error(o.errorMessages.NotImplementedMethod)}exportDashboardAsPdf(e){if(this.deprecationMessage("exportDashboardAsPdf"),this.isMultiTab){let t=e.dashboardId;t=t.replaceAll("-","");const i="multi_"+t+"_embeddedbi",o=this._getDashboardInstance(i);void 0!=o&&o.exportAsPdf(e.fileName,e.pageSize,e.pageOrientation,e.showAppliedFilters)}else{const t=this._getDashboardInstance();void 0!=t&&(e?t.exportAsPdf(e.fileName,e.pageSize,e.pageOrientation,e.showAppliedFilters):t.exportAsPdf())}}exportDashboardAsImage(e){if(this.deprecationMessage("exportDashboardAsImage"),parseInt(e.resolutionDpi,10)>300&&(e.resolutionDpi="300"),this.isMultiTab){let t=e.dashboardId;t=t.replaceAll("-","");const i="multi_"+t+"_embeddedbi",o=this._getDashboardInstance(i);void 0!=o&&o.exportAsImage(e.fileName,e.exportImageFormat,e.resolutionDpi,e.showAppliedFilters)}else{const t=this._getDashboardInstance();void 0!=t&&(e?t.exportAsImage(e.fileName,e.exportImageFormat,e.resolutionDpi,e.showAppliedFilters):t.exportAsImage())}}exportDashboardAsExcel(e){if(this.deprecationMessage("exportDashboardAsExcel"),this.isMultiTab){let t=e.dashboardId;t=t.replaceAll("-","");const i="multi_"+t+"_embeddedbi",o=this._getDashboardInstance(i);void 0!=o&&o.exportAsExcel(e.fileName,e.fileType)}else{const t=this._getDashboardInstance();void 0!=t&&(e?t.exportAsExcel(e.fileName,e.fileType):t.exportAsExcel())}}exportWidgetAsPdf(e){this.deprecationMessage("exportWidgetAsPdf");const t=this;if(this.isMultiTab){let t=e.dashboardId;t=t.replaceAll("-","");const i="multi_"+t+"_embeddedbi",o=this._getDashboardInstance(i);void 0!=o&&o.exportWidgetAsPdf(e.widgetName,e.fileName,e.pageSize,e.pageOrientation,e.showAppliedFilters)}else if(a(".pinBoardDbrd").length>0){const i=a(".pinBoardDbrd").length;for(let o=0;o<i;o++)if(t.pinboardIds["".concat(o)].widgetId==e.dashboardId){const i=t.pinboardIds["".concat(o)].pinboardContainerId,s=t._getDashboardInstance(i+"_embeddedbi");void 0!=s&&s.exportWidgetAsPdf(e.widgetName,e.fileName,e.pageSize,e.pageOrientation,e.showAppliedFilters)}}else if(this.isMultipleWidgetMode)this._multipleWidgets("exportWidgetAsPdf",e.dashboardId,e.widgetName,e.fileName,e.pageSize,e.pageOrientation,e.showAppliedFilters);else{const t=this._getDashboardInstance();void 0!=t&&t.exportWidgetAsPdf(e.widgetName,e.fileName,e.pageSize,e.pageOrientation,e.showAppliedFilters)}}exportWidgetAsImage(e){this.deprecationMessage("exportWidgetAsImage");const t=this;if(parseInt(e.resolutionDpi,10)>300&&(e.resolutionDpi="300"),this.isMultiTab){let t=e.dashboardId;t=t.replaceAll("-","");const i="multi_"+t+"_embeddedbi",o=this._getDashboardInstance(i);void 0!=o&&o.exportWidgetAsImage(e.widgetName,e.fileName,e.exportImageFormat,e.resolutionDpi,e.showAppliedFilters)}else if(a(".pinBoardDbrd").length>0){const i=a(".pinBoardDbrd").length;for(let o=0;o<i;o++)if(t.pinboardIds["".concat(o)].widgetId==e.dashboardId){const i=t.pinboardIds["".concat(o)].pinboardContainerId,s=t._getDashboardInstance(i+"_embeddedbi");void 0!=s&&s.exportWidgetAsImage(e.widgetName,e.fileName,e.exportImageFormat,e.resolutionDpi,e.showAppliedFilters)}}else if(this.isMultipleWidgetMode)this._multipleWidgets("exportWidgetAsImage",e.dashboardId,e.widgetName,e.fileName,e.exportImageFormat,e.resolutionDpi,e.showAppliedFilters);else{const t=this._getDashboardInstance();void 0!=t&&t.exportWidgetAsImage(e.widgetName,e.fileName,e.exportImageFormat,e.resolutionDpi,e.showAppliedFilters)}}exportWidgetAsExcel(e){this.deprecationMessage("exportWidgetAsExcel");const t=this;if(this.isMultiTab){let t=e.dashboardId;t=t.replaceAll("-","");const i="multi_"+t+"_embeddedbi",o=this._getDashboardInstance(i);void 0!=o&&o.exportWidgetAsExcel(e.widgetName,e.fileName,e.fileType)}else if(a(".pinBoardDbrd").length>0){const i=a(".pinBoardDbrd").length;for(let o=0;o<i;o++)if(t.pinboardIds["".concat(o)].widgetId==e.dashboardId){const i=t.pinboardIds["".concat(o)].pinboardContainerId,s=t._getDashboardInstance(i+"_embeddedbi");void 0!=s&&s.exportWidgetAsExcel(e.widgetName,e.fileName,e.fileType)}}else if(this.isMultipleWidgetMode)this._multipleWidgets("exportWidgetAsExcel",e.dashboardId,e.widgetName,e.fileName,e.fileType);else{const t=this._getDashboardInstance();void 0!=t&&t.exportWidgetAsExcel(e.widgetName,e.fileName,e.fileType)}}exportWidgetAsCsv(e){this.deprecationMessage("exportWidgetAsCsv");const t=this;if(this.isMultiTab){let t=e.dashboardId;t=t.replaceAll("-","");const i="multi_"+t+"_embeddedbi",o=this._getDashboardInstance(i);void 0!=o&&o.exportWidgetAsCsv(e.widgetName,e.fileName)}else if(a(".pinBoardDbrd").length>0){const i=a(".pinBoardDbrd").length;for(let o=0;o<i;o++)if(t.pinboardIds["".concat(o)].widgetId==e.dashboardId){const i=t.pinboardIds["".concat(o)].pinboardContainerId,s=t._getDashboardInstance(i+"_embeddedbi");void 0!=s&&s.exportWidgetAsCsv(e.widgetName,e.fileName)}}else if(this.isMultipleWidgetMode)this._multipleWidgets("exportWidgetAsCsv",e.dashboardId,e.widgetName,e.fileName);else{const t=this._getDashboardInstance();void 0!=t&&t.exportWidgetAsCsv(e.widgetName,e.fileName)}}updateDatasource(){this.deprecationMessage("updateDatasource");const e=this._getDashboardInstance();void 0!=e&&e.modules.queryDesigner.saveQueryInfo()}updateFilters(e){this.deprecationMessage("updateFilters");const t=this;if(this.isMultiTab){window.multiTabFilterParameter=e;const t=a("#"+this.embedOptions.embedContainerId).find(".e-content .bbembed-multitab-dbrd");for(let i=0;i<t.length;i++){const o=a(t["".concat(i)]).attr("id"),s=this._getDashboardInstance(o);void 0!=s&&s.option("filterParameters",e)}}else if(a(".pinBoardDbrd").length>0)a(".pinBoardDbrd").each(function(){const i=t._getDashboardInstance(this.id);void 0!=i&&i.option("filterParameters",e)});else if(this.isMultipleWidgetMode)this._multipleWidgets("filterParameters",e);else{const t=this._getDashboardInstance();void 0!=t&&t.option("filterParameters",e)}}applyTheme(e){this.deprecated=!1,this.updateDashboardTheme(e)}updateDashboardTheme(e){if(this.deprecationMessage("updateDashboardTheme"),e&&""!==e.trim()){const t=this;this.embedOptions.dashboardSettings=this.embedOptions.dashboardSettings||{},this.embedOptions.settings.theme=this.embedOptions.settings.theme||{},this.embedOptions.dashboardSettings.themeSettings=this.embedOptions.dashboardSettings.themeSettings||{},this.embedOptions.dashboardSettings.themeSettings.dashboard=e,this.embedOptions.settings.theme.dashboard=e,document.querySelectorAll("link").forEach(function(e){e.href.includes("/dashboard?theme=")&&e.parentNode.removeChild(e)});const i=document.createElement("link");if(i.rel="stylesheet",this.embedOptions.environment==l.Environment.Enterprise?i.href=this.customThemeUrl+"/dashboard?theme="+e:i.href=this.rootUrl+"/theme/styles/dashboard?theme="+e,a('link[href="'+i.href+'"]').length<1&&document.head.appendChild(i),this.isMultiTab){const t=a("#"+this.embedOptions.embedContainerId).find(".e-content .bbembed-multitab-dbrd");for(let i=0;i<t.length;i++){const o=a(t["".concat(i)]).attr("id"),s=this._getDashboardInstance(o);void 0!=s&&s.option("dashboardThemeSettings.dashboardTheme",e)}}else if(a(".pinBoardDbrd").length>0)a(".pinBoardDbrd").each(function(){const i=t._getDashboardInstance(this.id);void 0!=i&&i.option("dashboardThemeSettings.dashboardTheme",e)});else{const t=this._getDashboardInstance();void 0!=t&&t.option("dashboardThemeSettings.dashboardTheme",e)}}else this._throwError(o.errorMessages.InvalidThemeName)}resizeDashboard(e){this.deprecationMessage("resizeDashboard");const t=this;if(this.embedOptions.isDynamicWidth&&this.embedOptions.isDynamicHeight&&this._onBrowserWindowResize(),this.isMultiTab){a("#"+t.embedOptions.embedContainerId+"_multi_tab_dashboard").css("width",a("#"+t.embedOptions.embedContainerId).width()),window.multiTabFilterParameter=e;const i=a("#"+this.embedOptions.embedContainerId).find(".e-content .bbembed-multitab-dbrd");for(let e=0;e<i.length;e++){const o=a(i["".concat(e)]).attr("id"),s=this._getDashboardInstance(o);if(void 0!=s){const e=window[t.embedOptions.events.onResize];e instanceof Function&&e.call(this,s),this.embedOptions.events.onResize instanceof Function&&this.embedOptions.events.onResize.call(this,s),setTimeout(()=>{s.resizeDashboard()},200)}}this._tabSelected()}else if(a(".pinBoardDbrd").length>0)a(".pinBoardDbrd").each(function(){const e=t._getDashboardInstance(this.id);if(void 0!=e){const i=window[t.embedOptions.events.onResize];i instanceof Function&&i.call(t,e),t.embedOptions.events.onResize instanceof Function&&t.embedOptions.events.onResize.call(t,e),e.resizeDashboard()}});else if(this.isMultipleWidgetMode)this._multipleWidgets("resizeDashboard");else{const e=this._getDashboardInstance();if(void 0!=e){const i=window[t.embedOptions.events.onResize];i instanceof Function&&i.call(this,e),this.embedOptions.events.onResize instanceof Function&&this.embedOptions.events.onResize.call(this,e),setTimeout(()=>{e.resizeDashboard()},200)}}}deprecationMessage(e){this.deprecated&&(0,d.deprecatedMethod)(e),this.deprecated=!0}refreshDashboard(){this.deprecationMessage("refreshDashboard");const e=this;if(this.isMultiTab){const e=a("#"+this.embedOptions.embedContainerId).find(".e-content .bbembed-multitab-dbrd");for(let t=0;t<e.length;t++){const i=a(e["".concat(t)]).attr("id"),o=this._getDashboardInstance(i);void 0!=o&&o.updateDashboard()}}else if(a(".pinBoardDbrd").length>0)a(".pinBoardDbrd").each(function(){const t=e._getDashboardInstance(this.id);void 0!=t&&t.updateDashboard()});else if(this.isMultipleWidgetMode)this._multipleWidgets("updateDashboard");else{const e=this._getDashboardInstance();void 0!=e&&e.updateDashboard()}}clearAllFilter(){if(this.deprecationMessage("clearAllFilter"),this.isMultiTab){const e=a("#"+this.embedOptions.embedContainerId).find(".e-content .bbembed-multitab-dbrd");for(let t=0;t<e.length;t++){const i=a(e["".concat(t)]).attr("id"),o=this._getDashboardInstance(i);void 0!=o&&o.clearAllFilters()}}else if(this.isMultipleWidgetMode)this._multipleWidgets("clearAllFilters");else{const e=this._getDashboardInstance();void 0!=e&&e.clearAllFilters()}}hidePopup(){if(this.isMultiTab){const e=a("#"+this.embedOptions.embedContainerId).find(".e-content .bbembed-multitab-dbrd");for(let t=0;t<e.length;t++){const i=a(e["".concat(t)]).attr("id"),o=this._getDashboardInstance(i);void 0!=o&&o.hideAllPopupsForDashboard()}}else{const e=this._getDashboardInstance();void 0!=e&&e.hideAllPopupsForDashboard()}}hideLoader(){this.deprecated=!1,this.hideWaitingIndicator()}hideWaitingIndicator(){if(this.deprecationMessage("hideWaitingIndicator"),this.isMultiTab){const e=a("#"+this.embedOptions.embedContainerId).find(".e-content .bbembed-multitab-dbrd");for(let t=0;t<e.length;t++){const i=a(e["".concat(t)]).attr("id"),o=a("#"+i+"_designAreaContainer").data("BoldBIDashboardWaitingPopup");null!==o&&void 0!==o&&o.destroy()}}else{const e=a(".bbi-dashboarddesigner-designAreaContainer").data("BoldBIDashboardWaitingPopup");null!==e&&void 0!==e&&e.destroy()}}getWidgetData(e,t,i){let o;if(this.deprecationMessage("getWidgetData"),this.isMultiTab){const s=a("#"+this.embedOptions.embedContainerId).find(".e-content .bbembed-multitab-dbrd");for(let n=0;n<s.length;n++)if(a(s["".concat(n)]).attr("id").includes(i.toString().replaceAll("-",""))>0){const i=a(s["".concat(n)]).attr("id"),d=this._getDashboardInstance(i);void 0!=d&&(o=d.getWidgetData(e,t),o.toLowerCase().includes("widget")>0&&(window["".concat(t)]instanceof Function?window["".concat(t)].call(this,o):t.call(this,o)));break}}else{const i=this._getDashboardInstance();void 0!=i&&(o=i.getWidgetData(e,t),o.toLowerCase().includes("widget")>0&&(window["".concat(t)]instanceof Function?window["".concat(t)].call(this,o):t.call(this,o)))}}getWidgetDataWithFilters(e,t,i,s){let n;const d=JSON.stringify({dashboardId:t,widgetName:e,filter:i});if(this._isEmptyOrSpaces(t))return n={status:!1,message:o.errorMessages.InvalidDashboardID,request:d},n;if(this._isEmptyOrSpaces(e))return n={status:!1,message:o.errorMessages.InvalidWidgetName,request:d},n;const r=this;var l=this._validatetoken(r.accessToken);return a.ajax({type:"POST",url:this.designerRootUrl+"/v1.0/design/loadwidgetdata",data:d,contentType:"application/json; charset=utf-8",beforeSend:function(e){e.setRequestHeader("Authorization",l),e.setRequestHeader("Caller",r.dashboardServerApiUrl)},success:function(e){n=e.Status?{status:e.Status,data:e.Data,message:e.Message,request:d}:{status:e.Status,message:e.Message,request:d},s.call(r,n)},error:function(e,t){n={status:!1,message:t,request:e},s.call(r,n)}}),n={status:!0,message:o.errorMessages.InitFetch,request:d},n}fetchCategories(e,t){this.deprecated=!1,this.getDashboardCategories(e,t)}getDashboardCategories(e,t){this.deprecationMessage("getDashboardCategories");const i=this._isNullOrUndefined(t)||this._isEmptyOrSpaces(t)?this._getDashboardInstance():this._getDashboardInstance(t+"_embeddedbi");if(void 0!=i){const t=i.GetDashboardCategories(e);window["".concat(e)]instanceof Function?window["".concat(e)].call(this,t):e.call(this,t)}}createCategory(e,t,i,o){this.deprecated=!1,this.createDashboardCategory(e,t,i,o)}createDashboardCategory(e,t,i,o){this.deprecationMessage("createDashboardCategory");const s=this._isNullOrUndefined(o)||this._isEmptyOrSpaces(o)?this._getDashboardInstance():this._getDashboardInstance(o+"_embeddedbi");if(void 0!=s){const o=s.CreateDashboardCategory(e,t,i);window["".concat(i)]instanceof Function?window["".concat(i)].call(this,o):i.call(this,o)}}saveDashboard(e,t){this.deprecationMessage("saveDashboard");const i=this._isNullOrUndefined(t)||this._isEmptyOrSpaces(t)?this._getDashboardInstance():this._getDashboardInstance(t+"_embeddedbi");void 0!=i&&(i.model.serverSettings.enableMarkAsPublic=!!e.isPublic&&e.isPublic,i.saveDashboardToServer(e))}getWidgetInstance(e){this.deprecationMessage("getWidgetInstance");const t=new h;t.containerID=this.embedOptions.embedContainerId,this._widgetsCollection[this._widgetsCollection.length]=e;const i=Object.assign(t);return t.widgetCollection=this._widgetsCollection,l._hasinstance(document.getElementById(this.embedOptions.embedContainerId),"embeddedBoldBIWidget_"+e)||l._putinstance(document.getElementById(this.embedOptions.embedContainerId),"embeddedBoldBIWidget_"+e,i),i}updateWidgetFilters(e){this.deprecationMessage("updateWidgetFilters");const t=this,i=this._getWidgetFilterInfo();if(this.isMultiTab){const e=a("#"+this.embedOptions.embedContainerId).find(".e-content .bbembed-multitab-dbrd");for(let t=0;t<e.length;t++){const o=a(e["".concat(t)]).attr("id"),s=this._getDashboardInstance(o);void 0!=s&&s.option("widgets",i)}}else if(a(".pinBoardDbrd").length>0)a(".pinBoardDbrd").each(function(){const e=t._getDashboardInstance(this.id);void 0!=e&&e.option("widgets",i)});else if(this.isMultipleWidgetMode)this._multipleWidgets("widgets",i);else{const t=this._isNullOrUndefined(e)||this._isEmptyOrSpaces(e)?this._getDashboardInstance():this._getDashboardInstance(e+"_embeddedbi");void 0!=t&&t.option("widgets",i)}}_initializeEmbedOptions(e){(0,d.checkDeprecatedEmbedOptions)(e),this.embedOptions=Object.assign(this.embedOptions,e),this.embedOptions=(0,d.migrateDeprecatedEventKeys)(this.embedOptions)}_setDimensions(){const e=document.getElementById(this.embedOptions.embedContainerId);if(e.style.width&&e.style.height)this.embedOptions.width=e.style.width,this.embedOptions.height=e.style.height;else{const t=e.parentNode;this.embedOptions.width="".concat((null===t||void 0===t?void 0:t.clientWidth)||window.innerWidth,"px"),this.embedOptions.height="".concat((null===t||void 0===t?void 0:t.clientHeight)||window.innerHeight,"px"),Object.assign(this.embedOptions,{isDynamicWidth:!0,isDynamicHeight:!0})}}_onBrowserWindowResize(){if(this.embedOptions.isDynamicWidth&&this.embedOptions.isDynamicHeight){const e=document.getElementById(this.embedOptions.embedContainerId),t=e.parentNode;e.style.width="".concat((null===t||void 0===t?void 0:t.clientWidth)||window.innerWidth,"px"),e.style.height="".concat((null===t||void 0===t?void 0:t.clientHeight)||window.innerHeight,"px")}}_loadCloudDepedentFiles(e){const t=e.Data;this.cdnLink=t.CdnUrl,this.designerRootUrl=t.DesignerServerUrl,this._addJquerydependentFiles()}_handleEnvironmentError(e){"error"==e.type&&(this._throwError(o.errorMessages.EnvironmentMemberError),this.invalidDetail=!0)}_getCloudLinks(){this._isEmptyOrSpaces(this.embedOptions.cloudCdnTimeStamp)?this._xhrRequestHelper("Get",this.dashboardServerApiUrl+"/system-settings/get-url",{},{},this._loadCloudDepedentFiles):(this.cdnLink="https://cdn.boldbi.com/ds/".concat(this.embedOptions.cloudCdnTimeStamp,"/cdn"),this.designerRootUrl="https://data.boldbi.com",this._addJquerydependentFiles())}_loadDepedentFiles(){var e,t,i,o,s,n,d,a,r,h,m,c;const b=null===(t=null===(e=this.embedOptions)||void 0===e?void 0:e.dashboardSettings)||void 0===t?void 0:t.themeSettings,p=null===(o=null===(i=this.embedOptions)||void 0===i?void 0:i.settings)||void 0===o?void 0:o.theme,u="boolean"===typeof(null===b||void 0===b?void 0:b.isLocalTheme)?b.isLocalTheme:"boolean"===typeof(null===p||void 0===p?void 0:p.localTheme)&&p.localTheme,v=(null===(s=null===b||void 0===b?void 0:b.dashboard)||void 0===s?void 0:s.trim())||(null===(n=null===p||void 0===p?void 0:p.dashboard)||void 0===n?void 0:n.trim())||"",g=(null===(d=null===b||void 0===b?void 0:b.application)||void 0===d?void 0:d.trim())||(null===(a=null===p||void 0===p?void 0:p.application)||void 0===a?void 0:a.trim())||"";b&&!u&&""!==v?this._addedDependentFiles(this,this.dashboardThemeCssFiles,!0):b&&!u&&""!==g?this._addedDependentFiles(this,this.applicationThemeCssFiles,!0):b&&p||this._addedDependentFiles(this,this.applicationThemeCssFiles,!0),this.embedOptions.mode==l.Mode.Design||this.embedOptions.mode==l.Mode.DataSource||this.embedOptions.mode==l.Mode.Connection?this._addedDependentFiles(this,this.designerScriptFiles,!1):this._addedDependentFiles(this,this.viewerScriptFiles,!1);""!==(this._isEmptyOrSpaces(null===(r=this.embedOptions.dashboardSettings)||void 0===r?void 0:r.fontFamily)?this._isEmptyOrSpaces(null===(c=null===(m=null===(h=this.embedOptions)||void 0===h?void 0:h.settings)||void 0===m?void 0:m.theme)||void 0===c?void 0:c.fontFamily)?"":this.embedOptions.settings.theme.fontFamily:this.embedOptions.dashboardSettings.fontFamily)&&this._addedDependentFiles(this,this.fontFamilyCssFiles,!0),""!=this.embedOptions.pinboardName&&this._addedDependentFiles(this,this.pinBoardScriptFiles,!1),this.embedOptions.mode==l.Mode.AIAssistant&&(this._addedDependentFiles(this,this.AICssFiles,!0),this._addedDependentFiles(this,this.AIScriptFiles,!1),this._addedDependentFiles(this,this.applicationThemeCssFiles,!0)),this._addedDependentFiles(this,this.cssFiles,!0),""!=this.embedOptions.pinboardName&&this._addedDependentFiles(this,this.pinboardCssFiles,!0),this.embedOptions.mode!=l.Mode.Design&&this.embedOptions.mode!=l.Mode.DataSource&&this.embedOptions.mode!=l.Mode.Connection||this._addedDependentFiles(this,this.designerCssFiles,!0);this.bingMapRequired&&this._loadBingmapDependentFiles(),this.embedOptions.settings.azureMapRequired&&this._loadAzureMapDependentFiles(),this.embedOptions.mode!=l.Mode.AIAssistant&&this._loadDependentDesignerFiles(this)}_loadBingmapDependentFiles(){const e=document.createElement("script");this.embedOptions.nonce&&(e.nonce=this.embedOptions.nonce),e.src="https://www.bing.com/api/maps/mapcontrol",e.async=!0,document.head.appendChild(e)}_loadAzureMapDependentFiles(){const e=document.createElement("link");e.rel="stylesheet",e.href="https://atlas.microsoft.com/sdk/javascript/mapcontrol/3/atlas.min.css",document.head.appendChild(e);const t=document.createElement("script");this.embedOptions.nonce&&(t.nonce=this.embedOptions.nonce),t.type="text/javascript",t.src="https://atlas.microsoft.com/sdk/javascript/mapcontrol/3/atlas.min.js",t.async=!0,document.head.appendChild(t)}_loadDependentDesignerFiles(e){window.BoldBIDashboard instanceof Object&&window.BoldBIDashboard.createObject instanceof Function&&window.Designer instanceof Object?(e._addedDependentFiles(e,e.ejViewerDependentFiles,!1),e.embedOptions.mode!=l.Mode.Design&&e.embedOptions.mode!=l.Mode.DataSource&&e.embedOptions.mode!=l.Mode.Connection||e._addedDependentFiles(e,e.ejDesignerDependentFiles,!1)):setTimeout(e._loadDependentDesignerFiles,50,e)}_addWrapperDependentFiles(e,t){const i=e;t.forEach(function(e){if(!("jquery-ui.min.js"==e&&void 0!=window.jQuery.ui&&"1.14.1"==window.jQuery.ui.version||"jsrender.min.js"==e&&void 0!=window.jQuery.views&&"v1.0.0-beta"==window.jQuery.views.jsviews)){const t=document.createElement("script");this.embedOptions.nonce&&(t.nonce=this.embedOptions.nonce),"jquery.easing.1.3.min.js"==e&&(t.src=i.embedOptions.environment==l.Environment.Enterprise?i.embedOptions.enableDomainMasking?this.maskedCdnUrl+this.embedSDKWrapperVersion+"/script/"+e:i.rootUrl+"/cdn/scripts/designer/"+e:i.cdnLink+"/scripts/designer/"+e),"jquery-ui.min.js"==e?t.src=i.embedOptions.environment==l.Environment.Enterprise?i.embedOptions.enableDomainMasking?this.maskedCdnUrl+this.embedSDKWrapperVersion+"/script/"+e:i.rootUrl+"/cdn/scripts/"+e:i.cdnLink+"/scripts/"+e:"jsrender.min.js"==e&&(t.src=i.embedOptions.environment==l.Environment.Enterprise?i.embedOptions.enableDomainMasking?this.maskedCdnUrl+this.embedSDKWrapperVersion+"/script/"+e:i.rootUrl+"/cdn/scripts/designer/"+e:i.cdnLink+"/scripts/designer/"+e),document.head.appendChild(t),t.onerror=e=>this._handleEnvironmentError(e)}}.bind(i))}_addedDependentFiles(e,t,i){var o,s,n,d,r,h,m,c,b,p,u,v,g,w,f,I,y,O,D,S,_,E,C,A,x;let M="";const F="boolean"===typeof(null===(s=null===(o=this.embedOptions.dashboardSettings)||void 0===o?void 0:o.themeSettings)||void 0===s?void 0:s.isLocalTheme)?null===(d=null===(n=this.embedOptions.dashboardSettings)||void 0===n?void 0:n.themeSettings)||void 0===d?void 0:d.isLocalTheme:null!==(m=null===(h=null===(r=this.embedOptions.settings)||void 0===r?void 0:r.theme)||void 0===h?void 0:h.localTheme)&&void 0!==m&&m,T=this._isEmptyOrSpaces(null===(p=null===(b=null===(c=this.embedOptions)||void 0===c?void 0:c.dashboardSettings)||void 0===b?void 0:b.themeSettings)||void 0===p?void 0:p.appearance)?this._isEmptyOrSpaces(null===(g=null===(v=null===(u=this.embedOptions)||void 0===u?void 0:u.settings)||void 0===v?void 0:v.theme)||void 0===g?void 0:g.appearance)?"light":this.embedOptions.settings.theme.appearance:this.embedOptions.dashboardSettings.themeSettings.appearance,k=this._isEmptyOrSpaces(null===(I=null===(f=null===(w=this.embedOptions)||void 0===w?void 0:w.dashboardSettings)||void 0===f?void 0:f.themeSettings)||void 0===I?void 0:I.application)?this._isEmptyOrSpaces(null===(D=null===(O=null===(y=this.embedOptions)||void 0===y?void 0:y.settings)||void 0===O?void 0:O.theme)||void 0===D?void 0:D.application)?"":this.embedOptions.settings.theme.application:this.embedOptions.dashboardSettings.themeSettings.application,B=this._isEmptyOrSpaces(null===(E=null===(_=null===(S=this.embedOptions)||void 0===S?void 0:S.dashboardSettings)||void 0===_?void 0:_.themeSettings)||void 0===E?void 0:E.dashboard)?this._isEmptyOrSpaces(null===(x=null===(A=null===(C=this.embedOptions)||void 0===C?void 0:C.settings)||void 0===A?void 0:A.theme)||void 0===x?void 0:x.dashboard)?"":this.embedOptions.settings.theme.dashboard:this.embedOptions.dashboardSettings.themeSettings.dashboard;t.forEach(function(t){var o,s,n,d,r,h,m,c,b;if(!e._checkDepedentFileExists(t,i))if(i){const i=this._isEmptyOrSpaces(null===(o=this.embedOptions.dashboardSettings)||void 0===o?void 0:o.fontFamily)?this._isEmptyOrSpaces(null===(d=null===(n=null===(s=this.embedOptions)||void 0===s?void 0:s.settings)||void 0===n?void 0:n.theme)||void 0===d?void 0:d.fontFamily)?"":this.embedOptions.settings.theme.fontFamily:this.embedOptions.dashboardSettings.fontFamily;if(e.embedOptions.environment==l.Environment.Enterprise)if("font-server.min.css"==t)M=e.embedOptions.enableDomainMasking?this.maskedCdnUrl+this.embedSDKWrapperVersion+"/css/"+t:e.rootUrl+"/cdn/css/"+t;else if("bootstrap.min.css"==t)M=e.rootUrl+"/Content/Styles/Bootstrap/"+t;else if("pinboard-embed.min.css"==t)M=e.rootUrl+"/cdn/css/"+t;else if("dashboard-viewer-bundle.min.css"==t)M=e.rootUrl+"/cdn/css/designer/"+t;else if("dashboard-designer.min.css"==t)M=e.rootUrl+"/cdn/css/designer/"+t;else if("boldbi.theme.definition.min.css"==t)M=F||!T||e.embedOptions.enableDomainMasking?e.embedOptions.enableDomainMasking?this.maskedCdnUrl+this.embedSDKWrapperVersion+"/css/light/"+t:e.rootUrl+"/cdn/css/designer/light/"+t:e.rootUrl+"/cdn/css/designer/"+T+"/"+t;else if("application.theme.css"==t||"dashboard.theme.css"==t)!F&&B?M=e.customThemeUrl+"/dashboard?theme="+B:!F&&k&&(M=e.customThemeUrl+"/application?theme="+k);else if("font-family.min.css"==t){const e=this.rootUrl.replace(/\/bi(?!.*\/bi)/,"/ums/user-interface/fonts");M=e+"?family="+i}else M=e.embedOptions.enableDomainMasking?this.maskedCdnUrl+this.embedSDKWrapperVersion+"/css/"+t:e.rootUrl+"/webdesignerservice/themes/"+t;else"font-server.min.css"==t?M=e.embedOptions.enableDomainMasking?this.maskedCdnUrl+this.embedSDKWrapperVersion+"/css/"+t:e.cdnLink+"/css/"+t:"bootstrap.min.css"==t||"pinboard-embed.min.css"==t?M=e.cdnLink+"/css/"+t:"boldbi.theme.definition.min.css"==t?M=!F&&T?e.cdnLink+"/css/designer/"+T+"/"+t:e.embedOptions.enableDomainMasking?this.maskedCdnUrl+this.embedSDKWrapperVersion+"/css/light/"+t:e.cdnLink+"/css/designer/light/"+t:"application.theme.css"==t||"dashboard.theme.css"==t?!F&&B?M=e.rootUrl+"/theme/styles/dashboard?theme="+B:!F&&k&&(M=e.rootUrl+"/theme/styles/application?theme="+k):M="font-family.min.css"==t?e.rootUrl+"/user-interface/fonts?family="+i:e.embedOptions.enableDomainMasking?this.maskedCdnUrl+this.embedSDKWrapperVersion+"/css/"+t:e.cdnLink+"/css/designer/"+t;const r=document.createElement("link");r.rel="stylesheet",r.href=M,a('link[href="'+M+'"]').length<1&&document.head.appendChild(r)}else{if(e.embedOptions.environment==l.Environment.Enterprise){const i=this._isEmptyOrSpaces(null===(h=null===(r=this.embedOptions)||void 0===r?void 0:r.localeSettings)||void 0===h?void 0:h.appLocale)?this._isEmptyOrSpaces(null===(b=null===(c=null===(m=this.embedOptions)||void 0===m?void 0:m.settings)||void 0===c?void 0:c.locale)||void 0===b?void 0:b.appLocale)?"en-US":this.embedOptions.settings.locale.appLocale:this.embedOptions.localeSettings.appLocale;M="bootstrap.min.js"==t?e.rootUrl+"/cdn/scripts/"+t:"designerlocalization.js"==t?e.embedOptions.enableDomainMasking?this.maskedCdnUrl+this.embedSDKWrapperVersion+"/script/"+t:e.rootUrl+"/designer/localization/"+t+"?c="+i:"signalr.min.js"==t?e.embedOptions.enableDomainMasking?this.maskedCdnUrl+this.embedSDKWrapperVersion+"/script/"+t:e.rootUrl+"/cdn/scripts/signalr/"+t:"bbi-unifiedaiagent.min.js"==t||"dashboard-designer-dependency.min.js"==t?e.rootUrl+"/cdn/scripts/designer/"+t:e.embedOptions.enableDomainMasking?this.maskedCdnUrl+this.embedSDKWrapperVersion+"/script/"+t:e.rootUrl+"/cdn/scripts/designer/"+t}else M="bootstrap.min.js"==t?e.cdnLink+"/scripts/"+t:"designerlocalization.js"==t?e.embedOptions.enableDomainMasking?this.maskedCdnUrl+this.embedSDKWrapperVersion+"/script/"+t:e.designerRootUrl+"/localization/"+t:"signalr.min.js"==t?e.embedOptions.enableDomainMasking?this.maskedCdnUrl+this.embedSDKWrapperVersion+"/script/"+t:e.cdnLink+"/scripts/signalr/"+t:e.embedOptions.enableDomainMasking?this.maskedCdnUrl+this.embedSDKWrapperVersion+"/script/"+t:e.cdnLink+"/scripts/designer/"+t;const i=document.createElement("script");i.type="text/javascript",i.src=M,this.embedOptions.nonce&&(i.nonce=this.embedOptions.nonce),a('script[src= "'+M+'"]').length<1&&document.head.appendChild(i),i.onerror=e=>this._handleEnvironmentError(e)}}.bind(e))}_checkDepedentFileExists(e,t){let i=!1;const o=t?"link":"script";return document.head.querySelectorAll(o).forEach(function(o){i||(i=t?-1!=o.href.indexOf(e):-1!=o.src.indexOf(e))}),i}getDashboardData(){return this._getDashboardInstance().getDashboardData()}_renderPinboard(e){var t,i,o,s;const n="boolean"===typeof(null===(t=this.embedOptions.pinboardSettings)||void 0===t?void 0:t.enablePinboardHeader)?null===(i=this.embedOptions.pinboardSettings)||void 0===i?void 0:i.enablePinboardHeader:null===(s=null===(o=this.embedOptions.settings.pinboard)||void 0===o?void 0:o.header)||void 0===s||s,d=a('<div id="server-app-container" style="background: #f9f9f9; overflow: hidden !important;min-height: 600px; width:'+this.embedOptions.width+';"><div id="content-area" class="clearfix col-12 e-waitingpopup e-js" style="padding: 0;padding-bottom: 30px"><div id="homepage-page-container"><div id="homepage-header" style="display:'+(n?"block":"none")+';font-family:var(--font-family)"><div id="element-container"><div id="homepage-menu" style="margin-top: 5px"><span id="homepage-list-container" style="font-size: 15px;width: 165px;line-height: 18px;padding: 25px;">'+this.embedOptions.pinboardName+'</span></div><div id="options-container"><div id="pinboard-fullscreen" class="server-banner-icon e-dashboard-banner-icon bbi-dbrd-designer-hoverable su su-maximize-1 e-icon-dbrd-theme" data-tooltip="Fullscreen" data-name="fullscreen" data-event="true" style="font-size: 14px;display: block;float: left;margin: 8px 15px 0 7px; cursor: pointer"></div><div id="divider"></div><div id="layout-container"><div id="layout" class="dropdown-toggle" data-bs-toggle="dropdown">Edit Layout</div><div class="dropdown-menu" id="layout-items" role="menu"><span class="su su-single-column" id="1"></span><span class="su su-two-column" id="11"></span><span class="su su-small-big-column" id="12"></span><span class="su su-big-small-column" id="21"></span><span class="su su-three-column" id="111"></span></div></div></div></div></div><div id="widget-container" data-homepage-id="" data-current-layout="" data-virtual-homepage="" style="margin-bottom: 30px"></div></div></div></div>');a("#"+this.embedOptions.embedContainerId).append(d),this._createPinboardDom(e),this._renderItem(e),this._removeElementsClass(this.embedOptions.embedContainerId,".preloader-wrap","viewer-blue-loader");const r=this;a(document).on("click",".unpin-widget",function(e){var t,i,o,s,n,d;e.preventDefault();const l=a("#"+a(e.target).parents("li").find(".pinWidget").attr("id")+"_embeddedbi").data("BoldBIDashboardDesigner"),h=window[null===(i=null===(t=r.embedOptions.events)||void 0===t?void 0:t.pinboard)||void 0===i?void 0:i.onUnpin];h instanceof Function&&h.call(this,l),(null===(s=null===(o=r.embedOptions.events)||void 0===o?void 0:o.pinboard)||void 0===s?void 0:s.onUnpin)instanceof Function&&(null===(d=null===(n=r.embedOptions.events)||void 0===n?void 0:n.pinboard)||void 0===d||d.onUnpin.call(r,l)),r.column=parseInt(a(this).closest("ul").attr("data-column-id"),10),r.position=a(this).parents("li").index()+1,l.destroy(),r._unPinItem(r.column,r.position)}),a(document).on("click","#pinboard-fullscreen",function(){const e=a("#server-app-container")[0];if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)a("#server-app-container").attr("style","background-color: #f9f9f9; height:"+a("#content-area").height()+"px;overflow: hidden !important;min-height: 600px; width:"+r.embedOptions.width),document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen();else if(a("#server-app-container").removeAttr("style"),a("#server-app-container").attr("style","background-color: #f9f9f9; overflow: auto !important"),e.requestFullscreen)e.requestFullscreen();else if(e.msRequestFullscreen)e.msRequestFullscreen();else if(e.mozRequestFullScreen)e.mozRequestFullScreen();else if(e.webkitRequestFullscreen)e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);else if("ActiveXObject"in window){new ActiveXObject("Wscript.shell").SendKeys("{F11}"),setTimeout(function(){(screen.availHeight||screen.height-30)<=window.innerHeight?a("#pinboard-fullscreen").removeClass("su-maximize-1").addClass("su-minimize").attr("data-tooltip","Exit Fullscreen"):a("#pinboard-fullscreen").addClass("su-maximize-1").removeClass("su-minimize").attr("data-tooltip","Fullscreen")},400)}}),a(document).on("click","#layout-items span",function(){var e,t,i,o,s,n;const d=window[null===(t=null===(e=r.embedOptions.events)||void 0===e?void 0:e.pinboard)||void 0===t?void 0:t.onLayoutChange];d instanceof Function&&d.call(this,a("#widget-container")),(null===(o=null===(i=r.embedOptions.events)||void 0===i?void 0:i.pinboard)||void 0===o?void 0:o.onLayoutChange)instanceof Function&&(null===(n=null===(s=r.embedOptions.events)||void 0===s?void 0:s.pinboard)||void 0===n||n.onLayoutChange.call(r,a("#widget-container")));const l=a("#widget-container").attr("data-current-layout");switch(a("#widget-container").attr("data-current-layout",a(this).attr("id")),a("#layout-items span").removeClass("active"),a(this).addClass("active"),a(this).attr("id")){case"1":"1"!=l&&(r.changeLayout(1),"111"==l?r.appendListItem(1,2):"11"!=l&&"12"!=l&&"21"!=l||r.appendListItem(1,1),r._setLayout(1));break;case"11":"11"!=l&&(r.changeLayout(11),"111"==l?r.appendListItem(2,1):"1"==l&&r.createEmptyList(2,2),r._setLayout(11));break;case"12":"12"!=l&&(r.changeLayout(12),"111"==l?r.appendListItem(2,1):"1"==l&&r.createEmptyList(2,2),r._setLayout(12));break;case"21":"21"!=l&&(r.changeLayout(21),"111"==l?r.appendListItem(2,1):"1"==l&&r.createEmptyList(2,2),r._setLayout(21));break;case"111":"111"!=l&&(r.changeLayout(111),"1"==l?r.createEmptyList(2,3):"11"!=l&&"12"!=l&&"21"!=l||r.createEmptyList(3,3),r._setLayout(111))}}),a.map(r.pinboardDetails,function(e){r.isWidgetMode=!0,r.widgetName=r.authToken?e.Id:e.WidgetId,r.isDashboardViewMode=!1,r.dashboardViewName="";const t={Apistatus:!0,Data:r.authToken?e:JSON.parse(e),Status:!0};r._renderDashboard(t)})}_widgetNamesEmpty(){const e=o.errorMessages.EmptyWidgetName;for(let t=0;t<this.embedOptions.widgetList.length;t++){const i=this.embedOptions.widgetList[Number(t)];this._isEmptyOrSpaces(i.widgetName)&&(this.errorOnContainer(e,i.containerId),this.embedOptions.widgetList.splice(t,1),t--)}return this.embedOptions.widgetList.length>0}errorOnContainer(e,t){const i='<div id="embedded-bi-error" style="display:table;height:100%;width:100%;"><div style="display: table-cell;vertical-align: middle;text-align: center;"><div style="display: inline-block;"><img src='+this.errorImage+' style="float: left"/><div style="float: left;margin-left: 10px;line-height: 20px;">BoldBI Embedded: '+e+"</div></div>";document.getElementById(t).innerHTML=i}createEmptyList(e,t){for(let i=e;i<=t;i++)a("#widget-container").append('<ul id="column-'+i+'" data-column-id="'+i+'" data-child-count="0"><li class="empty click-container"><div class="empty-content empty-homepage"><span class="drag-widget" style="font-family:var(--font-family)">Drag your widgets here to customize layout</span></div></li></ul>')}appendListItem(e,t){for(let i=e+1;i<=e+t;i++)a("#column-"+i+" li:not(.empty)").length>0&&a("#column-"+e+" li.empty").remove(),a("#column-"+e).append(a("#column-"+i+" li:not(.empty)")),a("#column-"+i).remove()}changeLayout(e){const t=this;let i;t.homepageItemId=a("#widget-container").attr("data-homepage-id"),t.isVirtualHomepage=a("#widget-container").attr("data-virtual-homepage"),""==t.homepageItemId&&t.isVirtualHomepage&&a("#initial-message").hide();const o="embed_nonce="+this._uuidv4Generator()+"&homepageId="+t.homepageItemId+"&layout="+e+"&embed_mode="+this.embedOptions.mode+"&embed_timestamp="+Math.round((new Date).getTime()/1e3)+"&embed_expirationtime="+this.embedOptions.expirationTime;if(t.authToken||t._isEmptyOrSpaces(t.embedOptions.authorizationServer.url)){const o=this._validatetoken(t.authToken);i={homepageId:t.homepageItemId,layout:e},a.ajax({async:!1,type:"POST",url:t.dashboardServerApiUrl+this.embedGetDetailsEndPoint,headers:{Authorization:o},data:JSON.stringify(i),contentType:"application/json",success:a.proxy(t._changeLayoutSuccess,t)})}else i={embedQuerString:encodeURI(o),embedQueryString:encodeURI(o),dashboardServerApiUrl:this.dashboardServerApiUrl},this._xhrRequestHelper("POST",this.embedOptions.authorizationServer.url,i,this.embedOptions.authorizationServer.headers,this._changeLayoutSuccess)}_checkEmptyHomepage(){let e=0,t=!1;return a("#widget-container ul").each(function(i){return e=a("#column-"+(i+1)+' li:not(".empty")').length,t=!(e>0),!(e>0)}),t}_setLayout(e){const t=a("#widget-container").attr("data-item-type").toLowerCase();switch(a("#layout-items").find("span#"+e).addClass("active"),e){case 1:a("#column-1").removeClass().addClass("col-lg-12 col-md-12 col-sm-12 col-12");break;case 11:a("#column-1,#column-2").removeClass().addClass("col-lg-6 col-md-6 col-sm-6 col-6");break;case 12:a("#column-1").removeClass().addClass("col-lg-4 col-md-4 col-sm-4 col-4"),a("#column-2").removeClass().addClass("col-lg-8 col-md-8 col-sm-8 col-8");break;case 21:a("#column-1").removeClass().addClass("col-lg-8 col-md-8 col-sm-8 col-8"),a("#column-2").removeClass().addClass("col-lg-4 col-md-4 col-sm-4 col-4");break;case 111:a("#column-1,#column-2,#column-3").removeClass().addClass("col-lg-4 col-md-4 col-sm-4 col-4")}if(this._checkEmptyHomepage()&&(window.IsMobile?(a("#widget-container ul li.empty .empty-content").removeClass("non-empty-homepage").addClass("mobile-empty-homepage"),a("#widget-container ul li.empty .empty-content").find(".drag-widget").text("Log in using a desktop client to add widgets to this pinboard.").show(),a("#widget-container ul li.empty").css("border","none")):(a("#widget-container ul li.empty .empty-content").find(".drag-widget").hide(),a("#widget-container ul li.empty .empty-content").removeClass("non-empty-homepage").addClass("empty-homepage"))),"dashboard"!=t){const e=this;this.enableSorting(),this.setListMinimumHeight(),a(".pinBoardDbrd").each(function(){const t=e._getDashboardInstance(this.id),i=window[e.embedOptions.events.onResize];i instanceof Function&&i.call(e,t),e.embedOptions.events.onResize instanceof Function&&e.embedOptions.events.onResize.call(e,t),t.resizeDashboard()})}}setListMinimumHeight(){const e=[];a("#widget-container > ul").each(function(t){let i=0;a(this).find("li").each(function(){i=i+a(this).innerHeight()+20}),e["".concat(t)]=i});const t=Math.max(...e)>400?Math.max(...e):440;a("#widget-container > ul").css("min-height",t),a("#server-app-container").height(a("#content-area").height())}enableSorting(){"function"!==typeof window.bbEmbed.uniqueSort&&(window.bbEmbed.uniqueSort=window.bbEmbed.unique);const e=this;window.bbEmbed("#column-1, #column-2, #column-3").sortable({connectWith:"ul",placeholder:"placeholder",handle:".e-rteItem .e-rte-content, .bbi-dbrd-control-header:not(.bbi-dbrd-control-menu-icon)",cancel:".empty, .bbi-dbrd-control-menu-icon",containment:"#server-app-container",cursor:"move",tolerance:"pointer",scroll:!0,scrollSensitivity:10,scrollSpeed:20,update:function(t,i){e.toColumn=a(t.target).data("column-id"),e.toPosition=i.item.index()+1},start:function(t,i){var o,s,n,d,r,l;a("li.placeholder").append('<div class="placeholder-text" style="color: dimgray; font-size: 20px;padding-top: 10px;text-align: center;font-family:var(--font-family)">Drag your widgets here to customize layout</div>'),a("li.placeholder").css({height:i.item.height().toString()+"px","background-color":"#eeeeee",border:"dashed lightgray"}),a("#widget-container ul li.empty").remove(),e.fromColumn=a(t.target).data("column-id"),e.fromPosition=i.item.index()+1,e.toColumn=a(t.target).data("column-id"),e.toPosition=i.item.index()+1;const h=a("#"+i.item.find(".pinWidget").attr("id")+"_embeddedbi").data("BoldBIDashboardDesigner"),m=window[null===(s=null===(o=e.embedOptions.events)||void 0===o?void 0:o.pinboard)||void 0===s?void 0:s.onDrag];m instanceof Function&&m.call(this,h),(null===(d=null===(n=e.embedOptions.events)||void 0===n?void 0:n.pinboard)||void 0===d?void 0:d.onDrag)instanceof Function&&(null===(l=null===(r=e.embedOptions.events)||void 0===r?void 0:r.pinboard)||void 0===l||l.onDrag.call(e,h))},stop:function(t,i){var o,s,n,d,r,l;e.showEmptyList();const h=window[null===(s=null===(o=e.embedOptions.events)||void 0===o?void 0:o.pinboard)||void 0===s?void 0:s.onDrop],m=a("#"+i.item.find(".pinWidget").attr("id")+"_embeddedbi").data("BoldBIDashboardDesigner");h instanceof Function&&h.call(this,m),(null===(d=null===(n=e.embedOptions.events)||void 0===n?void 0:n.pinboard)||void 0===d?void 0:d.onDrop)instanceof Function&&(null===(l=null===(r=e.embedOptions.events)||void 0===r?void 0:r.pinboard)||void 0===l||l.onDrop.call(e,m)),e.fromColumn==e.toColumn&&e.fromPosition==e.toPosition||(e.fromColumn!=e.toColumn&&window.bbEmbed("#"+i.item.find(".pinWidget").attr("id")+"_embeddedbi").data("BoldBIDashboardDesigner").resizeDashboard(),e.dragAndDrop(e.fromColumn,e.toColumn,e.fromPosition,e.toPosition)),e.setListMinimumHeight()}}),window.bbEmbed("#column-1, #column-2, #column-3").disableSelection()}showEmptyList(){a("#widget-container ul").each(function(e){a("#column-"+(e+1)+" li").length<1&&a("#column-"+(e+1)).append('<li class="empty click-container"><div class="empty-content empty-homepage"><span class="drag-widget" style="font-family:var(--font-family)">Drag your widgets here to customize layout</span></div></li>')})}dragAndDrop(e,t,i,o){const s=this;let n;const d=a("#widget-container").attr("data-homepage-id"),r={Column:e,Position:i},l={Column:t,Position:o},h="embed_nonce="+this._uuidv4Generator()+"&homepageId="+d+"&moveFrom="+JSON.stringify(r)+"&moveTo="+JSON.stringify(l)+"&embed_mode="+this.embedOptions.mode+"&embed_timestamp="+Math.round((new Date).getTime()/1e3)+"&embed_expirationtime="+this.embedOptions.expirationTime;if(s.authToken||s._isEmptyOrSpaces(s.embedOptions.authorizationServer.url)){var m=this._validatetoken(s.authToken);n={homepageId:d,moveFrom:JSON.stringify(r),moveTo:JSON.stringify(l)},a.ajax({async:!1,type:"POST",url:s.dashboardServerApiUrl+this.embedGetDetailsEndPoint,data:JSON.stringify(n),headers:{Authorization:m},contentType:"application/json",success:a.proxy(s._dragAndDropSuccess,s)})}else n={embedQuerString:encodeURI(h),embedQueryString:encodeURI(h),dashboardServerApiUrl:this.dashboardServerApiUrl},this._xhrRequestHelper("POST",this.embedOptions.authorizationServer.url,n,this.embedOptions.authorizationServer.headers,this._dragAndDropSuccess)}_unPinItem(e,t){const i=this;let o;const s=a("#widget-container").attr("data-homepage-id"),n={Column:e,Position:t},d="embed_nonce="+this._uuidv4Generator()+"&homepageId="+s+"&unpinPosition="+JSON.stringify(n)+"&isUnpin="+!0+"&embed_mode="+this.embedOptions.mode+"&embed_timestamp="+Math.round((new Date).getTime()/1e3)+"&embed_expirationtime="+this.embedOptions.expirationTime;if(i.authToken||i._isEmptyOrSpaces(i.embedOptions.authorizationServer.url)){let e=this._validatetoken(i.authToken);o={homepageId:s,unpinPosition:JSON.stringify(n),isUnpin:!0},a.ajax({async:!1,type:"POST",url:i.dashboardServerApiUrl+this.embedGetDetailsEndPoint,headers:{Authorization:e},data:JSON.stringify(o),contentType:"application/json",success:a.proxy(i._unPinSuccess,i)})}else o={embedQuerString:encodeURI(d),embedQueryString:encodeURI(d),dashboardServerApiUrl:this.dashboardServerApiUrl},this._xhrRequestHelper("POST",this.embedOptions.authorizationServer.url,o,this.embedOptions.authorizationServer.headers,this._unPinSuccess)}_unPinSuccess(e){if(e.Status){a("#column-"+this.column+" li:eq("+(this.position-1)+")").remove(),this.showEmptyList();this.checkEmptyHomepage()&&(a("#widget-container ul li.empty .empty-content").find(".drag-widget").hide(),a("#widget-container ul li.empty .empty-content").removeClass("non-empty-homepage").addClass("empty-homepage")),this.setListMinimumHeight()}}checkEmptyHomepage(){let e=0,t=!1;return a("#widget-container ul").each(function(i){return e=a("#column-"+(i+1)+' li:not(".empty")').length,t=!(e>0),!(e>0)}),t}_renderItem(e){const t=this;if(this._checkEmptyHomepage()&&(a("#widget-container ul li.empty .empty-content").find(".drag-widget").hide(),a("#widget-container ul li.empty .empty-content").removeClass("non-empty-homepage").addClass("empty-homepage")),a("#widget-container").hide(),"widget"==e.ItemType.toLowerCase()){this._setLayout(e.ColumnInfo.Layout);const i=e.ColumnInfo.Column;a.each(i,function(e){i["".concat(e)].Item.length>0?(a.each(i["".concat(e)].Item,function(o){if(".sydj"!=i["".concat(e)].Item["".concat(o)].ItemExtension.toLowerCase())a("#widget_"+(e+1)+"_"+(o+1)).ejDashboardViewer({accessToken:this.accessToken,serviceUrl:this.dashboardServiceUrl,serverUrl:this.dashboardServerUrl,_enableHyperLinkOnErrorMessage:!1,cdnFilePath:this.isUseCdn?this.cdnLink+"/scripts/viewer":"",dashboardPath:i["".concat(e)].Item["".concat(o)].Path,_itemId:i["".concat(e)].Item["".concat(o)].ItemId,reportName:"",reportDescription:"",enableExport:!0,enablePrint:!1,actionBegin:function(e){"beforeNavigate"==e.eventType&&(this.hasWidgetLink=!0)},localeSettings:{resourcePath:""},enableWidgetMode:null!=i["".concat(e)].Item["".concat(o)].Id,filterParameters:i["".concat(e)].Item["".concat(o)].QueryString,showTab:null==i["".concat(e)].Item["".concat(o)].TabId,widgetModeSettings:{name:"",id:null==i["".concat(e)].Item["".concat(o)].Id?"":i["".concat(e)].Item["".concat(o)].Id,title:i["".concat(e)].Item["".concat(o)].Name},_selectedTabGuid:null==i["".concat(e)].Item["".concat(o)].TabId?"":i["".concat(e)].Item["".concat(o)].TabId,afterWidgetRender:a.proxy(function(t,i){if("card"==i.data.controlType.toLowerCase()&&(a("#widget_"+(e+1)+"_"+(o+1)+" .e-control-heading span").hasClass("e-control-title")||a("#widget_"+(e+1)+"_"+(o+1)+" .e-control-heading").text(t["".concat(e)].Item["".concat(o)].Name)),t["".concat(e)].Item["".concat(o)].IsActive&&!t["".concat(e)].Item["".concat(o)].IsHavingPermission?(a("#widget_"+(e+1)+"_"+(o+1)).find(".bbi-dbrd-control").remove(),a("#widget_"+(e+1)+"_"+(o+1)).find(".bbi-dbrd-control-container").append('<div class="no-permission"><span class="message">You do not have permission to view this widget.</span></div>')):t["".concat(e)].Item["".concat(o)].IsActive||t["".concat(e)].Item["".concat(o)].IsHavingPermission||(a("#widget_"+(e+1)+"_"+(o+1)).find(".bbi-dbrd-control").remove(),a("#widget_"+(e+1)+"_"+(o+1)).find(".bbi-dbrd-control-container").append('<div class="no-permission"><span class="message">This widget has been deleted.</span></div>')),t["".concat(e)].Item["".concat(o)].IsActive&&t["".concat(e)].Item["".concat(o)].IsHavingPermission&&null!=t["".concat(e)].Item["".concat(o)].QueryString){const t=a("#widget_"+(e+1)+"_"+(o+1));t.find("#filter-info").parent().append('<div class="filter-overview"><span id="heading">Applied Filters</span><div id="outer-div"><div id="scroller-content"><div id="applied-filters-container"></div></div></div></div>'),t.find(".filter-overview #applied-filters-container").height()>180&&t.find(".filter-overview #scroller-content").BoldBIDashboardScroller({height:180,width:248,scrollerSize:9}),t.find(".filter-overview").addClass("display-none")}},this,i),beforeWidgetIconRendered:a.proxy(function(t,i){"widget not configured"!=i.widgetInformation.Name.toLowerCase()?window.IsMobile?a("#widget_"+(e+1)+"_"+(o+1)).data("ejDashboardViewer").model.size.height="250px":"card"!=i.widgetInformation.Name.toLowerCase()?a("#widget_"+(e+1)+"_"+(o+1)).data("ejDashboardViewer").model.size.height="400px":a("#widget_"+(e+1)+"_"+(o+1)).data("ejDashboardViewer").model.size.height="250px":(a("#widget_"+(e+1)+"_"+(o+1)).data("ejDashboardViewer").model.size.height="200px",a("#widget_"+(e+1)+"_"+(o+1)).find(".bbi-dbrd-control-container").append('<div class="no-permission"><span class="message">This widget has been deleted.</span></div>')),i.iconsinformation.length>0&&"bbi-dbrd-link-enable"==i.iconsinformation[0].classname&&(i.iconsinformation[0].margintop="1px"),window.IsMobile||i.iconsinformation.unshift({classname:"su su-delete unpin",name:"Unpin Widget",datatooltip:"Unpin Widget",marginright:"-18px",margintop:"4px"});const s=t["".concat(e)].Item["".concat(o)].IsActive&&t["".concat(e)].Item["".concat(o)].IsHavingPermission&&"widget not configured"!=i.widgetInformation.Name.toLowerCase();s&&(i.iconsinformation.unshift({classname:"su su-maximize unpin",name:"Maximize Widget",datatooltip:"Maximize Widget",marginright:"-18px",margintop:"4px"}),i.iconsinformation.unshift({classname:"su su-open-link-newtab unpin",name:"Go to Dashboard",datatooltip:"Go to Dashboard",marginright:"-18px",margintop:"4px"})),s&&null!=t["".concat(e)].Item["".concat(o)].QueryString&&i.iconsinformation.unshift({id:"filter-info",classname:"su su-info unpin",name:"Applied Filters",datatooltip:"View Applied Filters",margintop:"4px",marginright:"0px"}),a("#widget-container").show();a("#widget_"+(e+1)+"_"+(o+1)).ejDashboardViewer().resize()},this,i),dashboardCreated:function(){const t=a("#widget_"+(e+1)+"_"+(o+1)).attr("data-dashboardurl");a("#widget_"+(e+1)+"_"+(o+1)).find(".su-open-link-newtab").wrap(a('<a class="redirect" href="'+t+'" target="_blank">'))},onMenuIconClick:function(e){if("undefined"!=typeof e.name&&"unpin widget"==e.name.toLowerCase()){const t=e.target.parents("ul").data("column-id"),i=e.target.parents("li").index()+1;this.unPinItem(t,i,e.event)}else if("undefined"!=typeof e.name&&"maximize widget"==e.name.toLowerCase());else if("undefined"!=typeof e.name&&"applied filters"==e.name.toLowerCase()){const t=a(e.event.target).parent().find(".filter-overview");t.toggleClass("display-none"),a(".filter-overview").not(t).addClass("display-none"),e.event.preventDefault()}}});else{const s=t.embedOptions.embedContainerId+"_pinBoard_"+(e+1)+"_"+(o+1);a("#widget_"+(e+1)+"_"+(o+1)).append('<div class="pinWidget" style="height:calc(100% - 5px);width:calc(100% - 25px);overflow: hidden !important;" id="'+s+'"><div id="'+s+'_embeddedbi" class="pinBoardDbrd"></div ></div>'),t.pinBoardRendered=!1,t.pinboardIds.push({widgetId:i["".concat(e)].Item["".concat(o)].Id,pinboardContainerId:s}),t.pinboardDetails[t.pinboardDetails.length]=t.authToken?i["".concat(e)].Item["".concat(o)]:i["".concat(e)].Item["".concat(o)].WidgetDetails,i["".concat(e)].Item["".concat(o)].IsActive&&!i["".concat(e)].Item["".concat(o)].IsHavingPermission?(a("#widget_"+(e+1)+"_"+(o+1)).find("iframe").remove(),a("#widget_"+(e+1)+"_"+(o+1)).append('<div class="no-permission"><span class="message">You do not have permission to view this widget.</span></div>')):i["".concat(e)].Item["".concat(o)].IsActive||i["".concat(e)].Item["".concat(o)].IsHavingPermission||(a("#widget_"+(e+1)+"_"+(o+1)).find("iframe").remove(),a("#widget_"+(e+1)+"_"+(o+1)).append('<div class="no-permission"><span class="message">This widget has been deleted.</span></div>'))}}),a("#widget-container").show()):a("#widget-container").show()}),this.enableSorting(),this.setListMinimumHeight()}else if("dashboard"==e.ItemType.toLowerCase()){const t=e.ColumnInfo.Column;a("#dashboard_1_1").css({height:a(window).height()-a("#header-area").outerHeight()-a("#base-footer-div").outerHeight()-a("#homepage-header").outerHeight()-30,width:a("#content-area").width()-10}),t[0].Item[0].IsActive&&t[0].Item[0].IsHavingPermission&&".sydj"!=t[0].Item[0].ItemExtension.toLowerCase()?a("#dashboard_1_1").ejDashboardViewer({dashboardPath:e.ColumnInfo.Column[0].Item[0].Path,_itemId:e.ColumnInfo.Column[0].Item[0].ItemId,reportName:"",reportDescription:"",enableExport:!0,enablePrint:!1,showGetLinkIcon:!1,localeSettings:{resourcePath:""},interactionSettings:{allowHistoryMaintenance:!1,handleHistoryEvent:!1},enableWidgetMode:!1,filterParameters:e.ColumnInfo.Column[0].Item[0].QueryString,showTab:null==e.ColumnInfo.Column[0].Item[0].TabId,_selectedTabGuid:null!=e.ColumnInfo.Column[0].Item[0].TabId?e.ColumnInfo.Column[0].Item[0].TabId:"",beforeControlMenuOpen:function(e){e.menuData.splice(1,1)},onTabSelectionFailure:"OnFailtoLoadChildDashboard",beforeContextMenuOpen:function(e){!function(e,t,i){let o=e.length;for(;o--;)e["".concat(o)]&&Object.prototype.hasOwnProperty.call(e["".concat(o)],t)&&arguments.length>2&&e["".concat(o)]["".concat(t)]==i&&e.splice(o,1)}(e.menuData,"text","Export")}}):t[0].Item[0].IsActive?t[0].Item[0].IsActive&&!t[0].Item[0].IsHavingPermission?a("#dashboard_1_1").append('<div class="no-permission"><span class="message">You do not have permission to view this dashboard.</span></div>'):t[0].Item[0].IsActive&&t[0].Item[0].IsHavingPermission&&".sydj"==t[0].Item[0].ItemExtension.toLowerCase()&&a("#dashboard_1_1").append('<div class="no-permission"><span class="message">Currently this dashboard is not supported.</span></div>'):a("#dashboard_1_1").append('<div class="no-permission"><span class="message">This dashboard has been deleted.</span></div>'),a("#widget-container").show()}}_addWidgetInPinboard(e){const t=a("#widget-container").find("ul:first");1==a("#widget-container").find("ul:first li").length&&a("#widget-container").find("ul:first li").hasClass("empty")&&a("#widget-container").find("ul:first li").remove();const i=a("#widget-container").find("ul:first li").length,o=e.ColumnInfo.Column[0],s=null==o.Item[0].Id?"/bi/"+this.siteIdentifier+"/widgets/widgets":"/bi/"+this.siteIdentifier+"/dashboards",n=o.Item[0].Name,d=o.Item[0].WidgetType;let r=0;r=null!=d&&(d.includes("Card")||d.includes("Image"))?250:400;const l=null!=o.Item[0].QueryString?o.Item[0].QueryString:"",h=null==o.Item[0].TabId?s+"/"+o.Item[0].ItemId+"/"+(null!=o.Item[0].Id?o.Item[0].CategoryName+"/":"")+o.Item[0].ItemName+(""!=l?"?"+l:l):s+"/"+o.Item[0].ItemId+"/"+(null!=o.Item[0].Id?o.Item[0].CategoryName+"/":"")+o.Item[0].ItemName+"?tab="+o.Item[0].TabId+(""!=l?"&"+l:l),m=this.embedOptions.pinboardSettings.enableUnpinWidget||void 0===this.embedOptions.pinboardSettings.enableUnpinWidget?'<div id="widget-icons"><i class="items unpin-widget su su-delete" data-bs-toggle="tooltip" data-original-title="Unpin Widget"  style="color: black;" /></div>':"";a(t).prepend('<li class="list-item"><div class="widget" id=widget_1_'+(i+1)+' data-dashboardurl="'+h+'" style="height: '+r+'px;width:100%;background:#fff;"><div class="widget-sortable" style="width:100%;float:left;display:block;height:0px"><div style="height:100%;width:100%;cursor:move;"><div id="item-name">'+n+"</div>"+m+"</div></div></div></li>");const c=this.embedOptions.embedContainerId+"_pinBoard_1_"+(i+1);a("#widget_1_"+(i+1)).append('<div class="pinWidget" style="height:calc(100% - 5px);width:calc(100% - 25px);overflow: hidden !important;" id="'+c+'"><div id="'+c+'_embeddedbi" class="pinBoardDbrd"></div ></div>'),this.pinBoardRendered=!1,this.pinboardIds.push({widgetId:o.Item[0].Id,pinboardContainerId:c}),this.loadWidget(o.Item[0].Id,o.Item[0].ItemId),this.enableSorting(),this.setListMinimumHeight(),this._removeElementsClass(this.embedOptions.embedContainerId,".preloader-wrap","viewer-blue-loader")}_tabSelected(){if("undefined"!==typeof ejdashboard&&ejdashboard.base&&"function"===typeof ejdashboard.base.registerLicense){const e=window.bbEmbed(".parent-multitab-dbrd").children().attr("id");for(let t=0;t<window.bbEmbed("#"+e+" .e-toolbar-item").length;t++)window.bbEmbed(".e-content").find("#e-content-"+e+"_"+t).attr("style","display:block !important"),window.bbEmbed("#"+e+" .e-toolbar-item.e-active").children().attr("aria-controls")=="e-content-"+e+"_"+t?this._handleTabSelected(e,t):window.bbEmbed(window.bbEmbed(".e-content").find("#e-content-"+e+"_"+t).children()).css({display:"block",position:"absolute",left:window.bbEmbed(".e-content.e-lib.e-touch").width()*(t+1)})}else{const e=window.bbEmbed(".multitab-dbrd").attr("id");for(let t=0;t<window.bbEmbed("#"+e+" .e-toolbar-item").length;t++)window.bbEmbed(".e-content").find("#e-content-"+e+"_"+t).attr("style","display:block !important"),window.bbEmbed("#"+e+" .e-toolbar-item.e-active").attr("aria-controls")=="e-content-"+e+"_"+t?this._handleTabSelected(e,t):window.bbEmbed(window.bbEmbed(".e-content").find("#e-content-"+e+"_"+t).children()).css({display:"block",position:"absolute",left:window.bbEmbed(".e-content.e-lib.e-touch").width()*(t+1)})}}_handleTabSelected(e,t){window.bbEmbed(window.bbEmbed(".e-content").find("#e-content-"+e+"_"+t).children()).css({display:"block",position:"absolute",left:0});const i=window.bbEmbed("#"+window.bbEmbed(window.bbEmbed(".e-content").find("#e-content-"+e+"_"+t).children()).children().attr("id")).data("BoldBIDashboardDesigner");if(null==i||void 0==i){const i=window.bbEmbed(".e-content").find("#e-content-"+e+"_"+t).children().attr("id").split("_")[1],o={Apistatus:!0,Data:this.dashboardDetails["".concat(i)],Status:!0};this._renderDashboard(o)}}_isAIDepdencyLoaded(e){e.embedOptions.mode==l.Mode.AIAssistant&&window.bbEmbed instanceof Function&&"undefined"!==typeof window.BoldBIAI&&window.BoldBIAI.UnifiedAIAgent?e.embedOptions.token||e.embedOptions.embedToken?(e.tokenResponse={ItemDetail:{IsPublic:!1,Name:"AIAssitant"}},e._renderDashboard({Apistatus:!0,Data:e.tokenResponse,Status:!0})):e._getAuthorizationToken():setTimeout(e._isAIDepdencyLoaded,500,e)}_isDependencyLoaded(e,t){if(window.bbEmbed instanceof Function&&window.BoldBIDashboard instanceof Object&&!e._isNullOrUndefined(window.BoldBIDashboard)&&window.BoldBIDashboard.Designer instanceof Object&&window.BoldBIDashboardDesigner instanceof Function&&!e._isEmptyOrSpaces(e.designerRootUrl)&&window.Designer instanceof Object)if(e.IsDependencyLoaded||(e.IsDependencyLoaded=!0),e.embedOptions.token||e.embedOptions.embedToken)if(e.authToken=e.embedOptions.token?e.embedOptions.token:e.embedOptions.embedToken,e.embedOptions.token&&e.embedOptions.isPublicDashboard||e.embedOptions.embedToken&&e.embedOptions.mode!=l.Mode.Design&&e.embedOptions.mode!=l.Mode.Connection&&e.embedOptions.mode!=l.Mode.DataSource&&!e.embedOptions.isMultiTabDashboard&&!e.widgetName&&!e.embedOptions.viewId&&!e.embedOptions.pinboardName&&!e.editIgnore)e.tokenResponse={dashboardVersion:e.embedOptions.customDashboardVersion,ItemDetail:{IsPublic:!0,Description:"",Name:""}},e._renderDashboard({Apistatus:!0,Data:e.tokenResponse,Status:!0});else{var i=e._validatetoken(e.authToken);if(e.embedOptions.dashboardPath&&!e.embedOptions.dashboardId)e._throwError(o.errorMessages.DbrdPathTokenAPIError);else if(e.embedOptions.datasourceName&&!e.embedOptions.datasourceId)e._throwError(o.errorMessages.DataSourceTokenAPIError);else if(e.embedOptions.viewName&&!e.embedOptions.viewId)e._throwError(o.errorMessages.ViewNameTokenAPIError);else if(e.isDashboardRendering&&e.embedOptions.dashboardId||e.isPinboardRendering&&e.embedOptions.pinboardName){const t=e.isDashboardRendering?e.dashboardServerApiUrl+"/v5.0/dashboards/"+e.embedOptions.dashboardId+"?canIgnorePublishDetails=true":e.dashboardServerApiUrl+"/pinboard/"+e.embedOptions.pinboardName;a.ajax({async:!1,type:"GET",url:t,headers:{Authorization:i},contentType:"application/json",success:function(t){var i;if(t){e.tokenResponse.dashboardVersion=t.Version,e.tokenResponse.CanWrite=null!==(i=null===t||void 0===t?void 0:t.CanWrite)&&void 0!==i&&i;const s=e.isDashboardRendering&&t.IsMultiDashboard&&e.embedOptions.mode==l.Mode.Design?"Designer embedding":e.isDashboardRendering&&t.IsMultiDashboard?t.TabDetail:e.isPinboardRendering&&t.Status?t.Data:e.tokenResponse;e._authorizeResponse={Apistatus:!0,Data:s,Status:!0},"Designer embedding"!=s&&e.embedOptions.mode!=l.Mode.Design?e._renderDashboard({Apistatus:!0,Data:s,Status:!0}):"Designer embedding"!=s&&e.embedOptions.mode==l.Mode.Design?t.CanWrite?e._renderDashboard({Apistatus:!0,Data:s,Status:!0}):e._throwError(o.errorMessages.InvalidEditAccess):e._throwError(o.errorMessages.NotRenderMultitabDashboard)}else e.embedOptions.isMultiTabDashboard&&e.embedOptions.embedToken&&e.embedOptions.mode==l.Mode.Design?e._throwError(o.errorMessages.NotRenderMultitabDashboardForAnonymousUser):e.embedOptions.embedToken&&e.embedOptions.mode==l.Mode.Design?e._throwError(o.errorMessages.NotRenderDesignerForAnonymousUser):e._throwError(o.errorMessages.DashboardNotAvailable)},error:function(t){if(0==t.status&&e._throwError(o.errorMessages.PageUnavailable),401==t.status){const t=e._isJwtFormat(e.authToken);e._throwError(t?o.errorMessages.InvalidAccessToken:o.errorMessages.InvalidApiKey)}else 404==t.status&&e.isDashboardRendering?e._throwError(o.errorMessages.InvalidDashboardID):e._throwError(o.errorMessages.InvalidPinboardName)}})}else if(e.isDashboardRendering&&e.embedOptions.mode==l.Mode.Design&&e._isEmptyOrSpaces(e.embedOptions.dashboardId)&&e._isEmptyOrSpaces(e.embedOptions.dashboardPath))a.ajax({async:!1,type:"POST",url:e.dashboardServerApiUrl+"/v5.0/dashboards/drafts",headers:{Authorization:i},contentType:"application/json",success:function(t){e.embedOptions.isdesignerdraft=!0,e.tokenResponse.draftItemID=t.Id,e.tokenResponse.ItemDetail.Name=t.Name,e.tokenResponse.CanWrite=!0,e._authorizeResponse={Apistatus:!0,Data:e.tokenResponse,Status:!0},e._renderDashboard({Apistatus:!0,Data:e.tokenResponse,Status:!0})},error:function(t){if(401==t.status){const t=e._isJwtFormat(e.authToken);e._throwError(t?o.errorMessages.InvalidAccessToken:o.errorMessages.InvalidApiKey)}else 403==t.status&&e._throwError(o.errorMessages.ProvideCreatePermission)}});else if(e.embedOptions.viewId&&e.isDashboardViewRendering)a.ajax({async:!1,type:"GET",url:e.dashboardServerApiUrl+"/v5.0/dashboards/views/"+e.embedOptions.viewId,headers:{Authorization:i},contentType:"application/json",success:function(t){e.embedOptions.dashboardSettings=e.embedOptions.dashboardSettings||{},e.embedOptions.dashboardSettings.filterOverviewSettings=e.embedOptions.dashboardSettings.filterOverviewSettings||{},e.embedOptions.settings=e.embedOptions.settings||{},e.embedOptions.settings.viewer=e.embedOptions.settings.viewer||{},e.embedOptions.settings.viewer.filterOverview=e.embedOptions.settings.viewer.filterOverview||{},e.embedOptions.dashboardId=t.ItemId,e.embedOptions.dashboardSettings.filterOverviewSettings.viewId=e.embedOptions.settings.viewer.filterOverview.viewId=e.embedOptions.viewId,e.embedOptions.dashboardSettings.filterOverviewSettings.viewName=e.embedOptions.settings.viewer.filterOverview.ViewName=t.ViewName,e.embedOptions.filterParameters=t.QueryString,e._renderDashboard({Apistatus:!0,Data:e.tokenResponse,Status:!0})},error:function(t){if(401==t.status){const t=e._isJwtFormat(e.authToken);e._throwError(t?o.errorMessages.InvalidAccessToken:o.errorMessages.InvalidApiKey)}else 400==t.status?e._throwError(o.errorMessages.InvalidViewID):404==t.status&&e._throwError(o.errorMessages.ViewDetailsNotFound)}});else if(e.widgetName){const t=/^(?:\{{0,1}(?:[0-9a-fA-F]){8}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){12}\}{0,1})$/.exec(e.widgetName);/[a-zA-Z]/.test(e.widgetName)&&/\d/.test(e.widgetName)&&e.widgetName.includes("-")&&!t?e._throwError(o.errorMessages.InvalidWidgetID):t?e._renderDashboard({Apistatus:!0,Data:e.tokenResponse,Status:!0}):e._throwError(o.errorMessages.WidgetNameTokenAPIError)}else e._renderDashboard({Apistatus:!0,Data:e.tokenResponse,Status:!0})}else e._getAuthorizationToken(t);else setTimeout(e._isDependencyLoaded,500,e)}checkCompatibility(){this.deprecated=!1,this.validateServerAndWrapperVersion()}validateServerAndWrapperVersion(){this.deprecationMessage("validateServerAndWrapperVersion");const e=this;e.embedOptions.environment==l.Environment.Enterprise?a.ajax({async:!0,type:"POST",url:e.dashboardServerApiUrl+"/server-version/get",contentType:"application/json",success:function(t){console.log(e.embedSDKWrapperVersion===t.Data.split(".").slice(0,2).join(".")?o.successMessages.MatchVersion:o.errorMessages.NotMatchVersion)}}):console.log(o.errorMessages.EnsureServerOrSDKVersion)}_getDashboardInstance(e){const t=window.bbEmbed.call(this,"#"+(e||this.childContainer.id))[0];if(t)return window.bbEmbed.data.call(this,t,"BoldBIDashboardDesigner")}_checkWidgetList(){if(this.embedOptions.widgetList.length>0&&!this.embedOptions.embedContainerId){const e=o.errorMessages.ErrorLoadMultipleWidget;return this.embedOptions.widgetList.forEach(t=>{const i=t.containerId,o='<div id="embedded-bi-error" style="display:table;height:100%;width:100%;"><div style="display: table-cell;vertical-align: middle;text-align: center;"><div style="display: inline-block;"><img src='+this.errorImage+' style="float: left"/><div style="float: left;margin-left: 10px;line-height: 20px;">BoldBI Embedded: '+e+"</div></div>";document.getElementById(i).innerHTML=o}),!0}return this.embedOptions.widgetList="",!1}_onBoldBIDashboardInstaceActionBegin(e,t){var i,o,s,n,d,r,h,m,c,b,p,u,v,g,w,f;if(this.isMultiTab&&0===parseInt(null!==(n=null===(s=null===(o=null===(i=a(".e-content .e-active"))||void 0===i?void 0:i.attr("id"))||void 0===o?void 0:o.split("_"))||void 0===s?void 0:s.pop())&&void 0!==n?n:"",10)){const e=a(".e-content .e-active").find(".bbembed-multitab-dbrd").data("BoldBIDashboardDesigner");this.setDefaultTheme(e.modules.themeHelper.getBannerBackground(),e.modules.themeHelper.getBannerTextColor(),e.modules.themeHelper.getBannerIconColor())}if("undefined"!=typeof e&&"renderLayout"===e.eventType)this._removeElementsClass(t,".preloader-wrap","viewer-blue-loader");if(this.embedOptions.mode==l.Mode.Connection||this.embedOptions.mode==l.Mode.Design){if(!document.querySelector('style[data-id="hideRefreshSettingsButton"]')){const e=document.createElement("style");e.type="text/css",e.setAttribute("data-id","hideRefreshSettingsButton");const t=".bbi-dbrd-datasource-schedule { display: none !important }";e.appendChild(document.createTextNode(t)),document.head.appendChild(e)}}const I=window[this.actionBeginFn];I instanceof Function&&I.call(this,e);const y=window[this.embedOptions.events.onActionStart];if(y instanceof Function&&y.call(this,e),this.embedOptions.events.onActionStart instanceof Function&&this.embedOptions.events.onActionStart.call(this,e),"dataSourceSaveAction"==e.eventType&&this._onBoldBIBeforeDatasourceSaveAction(e),"filterInteraction"==e.eventType){const t=window[null===(r=null===(d=this.embedOptions.events)||void 0===d?void 0:d.filters)||void 0===r?void 0:r.beforeApply];t instanceof Function&&t.call(this,e),(null===(m=null===(h=this.embedOptions.events)||void 0===h?void 0:h.filters)||void 0===m?void 0:m.beforeApply)instanceof Function&&(null===(b=null===(c=this.embedOptions.events)||void 0===c?void 0:c.filters)||void 0===b||b.beforeApply.call(this,e))}if("publishAsAction"==e.eventType){const t=window[null===(u=null===(p=this.embedOptions.events)||void 0===p?void 0:p.designer)||void 0===u?void 0:u.beforePublishDialogOpen];t instanceof Function&&t.call(this,e),(null===(g=null===(v=this.embedOptions.events)||void 0===v?void 0:v.designer)||void 0===g?void 0:g.beforePublishDialogOpen)instanceof Function&&(null===(f=null===(w=this.embedOptions.events)||void 0===w?void 0:w.designer)||void 0===f||f.beforePublishDialogOpen.call(this,e))}}_onBoldBIDashboardInstaceActionComplete(e){var t,i,o,s,n,d,r,h,m,c,b,p,u,v,g,w,f;const I=this;let y;const O=window[this.actionCompleteFn];this._isNullOrUndefined(e.data)||("createConnection"==e.data.event&&(this.embedOptions.datasourceId=e.data.source.data,this.embedOptions.mode=l.Mode.DataSource,this.isNewConnection=!0,I.authToken?I._renderDashboard({Apistatus:!0,Data:this.tokenResponse,Status:!0}):I._isEmptyOrSpaces(I.embedOptions.authorizationServer.url)?(y={embed_datasource_id:I.embedOptions.datasourceId,embed_mode:I.embedOptions.mode},a.ajax({async:!1,type:"POST",url:I.dashboardServerApiUrl+this.embedGetDetailsEndPoint,headers:{Authorization:"Bearer "+I.accessToken},data:JSON.stringify(y),contentType:"application/json",success:a.proxy(I._renderDashboard,I)})):this._getAuthorizationToken()),"cancelDataSource"==e.data.event&&(this.embedOptions.mode=l.Mode.Connection,I.authToken?I._renderDashboard({Apistatus:!0,Data:this.tokenResponse,Status:!0}):I._isEmptyOrSpaces(I.embedOptions.authorizationServer.url)?(y={embed_mode:I.embedOptions.mode},a.ajax({async:!1,type:"POST",url:I.dashboardServerApiUrl+this.embedGetDetailsEndPoint,headers:{Authorization:"Bearer "+I.accessToken},data:JSON.stringify(y),contentType:"application/json",success:a.proxy(I._renderDashboard,I)})):this._getAuthorizationToken()));const D="boolean"===typeof(null===(t=this.embedOptions.dashboardSettings)||void 0===t?void 0:t.edit)?null===(i=this.embedOptions.dashboardSettings)||void 0===i?void 0:i.edit:null!==(n=null===(s=null===(o=this.embedOptions.settings)||void 0===o?void 0:o.viewer)||void 0===s?void 0:s.edit)&&void 0!==n&&n;if("dashboardRendered"==e.eventType&&D){const e=document.querySelector('[data-name="editdashboard"]');e&&(e.removeAttribute("disabled"),e.classList.remove("disabled"),e.style.pointerEvents="auto",e.style.opacity="1")}if(this.pinboardIds.length>0&&"renderWidget"===e.eventType){0===e.source.element.find(".bbi-dbrd-control-header .bbi-dbrd-control-title-wrapper").length?(e.source.element.parents(".widget").find("#widget-icons").css("margin-top","8px"),e.source.element.attr("data-name").toLowerCase().includes("card")&&e.source.element.find(".bbi-dbrd-control").css("top","20px")):(e.source.element.find(".bbi-dbrd-control-header").css("margin-left","-8px"),e.source.element.find(".bbi-dbrd-control-title-wrapper").css("margin-left","8px"))}if("interactionCompleted"==e.eventType){y={filterData:this._getFilterData(e.source.data.encryptedData),data:e};const t=window[null===(r=null===(d=this.embedOptions.events)||void 0===d?void 0:d.filters)||void 0===r?void 0:r.onInteraction];t instanceof Function&&t.call(this,y),(null===(m=null===(h=this.embedOptions.events)||void 0===h?void 0:h.filters)||void 0===m?void 0:m.onInteraction)instanceof Function&&(null===(b=null===(c=this.embedOptions.events)||void 0===c?void 0:c.filters)||void 0===b||b.onInteraction.call(this,e))}else{O instanceof Function&&O.call(this,e);const t=window[this.embedOptions.events.onActionComplete];t instanceof Function&&t.call(this,e),this.embedOptions.events.onActionComplete instanceof Function&&this.embedOptions.events.onActionComplete.call(this,e)}if("filterInteraction"==e.eventType){const t=window[null===(u=null===(p=this.embedOptions.events)||void 0===p?void 0:p.filters)||void 0===u?void 0:u.afterApply];t instanceof Function&&t.call(this,e),(null===(g=null===(v=this.embedOptions.events)||void 0===v?void 0:v.filters)||void 0===g?void 0:g.afterApply)instanceof Function&&(null===(f=null===(w=this.embedOptions.events)||void 0===w?void 0:w.filters)||void 0===f||f.afterApply.call(this,e))}if("dataSourceSaveAction"==e.eventType&&JSON.parse(e.schema.schema).length>0&&this._onBoldBIAfterDatasourceSaveAction(e),"Save"==e.eventType){this._authorizeResponse.Data.ItemDetail.Name=e.data.dashboardName;const t=this._authorizeResponse.Data.ItemDetail.ItemLocation;this.authToken?this._authorizeResponse.Data.dashboardVersion=e.data.version:this._authorizeResponse.Data.ItemDetail.ItemLocation=t.replace(/\/\d+$/,"/"+e.data.version)}"SaveAs"==e.eventType&&(this._authorizeResponse.Data.ItemDetail.Id=e.data.dashboardId,this._authorizeResponse.Data.ItemDetail.Name=e.data.dashboardName,this.authToken?this._authorizeResponse.Data.dashboardVersion=e.data.version:this._authorizeResponse.Data.ItemDetail.ItemLocation=e.data.dashboardId+"/"+e.data.version,this.embedOptions.dashboardId=e.data.dashboardId)}_onBoldBIDashboardInstaceReportOpen(e){const t=window[this.reportOpenedFn];t instanceof Function&&t.call(this,e);const i=window[this.embedOptions.reportOpened];i instanceof Function&&i.call(this,e),this.embedOptions.reportOpened instanceof Function&&this.embedOptions.reportOpened.call(this,e)}_onBoldBIDashboardInstanceNavigateToDashboard(e){var t,i;this._initializeDashboardContainer(),this.embedOptions.mode=l.Mode.View,this.embedOptions.dashboardSettings.edit=this.editIgnore,(null===(i=null===(t=this.embedOptions.settings)||void 0===t?void 0:t.viewer)||void 0===i?void 0:i.edit)&&(this.embedOptions.settings.viewer.edit=this.editIgnore),this._authorizeResponse.Data.ItemDetail.Name=e.PublishName,this.embedOptions.isdesignerdraft&&this.authToken&&(this._authorizeResponse.Data.ItemDetail.Id=e.PublishId,"0"==this._authorizeResponse.Data.dashboardVersion||this._authorizeResponse.Data.dashboardVersion,this.embedOptions.dashboardId=e.PublishId),this._renderDashboard(this._authorizeResponse);const o=window[this.performNavigateDashboardFn];o instanceof Function&&o.call(this,e);const s=window[this.embedOptions.performNavigateToDashboard];s instanceof Function&&s.call(this,e),this.embedOptions.performNavigateToDashboard instanceof Function&&this.embedOptions.performNavigateToDashboard.call(this,e)}_onBoldBIBeforeDatasourceSaveAction(e){var t,i,o,s,n,d;const a=window[null===(i=null===(t=this.embedOptions.events)||void 0===t?void 0:t.datasource)||void 0===i?void 0:i.beforeSave];a instanceof Function&&a.call(this,e),(null===(s=null===(o=this.embedOptions.events)||void 0===o?void 0:o.datasource)||void 0===s?void 0:s.beforeSave)instanceof Function&&(null===(d=null===(n=this.embedOptions.events)||void 0===n?void 0:n.datasource)||void 0===d||d.beforeSave.call(this,e))}_onBoldBIAfterDatasourceSaveAction(e){var t,i,o,s,n,d;const a=window[null===(i=null===(t=this.embedOptions.events)||void 0===t?void 0:t.datasource)||void 0===i?void 0:i.afterSave];a instanceof Function&&a.call(this,e),(null===(s=null===(o=this.embedOptions.events)||void 0===o?void 0:o.datasource)||void 0===s?void 0:s.afterSave)instanceof Function&&(null===(d=null===(n=this.embedOptions.events)||void 0===n?void 0:n.datasource)||void 0===d||d.afterSave.call(this,e))}_onBoldBIDashboardBeforeBannerIconRender(e,t){var i,o,s,n,d,r,l,h,m,c,b,p,u,v,g,w,f,I,y,O,D,S,_,E,C,A,x,M=!1,F=!1;if(this.isEditGroupSeparatorEnabled=!1,e.iconsinformation.find(e=>"Summarize"===e.groupId)){var T=e.iconsinformation.shift();F=!0}const k=e.iconsinformation.shift();if(e.iconsinformation.find(e=>"translatorgroup"===e.groupId)){var B=e.iconsinformation.shift();M=!0}const N=e.iconsinformation.shift(),W=e.iconsinformation.shift();this.dashboardWidgetExports.dashboard.showMoreOption&&(this.dashboardWidgetExports.dashboard.showExport||this.dashboardWidgetExports.dashboard.showMetrics)&&(this.dashboardWidgetExports.export.excel||this.dashboardWidgetExports.export.image||this.dashboardWidgetExports.export.pdf||this.dashboardWidgetExports.export.csv||this.dashboardWidgetExports.dashboard.showMetrics)||(e.iconsinformation=this._arraySlice(e.iconsinformation,"groupName","Option"));if(0==("boolean"===typeof(null===(i=this.embedOptions.dashboardSettings)||void 0===i?void 0:i.showDashboardParameter)?this.embedOptions.dashboardSettings.showDashboardParameter:null===(n=null===(s=null===(o=this.embedOptions.settings)||void 0===o?void 0:o.viewer)||void 0===s?void 0:s.dashboardParameter)||void 0===n||n))for(let a=N.items.length-1;a>=0;a--)this._isNullOrUndefined(N.items["".concat(a)])||"dashboardparameters"!=N.items["".concat(a)][0].dataset.name||N.items.splice(a,1);("boolean"===typeof(null===(d=this.embedOptions.dashboardSettings)||void 0===d?void 0:d.showRefresh)?null===(r=this.embedOptions.dashboardSettings)||void 0===r?void 0:r.showRefresh:null===(m=null===(h=null===(l=this.embedOptions.settings)||void 0===l?void 0:l.viewer)||void 0===h?void 0:h.refresh)||void 0===m||m)||W.items.splice(0,1);const P=window[this.beforeBannerIconRenderFn],R="boolean"===typeof(null===(c=this.embedOptions.dashboardSettings)||void 0===c?void 0:c.enableFullScreen)?null===(b=this.embedOptions.dashboardSettings)||void 0===b?void 0:b.enableFullScreen:null!==(v=null===(u=null===(p=this.embedOptions.settings)||void 0===p?void 0:p.viewer)||void 0===u?void 0:u.fullScreen)&&void 0!==v&&v;if(R){const t={groupId:"refresh-fullscreen",groupName:"Refresh & FullScreen",enableGroupSeperator:!0,items:[this._createBannerIcon("<div/>","dashboard-refresh","e-dbrd-banner-refresh","Refresh","refreshdashboard",!0,!1,{display:"none","font-size":"14px"}),this._createBannerIcon("<div/>","dashboard-fullscreen",this.isFullscreen?"su su-minimize":"su su-maximize-1","Fullscreen","fullscreen",!0,!1,{"font-size":"14px"})]};e.iconsinformation.unshift(t)}const V="boolean"===typeof(null===(g=this.embedOptions.dashboardSettings)||void 0===g?void 0:g.edit)?null===(w=this.embedOptions.dashboardSettings)||void 0===w?void 0:w.edit:null!==(y=null===(I=null===(f=this.embedOptions.settings)||void 0===f?void 0:f.viewer)||void 0===I?void 0:I.edit)&&void 0!==y&&y;if(V&&((null===(O=null===t||void 0===t?void 0:t.ItemDetail)||void 0===O?void 0:O.CanWrite)||(null===t||void 0===t?void 0:t.CanWrite))){this.isEditGroupSeparatorEnabled=!0;const t=this._createBannerIcon("<a/>","dashboard-edit","su su-edit","Edit","editdashboard",!0,!1,{"font-size":"13px","padding-left":"7px"},""),i={groupId:"edit-share",groupName:"Edit & Share",items:[t]};i.enableGroupSeperator=!R,e.iconsinformation.unshift(i),t.attr("disabled","true"),t.addClass("disabled"),t.css("pointer-events","none"),t.css("opacity","0.5")}else this.isDashboardRendering&&V&&!(null===(D=null===t||void 0===t?void 0:t.ItemDetail)||void 0===D?void 0:D.CanWrite)&&!(null===t||void 0===t?void 0:t.CanWrite)&&console.warn("Edit is set to true, but you\u2019re not authorized to make changes to this dashboard.");W.items.length>0&&(e.iconsinformation.unshift(W),e.iconsinformation[0].enableGroupSeperator=!R&&!this.isEditGroupSeparatorEnabled),N.items.length>0&&e.iconsinformation.unshift(N),M&&e.iconsinformation.unshift(B),k.items.length>0&&e.iconsinformation.unshift(k),F&&e.iconsinformation.unshift(T),P instanceof Function&&P.call(this,e);const U=window[null===(_=null===(S=this.embedOptions.events)||void 0===S?void 0:S.viewer)||void 0===_?void 0:_.beforeToolBarItemsRender];U instanceof Function&&U.call(this,e),(null===(C=null===(E=this.embedOptions.events)||void 0===E?void 0:E.viewer)||void 0===C?void 0:C.beforeToolBarItemsRender)instanceof Function&&(null===(x=null===(A=this.embedOptions.events)||void 0===A?void 0:A.viewer)||void 0===x||x.beforeToolBarItemsRender.call(this,e)),[...document.head.querySelectorAll("style")].some(e=>e.innerHTML.includes("#dashboard-refresh { display: none !important"))||a('<style type="text/css"> #dashboard-refresh { display: none !important} </style>').appendTo("head");const L=document.querySelectorAll("script"),z=Array.from(L).filter(e=>e.src.includes("cultures/boldbi.cultures.min.js"));z.length>1&&z.slice(1).forEach(e=>{var t;null===(t=e.parentElement)||void 0===t||t.removeChild(e)})}_createBannerIcon(e,t,i,o,s,n,d,r,l){return a(e,d?{id:t,html:a("<span/>",{class:"icon-with-label",text:o,css:{"font-family":"Roboto",padding:"10px"}}),class:"server-banner-icon e-dashboard-banner-icon bbi-dbrd-designer-hoverable "+i,"data-name":s,"data-event":n,href:l,css:r}:{id:t,class:"server-banner-icon e-dashboard-banner-icon bbi-dbrd-designer-hoverable "+i,"data-tooltip":o,"data-name":s,"data-event":n,css:r})}_onBoldBIDashboardBeforeOtherOptionContextMenuRender(e){var t,i,o,s,n,d;0==this.dashboardWidgetExports.dashboard.showExport&&(e.iconsinformation=this._arraySlice(e.iconsinformation,"groupName","export"));const a=window[this.beforeOtherRenderFn];a instanceof Function&&a.call(this,e);const r=window[null===(i=null===(t=this.embedOptions.events)||void 0===t?void 0:t.viewer)||void 0===i?void 0:i.beforeContextMenuRender];r instanceof Function&&r.call(this,e),(null===(s=null===(o=this.embedOptions.events)||void 0===o?void 0:o.viewer)||void 0===s?void 0:s.beforeContextMenuRender)instanceof Function&&(null===(d=null===(n=this.embedOptions.events)||void 0===n?void 0:n.viewer)||void 0===d||d.beforeContextMenuRender.call(this,e))}_onBoldBIDashboardSaveFilter(e){var t,i;const s=this,n=(null===(i=null===(t=s.embedOptions.events)||void 0===t?void 0:t.filters)||void 0===i?void 0:i.beforeSaveViewDialogOpen)||s.embedOptions.dashboardSettings.saveFilterClick,d=window[s.beforeSaveViewDialogOpenFn];d instanceof Function&&d.call(s,e);const r=window["".concat(n)];if(r instanceof Function&&r.call(s,e),n instanceof Function&&n.call(s,e),!1===e.cancel)if(""==s.embedOptions.dashboardId&&""==s.embedOptions.dashboardIds)console.error(o.errorMessages.EmptyDbrdCreate);else{let t;if(a("body").find("#save_view_dialog_wrapper").remove(),t=s.embedOptions.dashboardIds&&s.embedOptions.dashboardIds.length>0?s.embedOptions.dashboardId=s.getActiveChildDashboardId():s.isMultiTab?s.getActiveChildDashboardId():s.embedOptions.dashboardId,e.viewId){const i={ViewId:e.viewId,DashboardId:t,QueryString:e.data.encryptedData};s.updateFilterView(i,function(e,t){console.log(t+o.successMessages.UpdateFilterViewMsg+e.ViewId)})}else s._createSaveViewDialog(e)}}_addSaveViewDialogStyles(){a('<style type="text/css">                     #save_view_dialog_header .su-view { float: left; padding-top: 5px; padding-right: 5px; font-size: 14px; color: var(--primary-text-normal-color); }                     #save_view_dialog_content { font-size: 12px; line-height: 1.4; }                     #save_view_dialog_header #save_view_dialog_header_title { color: var(--primary-text-normal-color);font-family: var(--font-family); font-size: 14px; padding-top: 5px; line-height: 15px; }                     #view_name_left_col { width: 25%; font-family: var(--font-family); font-size: 13px; float: left; text-align: right; margin: 5px 0px; }                     #view_name_right_col { width: 61%; float: left; margin-left: 50px; }                     #view_name_division {height: 50px}                     #default_view_division {height: 50px}                     #default_view_left {width: 25%; font-size: 13px; font-family: var(--font-family); float: left; text-align: right; margin: 5px 0px;}                     #default_view_right { width: 61%; float: left; margin-left: 50px; margin-top:5px; margin-bottom:5px}                     #view_name_textbox { width: 100%; border: 1px solid var(--secondary-border-color); padding: 6px 12px; color: var(--primary-text-normal-color); background: var(--primary-background-color); font-size: 12px; }                     #view_name_textbox:focus { border-color: var(--primary-branding-border-color)!important; }                     #cancel_button:hover { background: var(--secondary-btn-bg-hover-color); border: 1px solid var(--secondary-btn-border-normal-color); color: var(--secondary-btn-text-hover-color); }                     #save_button:hover { background: var(--primary-btn-bg-hover-color); border: 1px solid var(--primary-btn-border-normal-color); color: var(--primary-btn-text-hover-color) !important; }                     #save_view_dialog_footer { padding: 10px 15px; border-top: 1px solid var(--secondary-border-color); background: var(--secondary-background-color); }                     #save_view_dialog .e-dlg-closeicon-btn { margin-right: 5px; padding: 5px 0px; width: 15px; height: 20px; }                     #save_view_dialog .e-dlg-closeicon-btn .e-icon-dlg-close { font-size: 10px; color: var(--hyper-link-hover-color); }                     #save_view_dialog .e-dlg-closeicon-btn:hover, #save_view_dialog .e-dlg-closeicon-btn { background: var(--primary-background-color); }                     #save_view_dialog .e-dlg-content { background: var(--primary-background-color); color: var(--primary-text-normal-color); padding-bottom: 25px; }                     #view_name_err_msg { display: none; color: #ff3b30; font-size: 12px; }                     #cancel_button { background: var(--secondary-btn-bg-normal-color); border: 1px solid var(--secondary-btn-border-normal-color); color: var(--secondary-text-normal-color); font-family: var(--font-family); }                     #save_button { margin-right: 15px; background: var(--primary-btn-bg-normal-color); border: 1px solid var(--primary-btn-border-normal-color); color: var(--primary-btn-text-normal-color); font-family: var(--font-family); }                     #save_view_dialog .e-dlg-header-content { padding: 10px 15px; height: 40px; background: var(--primary-background-color); color: var(--primary-text-normal-color); }                     #save_view_dialog { background: var(--primary-background-color); }                     .footer-button-class { border-radius: 4px; display: inline-block; cursor: pointer; font-size: 12px; float: right; font-weight: 600; height: 32px; line-height: 18px; min-width: 90px; outline: 0; text-align: center; padding: 6px 20px; }                     .e-dlg-overlay { position: fixed; }                     .viewname-textbox-error { border: 1px solid #ff3b30 !important; }                     .default_view_switch {position: relative;display: inline-block;width: 28px; /* Width of the switch */height: 16px; /* Height of the switch margin-top: */}                    .default_view_switch input {  display: none;}                    .default_view_slider {position: absolute;cursor: pointer;top: 0;left: 0;right: 0;bottom: 0;background-color: var(--material-switch-background-bg-normal-color); border: 1px solid var(--secondary-btn-border-normal-color); -webkit-transition: .4s;transition: .4s;border-radius: 16px; /* Half of the height for a round shape */}                    .default_view_slider:before { position: absolute; content: ""; height: 9px; /* Height minus border width */width: 9px; /* Height minus border width */top: 3px; /* (Width - Height) / 2 to center it horizontally */ bottom: 3px; /* (Height - Height) / 2 to center it vertically  */left:2px; background-color: var(--material-switch-foreground-bg-normal-color); -webkit-transition: .4s; transition: .4s; border-radius: 50%; }                    .default_view_slider:hover {border: 1px solid var(--hover-icon-color);}                    input:checked + .default_view_slider { background-color: var(--primary-branding-color); border-color:var(--primary-branding-border-color);}                    input:focus + .default_view_slider {  box-shadow: 0 0 0.5px #2196F3;}                    input:checked + .default_view_slider:before {-webkit-transform: translateX(17.5px); /* Half of the width minus half of the height */-ms-transform: translateX(17.5px);transform: translateX(13.5px);background-color: white;}                    #info-icon {padding-left: 15px; cursor: pointer; font-size: 12px;}                     .su-info:before {content: \u24d8;}                    .default_view_slider_disable:before { position: absolute; content: ""; height: 9px; /* Height minus border width */width: 9px; /* Height minus border width */top: 3px; /* (Width - Height) / 2 to center it horizontally */ bottom: 3px; /* (Height - Height) / 2 to center it vertically */left:2px;background: var(--material-switch-foreground-bg-disable-color); -webkit-transition: .4s; transition: .4s; border-radius: 50%; }                    .tooltip {position: relative;display: inline-block;}                    .tooltip .tooltiptext {visibility: hidden;font-size: 11.8px;width: 320px;background: var(--primary-background-color);font-family: var(--font-family);color: var(--primary-text-normal-color);text-align: left;border-radius: 6px;padding: 5px;position: absolute;z-index: 1;top:130%;left:270%;margin-left:-60px; opacity: 0;transition: opacity 0.3s; border: 1px solid var(--secondary-border-color); box-shadow: 0 6px 12px rgba(0,0,0,.175)}                    .tooltip:hover .tooltiptext {visibility: visible;opacity: 1;}                    </style > ').appendTo("head")}_createSaveViewDialog(e){const t=this;t._addSaveViewDialogStyles();const i=a("<div>").attr({id:"save_view_dialog_wrapper",class:"bi-dashboard"}).appendTo("body"),s=a("<div>").attr("id","save_view_dialog").appendTo(i),n="\n            <div id='save_view_dialog_content'>\n                <div id = \"view_name_division\">\n                    <label id='view_name_left_col'>Name*</label>\n                    <div id='view_name_right_col'>\n                        <input type='text' id='view_name_textbox' data-query='".concat(e.data.encryptedData,"' data-id='").concat(e.viewId,'\'>\n                        <span id=\'view_name_err_msg\'></span>\n                    </div>\n                </div>\n                <div id="default_view_division">\n                <label class="text-label" id="default_view_left">Mark as Default</label>\n                    <div id=\'default_view_right\'>\n                        <label class="default_view_switch">\n                            <input type="checkbox" id="default_view_checkbox">\n                            <span class="default_view_slider" id="default_slider"></span>\n                        </label>\n                        <div class="tooltip">\n                            <div class="su su-info bbi-dbrd-designer-hoverable" id="info-icon" data-tooltip></div>\n                            <div class="tooltiptext" id="tooltip-text"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        '),d=a("<div>").attr("id","save_view_dialog_footer"),r=a("<button>").attr("id","save_button").addClass("footer-button-class").text("Save").on("click",()=>t._saveFilterView(t)),l=a("<button>").attr("id","cancel_button").addClass("footer-button-class").text("Cancel").on("click",function(){a("body").find("#save_view_dialog_wrapper, #success_save_view_dialog_wrapper").remove()});d.append(l),d.append(r),s.append(d);new window.ejdashboard.popups.Dialog({header:'<div id="save_view_dialog_header"><span class="su su-view"></span><div id="save_view_dialog_header_title">Save View</div></div>',width:"600px",isModal:!0,showCloseIcon:!0,target:i[0],content:n}).appendTo("#save_view_dialog"),document.getElementById("view_name_textbox").addEventListener("input",function(){t._viewNameValidation()});const h=document.getElementById("info-icon"),m=document.getElementById("tooltip-text");let c;if(h.addEventListener("mouseover",function(){m.textContent=c}),h.addEventListener("mouseout",function(){m.textContent=""}),this.isDefaultView)document.getElementById("default_view_checkbox").checked=!0,c=o.successMessages.NonDefaultViewInfoMsg;else{a(".default_view_slider").css({background:"var(--material-switch-background-bg-disable-color)",border:"1px solid var(--material-switch-background-border-disable-color)"});document.getElementById("default_slider").classList.add("default_view_slider_disable"),document.getElementById("default_view_checkbox").checked=!1,document.getElementById("default_view_checkbox").disabled=!0,c=o.successMessages.DefaultViewInfoMsg}}_saveFilterView(e){const t=e,i=a("#view_name_textbox")[0];if(t._viewNameValidation()){let e;this.embedOptions.dashboardIds.length>0||(e=t.isMultiTab?t.getActiveChildDashboardId():"");const o=i.value,s=i.getAttribute("data-query"),n=i.getAttribute("data-id"),d={ViewName:o,ItemId:t.embedOptions.dashboardId,QueryString:s,ChildItemId:e,IsDefault:!!document.getElementById("default_view_checkbox").checked},r=e=>{e?a("body").find("#save_view_dialog_wrapper").remove():t._viewNameValidation(!0)};"null"===n?t.saveFilterView(d,r):t.saveAsFilterView(d,r)}}_updateInFilterOverviewUI(e,t){let i={};i=this.isMultiTab?window.bbEmbed(".e-content .e-active").find(".bbembed-multitab-dbrd").data("BoldBIDashboardDesigner"):this._getDashboardInstance(),i&&i._updateFilterOverview(e,t)}_viewNameValidation(e){const t=a("#view_name_textbox"),i=a("#view_name_err_msg"),s=!/^[a-zA-Z0-9!@$^ ()_=\-}{.`~]*$/.test(t.val()),n=this._isEmptyOrSpaces(t[0].value);return e||s||n?(i.css({display:"block","font-family":"var(--font-family)"}).text(e?o.errorMessages.ExistedViewName:s?o.errorMessages.AvoidSplChar:n?o.errorMessages.EmptyViewName:""),t.addClass("viewname-textbox-error"),!1):(i.css("display","none").text(),t.removeClass("viewname-textbox-error"),!0)}getActiveChildDashboardId(){return window.bbEmbed(".e-content .e-active").find(".bbembed-multitab-dbrd").data("BoldBIDashboardDesigner")._id.split("_")[1].replace(/^([\da-f]{8})([\da-f]{4})([\da-f]{4})([\da-f]{4})([\da-f]{12})$/,"$1-$2-$3-$4-$5")}_getParametersFromQueryString(e){return JSON.parse(decodeURIComponent(e).split("filterQuery=")[1]).map(e=>({name:e.dimfi&&!e.dimfi.c.toLowerCase().includes("include")?"".concat(e.cn," (").concat(e.dimfi.c,")"):e.cn,values:e.dimfi?e.dimfi.t:e.idf.dfl}))}_onBoldBIDashboardSaveAsFilter(e){var t,i;const s=this,n=(null===(i=null===(t=this.embedOptions.events)||void 0===t?void 0:t.filters)||void 0===i?void 0:i.beforeSaveAsViewDialogOpen)||this.embedOptions.dashboardSettings.saveAsFilterClick,d=window[this.beforeSaveAsViewDialogOpenFn];d instanceof Function&&d.call(this,e);const r=window["".concat(n)];r instanceof Function&&r.call(this,e),n instanceof Function&&n.call(this,e),!1===e.cancel&&(""==s.embedOptions.dashboardId?console.error(o.errorMessages.EmptyDbrdCreate):(a("body").find("#save_view_dialog_wrapper").remove(),s._createSaveViewDialog(e)))}_onBoldBIDashboardOpenViewSection(e){var t,i;const o=this,s=(null===(i=null===(t=o.embedOptions.events)||void 0===t?void 0:t.filters)||void 0===i?void 0:i.onSavedFilterClick)||o.embedOptions.dashboardSettings.viewSavedFiltersClick,n=window[o.onViewSavedFiltersClickFn],d=this.isMultiTab?this.getActiveChildDashboardId():this.embedOptions.dashboardId;this.deprecated=!1,this.getViewsByDashboardId(d,function(t){e.viewInfos=t}),n instanceof Function&&n.call(o,e);const a=window["".concat(s)];a instanceof Function&&a.call(o,e),s instanceof Function&&s.call(o,e)}_onBoldBIDashboardBannerIconClick(e){var t,i,o,s,n,d;if("fullscreen"==e.name.toLowerCase()&&this._switchFullscreenMode(e),"refreshdashboard"==e.name.toLowerCase())if(this.isMultiTab){window.bbEmbed(".e-content .e-active").find(".bbembed-multitab-dbrd").data("BoldBIDashboardDesigner").updateDashboard()}else{this._getDashboardInstance().updateDashboard()}if("editdashboard"==e.name.toLowerCase()&&(this._initializeDashboardContainer(),this.embedOptions.mode=l.Mode.Design,this._renderDashboard(this._authorizeResponse)),"dashboardparameters"==e.name.toLowerCase()){const e=document.createElement("style");e.innerHTML=".remove-scroller-dashboard-parameter { width: 100% !important; height: 100% !important; color: #333; background: #fff; border-radius: 0; }",document.head.appendChild(e);const t=this;setTimeout(function(){const e=t.isMultiTab?window.bbEmbed(".e-content .e-active").find(".bbembed-multitab-dbrd").data("BoldBIDashboardDesigner"):t._getDashboardInstance();a("#"+e._id+"_dashboardparameter_dialog").addClass("remove-scroller-dashboard-parameter")},50)}const r=window[this.onBannerIconClickFn];r instanceof Function&&r.call(this,e);const h=window[null===(i=null===(t=this.embedOptions.events)||void 0===t?void 0:t.viewer)||void 0===i?void 0:i.onToolbarItemClick];if(h instanceof Function&&h.call(this,e),(null===(s=null===(o=this.embedOptions.events)||void 0===o?void 0:o.viewer)||void 0===s?void 0:s.onToolbarItemClick)instanceof Function&&(null===(d=null===(n=this.embedOptions.events)||void 0===n?void 0:n.viewer)||void 0===d||d.onToolbarItemClick.call(this,e)),"undefined"!=typeof e.name&&"theming"==e.name.toLowerCase()){let t;if(this.isMultiTab){this.multiTabTheme=e.selectedTheme;const t=window.bbEmbed(".e-content .e-active").find(".bbembed-multitab-dbrd").data("BoldBIDashboardDesigner");t.applyDashboardTheme(e.selectedTheme),this.setDefaultTheme(t.modules.themeHelper.getBannerBackground(),t.modules.themeHelper.getBannerTextColor(),t.modules.themeHelper.getBannerIconColor());const i=window.bbEmbed("#"+this.embedOptions.embedContainerId).find(".e-content .bbembed-multitab-dbrd");for(let o=0;o<i.length;o++)if(window.bbEmbed(window.bbEmbed(".e-content .e-active").find(".bbembed-multitab-dbrd")).attr("id")!=window.bbEmbed(i["".concat(o)]).attr("id")){const t=window.bbEmbed(i["".concat(o)]).attr("id"),s=this._getDashboardInstance(t);void 0!=s&&s.applyDashboardTheme(e.selectedTheme)}}else{this._getDashboardInstance(t).applyDashboardTheme(e.selectedTheme)}}}getComments(e,t,i){this.deprecationMessage("getComments");const o=this,s={ItemId:"dashboard"==e?t.dashboardId:t.widgetId,DashboardItemId:"dashboard"==e&&this.isMultiTab?t.multitabDashboardId:t.dashboardId,ItemType:e,ParentItemId:this.isMultiTab?t.multitabDashboardId:null,CommentAction:3,OrderBy:1};var n=this._validatetoken(this.accessToken);a.ajax({async:!1,type:"POST",url:this.dashboardServerApiUrl+"/comments/operation",headers:{Authorization:n},data:JSON.stringify(s),contentType:"application/json",success:function(s){if(s.Status)if("dashboard"==e)o.commentsArgs.Comments=s.Comments,o.commentsArgs.ActiveCommentsCount=s.ActiveCommentsCount,o.commentsArgs.SortBy=1,o.commentsArgs.DashboardId=s.ItemId,window["".concat(i)]instanceof Function?window["".concat(i)].call(o,o.commentsArgs):i.call(o,o.commentsArgs);else if("widget"==e){const e=a("[data-widget-id="+t.widgetId+"]"),n=e[0].id,d=a("#"+n).width(),r=e.offset().left+d,l=e.offset().top;let h=a(window).width()-(r+350);h<0&&(h=a(window).width()-(r-(a(window).width()<450?0:75)),a(window).width()<375&&(h=0)),o.commentsArgs.Comments=s.Comments,o.commentsArgs.Position={top:l+20,right:h+40},o.commentsArgs.ActiveCommentsCount=s.ActiveCommentsCount,o.commentsArgs.SortBy=1,o.commentsArgs.WidgetId=t.widgetId,o.commentsArgs.DashboardId=t.dashboardId,window["".concat(i)]instanceof Function?window["".concat(i)].call(o,o.commentsArgs):i.call(o,o.commentsArgs)}},error:function(e){o.ajaxErrorFnc(e)}})}addDashboardComment(e,t){this.deprecationMessage("addDashboardComment");const i=this,s=/^(?:\{{0,1}(?:[0-9a-fA-F]){8}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){12}\}{0,1})$/,n=s.exec(e.dashboardId),d=!e.multitabDashboardId||!!s.exec(e.multitabDashboardId),r=!e.parentCommentId||!!Number(e.parentCommentId);if(n&&d&&r&&!this._isEmptyOrSpaces(e.content)){const o=(new Date).toISOString(),s={ItemType:"dashboard",Comment:e.content,ItemId:e.dashboardId,ParentId:e.parentCommentId,ParentItemId:e.multitabDashboardId,CommentAction:0,CurrentDate:o,Url:this.dashboardUrl};var l=this._validatetoken(this.accessToken);a.ajax({async:!1,type:"POST",url:this.dashboardServerApiUrl+"/comments/operation",headers:{Authorization:l},data:JSON.stringify(s),contentType:"application/json",success:function(o){o.Status&&(i.deprecated=!1,i.getComments("dashboard",e,t))},error:function(e){i.ajaxErrorFnc(e)}})}else n&&d?r?this._isEmptyOrSpaces(e.content)&&console.error(o.errorMessages.InvalidCommentText):console.error(o.errorMessages.InvalidReplyCommentID):console.error(o.errorMessages.InvalidDashboardID)}addWidgetComment(e,t){this.deprecationMessage("addWidgetComment");const i=this,s=/^(?:\{{0,1}(?:[0-9a-fA-F]){8}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){12}\}{0,1})$/,n=s.exec(e.dashboardId),d=s.exec(e.widgetId),r=!e.multitabDashboardId||!!s.exec(e.multitabDashboardId),l=!e.parentCommentId||!!Number(e.parentCommentId);if(d&&n&&r&&l&&!this._isEmptyOrSpaces(e.content)){const o=(new Date).toISOString(),s={ItemType:"widget",Comment:e.content,ItemId:e.widgetId,DashboardItemId:e.dashboardId,ParentId:e.parentCommentId,ParentItemId:e.multitabDashboardId,CommentAction:0,CurrentDate:o,Url:this.dashboardUrl};var h=this._validatetoken(this.accessToken);a.ajax({async:!1,type:"POST",url:this.dashboardServerApiUrl+"/comments/operation",headers:{Authorization:h},data:JSON.stringify(s),contentType:"application/json",success:function(o){o.Status&&(i.deprecated=!1,i.getComments("widget",e,t))},error:function(e){i.ajaxErrorFnc(e)}})}else n&&r&&d?l?this._isEmptyOrSpaces(e.content)&&console.error(o.errorMessages.InvalidCommentText):console.error(o.errorMessages.InvalidReplyCommentID):console.error(o.errorMessages.InvalidDbrdAndWidgetID)}deleteDashboardComment(e,t){this.deprecationMessage("deleteDashboardComment");const i=this,s=/^(?:\{{0,1}(?:[0-9a-fA-F]){8}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){12}\}{0,1})$/,n=s.exec(e.dashboardId),d=!e.multitabDashboardId||!!s.exec(e.multitabDashboardId);if(n&&d&&!this._isEmptyOrSpaces(e.commentId)){const o=(new Date).toISOString(),s={ItemType:"dashboard",CommentId:e.commentId,ItemId:e.dashboardId,ParentItemId:e.multitabDashboardId,CommentAction:2,CurrentDate:o,Url:this.dashboardUrl};var r=this._validatetoken(this.accessToken);a.ajax({async:!1,type:"POST",url:this.dashboardServerApiUrl+"/comments/operation",headers:{Authorization:r},data:JSON.stringify(s),contentType:"application/json",success:function(o){o.Status&&(i.deprecated=!1,i.getComments("dashboard",e,t))},error:function(e){i.ajaxErrorFnc(e)}})}else n&&d?this._isEmptyOrSpaces(e.commentId)&&console.error(o.errorMessages.InvalidCommentID):console.error(o.errorMessages.InvalidDashboardID)}deleteWidgetComment(e,t){this.deprecationMessage("deleteWidgetComment");const i=this,s=/^(?:\{{0,1}(?:[0-9a-fA-F]){8}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){12}\}{0,1})$/,n=s.exec(e.dashboardId),d=s.exec(e.widgetId),r=!e.multitabDashboardId||!!s.exec(e.multitabDashboardId);if(d&&n&&r&&!this._isEmptyOrSpaces(e.commentId)){const o=(new Date).toISOString(),s={ItemType:"widget",CommentId:e.commentId,ItemId:e.widgetId,DashboardItemId:e.dashboardId,ParentItemId:e.multitabDashboardId,CommentAction:2,CurrentDate:o,Url:this.dashboardUrl};var l=this._validatetoken(this.accessToken);a.ajax({async:!1,type:"POST",url:this.dashboardServerApiUrl+"/comments/operation",headers:{Authorization:l},data:JSON.stringify(s),contentType:"application/json",success:function(o){o.Status&&(i.deprecated=!1,i.getComments("widget",e,t))},error:function(e){i.ajaxErrorFnc(e)}})}else n&&r&&d?this._isEmptyOrSpaces(e.commentId)&&console.error(o.errorMessages.InvalidCommentID):console.error(o.errorMessages.InvalidDbrdAndWidgetID)}editDashboardComment(e,t){this.deprecationMessage("editDashboardComment");const i=this,s=/^(?:\{{0,1}(?:[0-9a-fA-F]){8}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){12}\}{0,1})$/,n=s.exec(e.dashboardId),d=!e.multitabDashboardId||!!s.exec(e.multitabDashboardId);if(n&&d&&!this._isEmptyOrSpaces(e.content)&&!this._isEmptyOrSpaces(e.commentId)){const o=(new Date).toISOString(),s={ItemType:"dashboard",Comment:e.content,CommentId:e.commentId,ItemId:e.dashboardId,ParentItemId:e.multitabDashboardId,CommentAction:1,CurrentDate:o,Url:this.dashboardUrl};var r=this._validatetoken(this.accessToken);a.ajax({async:!1,type:"POST",url:this.dashboardServerApiUrl+"/comments/operation",headers:{Authorization:r},data:JSON.stringify(s),contentType:"application/json",success:function(o){o.Status&&(i.deprecated=!1,i.getComments("dashboard",e,t))},error:function(e){i.ajaxErrorFnc(e)}})}else n&&d?this._isEmptyOrSpaces(e.commentId)?console.error(o.errorMessages.InvalidCommentID):this._isEmptyOrSpaces(e.content)&&console.error(o.errorMessages.InvalidCommentText):console.error(o.errorMessages.InvalidDashboardID)}editWidgetComment(e,t){this.deprecationMessage("editWidgetComment");const i=this,s=/^(?:\{{0,1}(?:[0-9a-fA-F]){8}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){4}-(?:[0-9a-fA-F]){12}\}{0,1})$/,n=s.exec(e.dashboardId),d=s.exec(e.widgetId),r=!e.multitabDashboardId||!!s.exec(e.multitabDashboardId);if(d&&n&&r&&!this._isEmptyOrSpaces(e.content)&&!this._isEmptyOrSpaces(e.commentId)){const o=(new Date).toISOString(),s={ItemType:"widget",Comment:e.content,CommentId:e.commentId,ItemId:e.widgetId,DashboardItemId:e.dashboardId,ParentItemId:e.multitabDashboardId,CommentAction:1,CurrentDate:o,Url:this.dashboardUrl};var l=this._validatetoken(this.accessToken);a.ajax({async:!1,type:"POST",url:this.dashboardServerApiUrl+"/comments/operation",headers:{Authorization:l},data:JSON.stringify(s),contentType:"application/json",success:function(o){o.Status&&(i.commentsArgs.StatusMessage=o.StatusMessage,i.deprecated=!1,i.getComments("widget",e,t))},error:function(e){i.ajaxErrorFnc(e)}})}else n&&r&&d?this._isEmptyOrSpaces(e.commentId)?console.error(o.errorMessages.InvalidCommentID):this._isEmptyOrSpaces(e.content)&&console.error(o.errorMessages.InvalidCommentText):console.error(o.errorMessages.InvalidDbrdAndWidgetID)}ajaxErrorFnc(e){let t="";t=0==e.status?o.errorMessages.NetworkIssue:404==e.status?"Not Found"==e.statusText?o.errorMessages.ViewIDNotFound:o.errorMessages.PageNotFound:500==e.status?o.errorMessages.InternalServerError:o.errorMessages.UncaughtError+e.responseText,this._isNullOrUndefined(this.embedOptions.events.onError)||""==this.embedOptions.events.onError?console.error(t):this.onErrorClient(t)}setDefaultTheme(e,t,i){a(".e-tab-header.e-control.e-toolbar.e-lib.e-keyboard").css("color",i),a(".e-toolbar-item .e-tab-text").css("color",t),a(".e-toolbar-item.e-active .e-tab-text").addClass("active-font-color"),a(".multitab-dbrd").css("background",e),a(".e-items.e-toolbar-items.e-lib.e-hscroll.e-control.e-touch .e-nav-arrow").css("color",i)}_switchFullscreenMode(e){const t=document.getElementById(e.target.parent().attr("id").split("_embeddedbi")[0]);if(this.isFullscreen=!1,document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen();else if(t.requestFullscreen)t.requestFullscreen();else if(t.msRequestFullscreen)t.msRequestFullscreen();else if(t.mozRequestFullScreen)t.mozRequestFullScreen();else if(t.webkitRequestFullscreen)t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);else if("ActiveXObject"in window){new ActiveXObject("Wscript.shell").SendKeys("{F11}"),setTimeout(function(){(screen.availHeight||screen.height-30)<=window.innerHeight?(a('<style id="embed-fullscreen" type="text/css"> .hide-dashboard-icons #dashboard-refresh {  display: block !important; } .hide-dashboard-icons ul.options, .hide-dashboard-icons .su-pin, .hide-dashboard-icons .su-edit, .hide-dashboard-icons .bbi-dbrd-banner-link, .hide-dashboard-icons .bbi-dbrd-banner-menu, .hide-dashboard-icons .bbi-dbrd-banner-text-icon, .hide-dashboard-icons .bbi-dbrd-banner-widget-withoutcomments, .hide-dashboard-icons .bbi-dbrd-banner-widget-withcomments, .hide-dashboard-icons .bbi-dbrd-control-menu, .hide-dashboard-icons .e-dashboard-banner-menu, .hide-dashboard-icons .e-dashboard-banner-link, .hide-dashboard-icons .su-icon, .hide-dashboard-icons .bbi-dbrd-control-menu-icon, .hide-dashboard-icons .e-dashboard-banner-icon:not(#dashboard-fullscreen):not(#dashboard-refresh):not(#pinboard-fullscreen), .hide-dashboard-icons .e-dashboard-banner-description, .hide-dashboard-icons .server-banner-icon + .e-banner-verticalsplitline, .hide-dashboard-icons #dashboard_bannerPanel div a + .e-banner-verticalsplitline, .hide-dashboard-icons .bbi-dashboard-widget-menu { display: none !important; } .hide-dashboard-icons #dashboard { width: 100% !important; } .hide-embed-dashboard-icons .bbi-dbrd-banner-link, .hide-embed-dashboard-icons .bbi-dbrd-banner-menu, .hide-embed-dashboard-icons .bbi-dbrd-banner-text-icon, .hide-embed-dashboard-icons .bbi-dbrd-banner-widget-withoutcomments, .hide-embed-dashboard-icons .bbi-dbrd-banner-widget-withcomments, .hide-embed-dashboard-icons .bbi-dbrd-control-menu, .hide-embed-dashboard-icons .e-dashboard-banner-menu, .hide-embed-dashboard-icons .e-dashboard-banner-link, .hide-embed-dashboard-icons .e-dashboard-banner-icon:not(#dashboard-fullscreen):not(#dashboard-refresh):not(#dashboard_otheroption):not(#dashboard-view):not(#dashboard-comment):not(#dashboard_dashboardmenu), .hide-embed-dashboard-icons #dashboard_bannerPanel div a + .e-banner-verticalsplitline, .hide-embed-dashboard-icons .saved-view .su.cursor-pointer { display: none !important; } </style>').appendTo("head"),a("body").addClass("hide-dashboard-icons"),a("#dashboard-fullscreen").removeClass("su-maximize-1").addClass("su-minimize").attr("data-tooltip","Exit Fullscreen")):(a("#embed-fullscreen").remove(),a("body").removeClass("hide-dashboard-icons"),this.isMultiTab&&a("#"+this.embedOptions.embedContainerId).find(".multitab-dbrd").css("width",this.embedOptions.width),a("#dashboard-fullscreen").addClass("su-maximize-1").removeClass("su-minimize").attr("data-tooltip","Fullscreen"))},400)}}_fullscreenExitHandler(e){var t,i,o,s,n,d,r,l,h,m,c,b,p,u,v,g,w,f,I,y,O;if(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement){const t=document.getElementById("remove-view-saved");if("boolean"===typeof(null===(m=null===(h=this.embedOptions.dashboardSettings)||void 0===h?void 0:h.filterOverviewSettings)||void 0===m?void 0:m.showViewSavedFilterIcon)?null===(b=null===(c=this.embedOptions.dashboardSettings)||void 0===c?void 0:c.filterOverviewSettings)||void 0===b?void 0:b.showViewSavedFilterIcon:null!==(g=null===(v=null===(u=null===(p=this.embedOptions.settings)||void 0===p?void 0:p.viewer)||void 0===u?void 0:u.filterOverview)||void 0===v?void 0:v.viewSavedFilter)&&void 0!==g&&g)if(t)document.getElementById("remove-view-saved").innerHTML=".bbi-dbrd-view-saved { display: none; }";else{const e=document.createElement("style");e.type="text/css",e.id="remove-view-saved";const t=".bbi-dbrd-view-saved{display:none}";e.appendChild(document.createTextNode(t)),document.head.appendChild(e)}this.isFullscreen=!0;const i="boolean"===typeof(null===(w=this.embedOptions.dashboardSettings)||void 0===w?void 0:w.showRefresh)?null===(f=this.embedOptions.dashboardSettings)||void 0===f?void 0:f.showRefresh:null===(O=null===(y=null===(I=this.embedOptions.settings)||void 0===I?void 0:I.viewer)||void 0===y?void 0:y.refresh)||void 0===O||O;a('<style id="embed-fullscreen" type="text/css"> .hide-dashboard-icons #dashboard-refresh { display:'+(i?"block !important":"none !important")+"; } .hide-dashboard-icons ul.options, .hide-dashboard-icons .su-pin, .hide-dashboard-icons .su-edit, .hide-dashboard-icons .bbi-dbrd-banner-link, .hide-dashboard-icons .bbi-dbrd-banner-menu, .hide-dashboard-icons .bbi-dbrd-banner-text-icon, .hide-dashboard-icons .bbi-dbrd-banner-widget-withoutcomments, .hide-dashboard-icons .bbi-dbrd-banner-widget-withcomments, .hide-dashboard-icons .bbi-dbrd-control-menu, .hide-dashboard-icons .e-dashboard-banner-menu, .hide-dashboard-icons .e-dashboard-banner-link, .hide-dashboard-icons .su-icon, .hide-dashboard-icons .bbi-dbrd-control-menu-icon, .hide-dashboard-icons .e-dashboard-banner-icon:not(#dashboard-fullscreen):not(#dashboard-refresh):not(#pinboard-fullscreen), .hide-dashboard-icons .e-dashboard-banner-description, .hide-dashboard-icons .server-banner-icon + .e-banner-verticalsplitline, .hide-dashboard-icons #dashboard_bannerPanel div a + .e-banner-verticalsplitline, .hide-dashboard-icons .bbi-dashboard-widget-menu { display: none !important; } .hide-dashboard-icons #dashboard { width: 100% !important; } .hide-embed-dashboard-icons .bbi-dbrd-banner-link, .hide-embed-dashboard-icons .bbi-dbrd-banner-menu, .hide-embed-dashboard-icons .bbi-dbrd-banner-text-icon, .hide-embed-dashboard-icons .bbi-dbrd-banner-widget-withoutcomments, .hide-embed-dashboard-icons .bbi-dbrd-banner-widget-withcomments, .hide-embed-dashboard-icons .bbi-dbrd-control-menu, .hide-embed-dashboard-icons .e-dashboard-banner-menu, .hide-embed-dashboard-icons .e-dashboard-banner-link, .hide-embed-dashboard-icons .e-dashboard-banner-icon:not(#dashboard-fullscreen):not(#dashboard-refresh):not(#dashboard_otheroption):not(#dashboard-view):not(#dashboard-comment):not(#dashboard_dashboardmenu), .hide-embed-dashboard-icons #dashboard_bannerPanel div a + .e-banner-verticalsplitline, .hide-embed-dashboard-icons .saved-view .su.cursor-pointer { display: none !important; } </style>").appendTo("head"),a("body").addClass("hide-dashboard-icons"),e.isMultiTab?a("#"+e.embedOptions.embedContainerId).find(".multitab-dbrd .e-content .e-active").find("#dashboard-fullscreen").removeClass("su-maximize-1").addClass("su-minimize").attr("data-tooltip","Exit Fullscreen"):a("#dashboard-fullscreen").removeClass("su-maximize-1").addClass("su-minimize").attr("data-tooltip","Exit Fullscreen"),a("#pinboard-fullscreen").removeClass("su-maximize-1").addClass("su-minimize").attr("data-tooltip","Exit Fullscreen"),a("#server-app-container").attr("style","background-color: #f9f9f9; overflow: auto !important")}else{a("#embed-fullscreen").remove(),a("body").removeClass("hide-dashboard-icons"),e.isMultiTab?(a("#"+e.embedOptions.embedContainerId).find(".multitab-dbrd").css("width","100%"),a("#"+e.embedOptions.embedContainerId).find(".multitab-dbrd .e-content .e-active").find("#dashboard-fullscreen").addClass("su-maximize-1").removeClass("su-minimize").attr("data-tooltip","Fullscreen")):a("#dashboard-fullscreen").addClass("su-maximize-1").removeClass("su-minimize").attr("data-tooltip","Fullscreen"),a("#pinboard-fullscreen").addClass("su-maximize-1").removeClass("su-minimize").attr("data-tooltip","Fullscreen"),a("#server-app-container").attr("style","background-color: #f9f9f9; height:"+a("#content-area").height()+"px;overflow: hidden !important;min-height: 600px; width:"+e.embedOptions.width);("boolean"===typeof(null===(i=null===(t=this.embedOptions.dashboardSettings)||void 0===t?void 0:t.filterOverviewSettings)||void 0===i?void 0:i.showViewSavedFilterIcon)?null===(s=null===(o=this.embedOptions.dashboardSettings)||void 0===o?void 0:o.filterOverviewSettings)||void 0===s?void 0:s.showViewSavedFilterIcon:null!==(l=null===(r=null===(d=null===(n=this.embedOptions.settings)||void 0===n?void 0:n.viewer)||void 0===d?void 0:d.filterOverview)||void 0===r?void 0:r.viewSavedFilter)&&void 0!==l&&l)&&(document.getElementById("remove-view-saved").innerHTML=".bbi-dbrd-view-saved { display: block; }")}}_onBoldBIDashboardBeforeWidgetIconRendered(e){var t,i,o,s,n,d,a,r,l,h,m,c,b,p;const u="boolean"===typeof(null===(t=this.embedOptions.widgetSettings)||void 0===t?void 0:t.showMaximize)?this.embedOptions.widgetSettings.showMaximize:null===(s=null===(o=null===(i=this.embedOptions.settings)||void 0===i?void 0:i.widget)||void 0===o?void 0:o.maximize)||void 0===s||s,v="boolean"===typeof(null===(n=this.embedOptions.widgetSettings)||void 0===n?void 0:n.showFilter)?this.embedOptions.widgetSettings.showFilter:null===(r=null===(a=null===(d=this.embedOptions.settings)||void 0===d?void 0:d.widget)||void 0===a?void 0:a.filter)||void 0===r||r;u||(e.iconsinformation=this._arraySlice(e.iconsinformation,"name","maximize")),v||(e.iconsinformation=this._arraySlice(e.iconsinformation,"name","filter")),!1!==this.dashboardWidgetExports.widget.showExport&&(this.dashboardWidgetExports.export.excel||this.dashboardWidgetExports.export.image||this.dashboardWidgetExports.export.pdf||this.dashboardWidgetExports.export.csv)||(e.iconsinformation=this._arraySlice(e.iconsinformation,"name","export"),this._isNullOrUndefined(e.widgetInformation)||this._isNullOrUndefined(e.widgetInformation.widgetJson)||this._isNullOrUndefined(e.widgetInformation.widgetJson.ContainerSettings)||e.widgetInformation.widgetJson.ContainerSettings.ViewData&&1!=e.widgetInformation.widgetJson.ContainerSettings.ViewActionData||(e.iconsinformation=this._arraySlice(e.iconsinformation,"name","menu"))),0==this.dashboardWidgetExports.widget.showMoreOption&&(e.iconsinformation=this._arraySlice(e.iconsinformation,"name","menu"));const g=window[this.beforeWidgetIconRenderedFn];g instanceof Function&&g.call(this,e);const w=window[null===(h=null===(l=this.embedOptions.events)||void 0===l?void 0:l.widget)||void 0===h?void 0:h.beforeToolBarItemsRender];w instanceof Function&&w.call(this,e),(null===(c=null===(m=this.embedOptions.events)||void 0===m?void 0:m.widget)||void 0===c?void 0:c.beforeToolBarItemsRender)instanceof Function&&(null===(p=null===(b=this.embedOptions.events)||void 0===b?void 0:b.widget)||void 0===p||p.beforeToolBarItemsRender.call(this,e))}_onBoldBIBeforeControlMenuOpen(e){var t,i,o,s,n,d;!1!==this.dashboardWidgetExports.widget.showExport&&(this.dashboardWidgetExports.export.excel||this.dashboardWidgetExports.export.image||this.dashboardWidgetExports.export.pdf||this.dashboardWidgetExports.export.csv)||(e.menuItems=this._arraySlice(e.menuItems,"id","export"));const a=window[null===(i=null===(t=this.embedOptions.events)||void 0===t?void 0:t.widget)||void 0===i?void 0:i.beforeContextMenuRender];a instanceof Function&&a.call(this,e),(null===(s=null===(o=this.embedOptions.events)||void 0===o?void 0:o.widget)||void 0===s?void 0:s.beforeContextMenuRender)instanceof Function&&(null===(d=null===(n=this.embedOptions.events)||void 0===n?void 0:n.widget)||void 0===d||d.beforeContextMenuRender.call(this,e))}_onBoldBIBeforeDashboardMobileMenuOpen(e){var t,i,o,s,n,d,a,r,l,h,m,c,b,p,u;const v="boolean"===typeof(null===(t=this.embedOptions.dashboardSettings)||void 0===t?void 0:t.showRefresh)?null===(i=this.embedOptions.dashboardSettings)||void 0===i?void 0:i.showRefresh:null===(n=null===(s=null===(o=this.embedOptions.settings)||void 0===o?void 0:o.viewer)||void 0===s?void 0:s.refresh)||void 0===n||n,g="boolean"===typeof(null===(d=this.embedOptions.dashboardSettings)||void 0===d?void 0:d.showDashboardParameter)?this.embedOptions.dashboardSettings.showDashboardParameter:null===(l=null===(r=null===(a=this.embedOptions.settings)||void 0===a?void 0:a.viewer)||void 0===r?void 0:r.dashboardParameter)||void 0===l||l;if(0==g||!v||0==this.dashboardWidgetExports.dashboard.showExport)for(let f=e.menuItems.length-1;f>=0;f--)(0==g&&"dashboardparameters"==e.menuItems["".concat(f)].id||!v&&"refreshDashboard"==e.menuItems["".concat(f)].id||0==this.dashboardWidgetExports.dashboard.showExport&&"export"==e.menuItems["".concat(f)].id)&&e.menuItems.splice(f,1);const w=window[null===(m=null===(h=this.embedOptions.events)||void 0===h?void 0:h.viewer)||void 0===m?void 0:m.beforeMobileMenuOpen];w instanceof Function&&w.call(this,e),(null===(b=null===(c=this.embedOptions.events)||void 0===c?void 0:c.viewer)||void 0===b?void 0:b.beforeMobileMenuOpen)instanceof Function&&(null===(u=null===(p=this.embedOptions.events)||void 0===p?void 0:p.viewer)||void 0===u||u.beforeMobileMenuOpen.call(this,e))}_onBoldBIAjaxBeforeLoad(e){const t=window[this.embedOptions.events.onAjaxStart];t instanceof Function&&t.call(this,e),this.embedOptions.events.onAjaxStart instanceof Function&&this.embedOptions.events.onAjaxStart.call(this,e)}_onBoldBIbeforeDesignerToolbarButtonsRendered(e){var t,i,o,s,n,d;const a=window[null===(i=null===(t=this.embedOptions.events)||void 0===t?void 0:t.designer)||void 0===i?void 0:i.beforeToolbarButtonsRender];a instanceof Function&&a.call(this,e),(null===(s=null===(o=this.embedOptions.events)||void 0===o?void 0:o.designer)||void 0===s?void 0:s.beforeToolbarButtonsRender)instanceof Function&&(null===(d=null===(n=this.embedOptions.events)||void 0===n?void 0:n.designer)||void 0===d||d.beforeToolbarButtonsRender.call(this,e))}_onBoldBIbeforeDatasourceToolbarButtonsRendered(e){var t,i,o,s,n,d;for(let r=e.toolbarButtons.length-1;r>=0;r--)e.toolbarButtons["".concat(r)].elementId!=this.embedOptions.embedContainerId+"_embeddedbi_continue_dashboard_button"&&e.toolbarButtons["".concat(r)].elementId!=this.embedOptions.embedContainerId+"_embeddedbi_editScheduleButton"||e.toolbarButtons.splice(r,1),this.isNewConnection||this.embedOptions.mode==l.Mode.Design||e.toolbarButtons["".concat(r)].elementId==this.embedOptions.embedContainerId+"_embeddedbi_cancelButton"&&e.toolbarButtons.splice(r,1);this.isNewConnection=!1;const a=window[null===(i=null===(t=this.embedOptions.events)||void 0===t?void 0:t.datasource)||void 0===i?void 0:i.beforeToolbarButtonsRender];a instanceof Function&&a.call(this,e),(null===(s=null===(o=this.embedOptions.events)||void 0===o?void 0:o.datasource)||void 0===s?void 0:s.beforeToolbarButtonsRender)instanceof Function&&(null===(d=null===(n=this.embedOptions.events)||void 0===n?void 0:n.datasource)||void 0===d||d.beforeToolbarButtonsRender.call(this,e))}_onBoldBIbeforeDatasourceToolbarIconsRendered(e){var t,i,o,s,n,d;const a=window[null===(i=null===(t=this.embedOptions.events)||void 0===t?void 0:t.datasource)||void 0===i?void 0:i.beforeToolbarIconsRender];a instanceof Function&&a.call(this,e),(null===(s=null===(o=this.embedOptions.events)||void 0===o?void 0:o.datasource)||void 0===s?void 0:s.beforeToolbarIconsRender)instanceof Function&&(null===(d=null===(n=this.embedOptions.events)||void 0===n?void 0:n.datasource)||void 0===d||d.beforeToolbarIconsRender.call(this,e))}_onBoldBIbeforeDesignerToolbarIconsRendered(e){var t,i,o,s,n,d;const a=window[null===(i=null===(t=this.embedOptions.events)||void 0===t?void 0:t.designer)||void 0===i?void 0:i.beforeToolbarIconsRender];a instanceof Function&&a.call(this,e),(null===(s=null===(o=this.embedOptions.events)||void 0===o?void 0:o.designer)||void 0===s?void 0:s.beforeToolbarIconsRender)instanceof Function&&(null===(d=null===(n=this.embedOptions.events)||void 0===n?void 0:n.designer)||void 0===d||d.beforeToolbarIconsRender.call(this,e))}_onBoldBItoolbarClick(e){var t,i,o;const s=null===(t=this.embedOptions)||void 0===t?void 0:t.mode,n="design"===s?"designer":"datasource"===s?"datasource":null;if(!n)return;const d=null===(o=null===(i=this.embedOptions.events)||void 0===i?void 0:i[n])||void 0===o?void 0:o.onToolbarItemClick;if("string"===typeof d){const t=window[d];"function"===typeof t&&t.call(this,e)}"function"===typeof d&&d.call(this,e)}_onBoldBIbeforeWidgetItemsListed(e){var t,i,o,s,n,d;const a=window[null===(i=null===(t=this.embedOptions.events)||void 0===t?void 0:t.designer)||void 0===i?void 0:i.beforeWidgetsListed];a instanceof Function&&a.call(this,e),(null===(s=null===(o=this.embedOptions.events)||void 0===o?void 0:o.designer)||void 0===s?void 0:s.beforeWidgetsListed)instanceof Function&&(null===(d=null===(n=this.embedOptions.events)||void 0===n?void 0:n.designer)||void 0===d||d.beforeWidgetsListed.call(this,e))}_onBoldBIbeforeWidgetLayoutRender(e){var t,i,o,s,n,d;const a=window[null===(i=null===(t=this.embedOptions.events)||void 0===t?void 0:t.widget)||void 0===i?void 0:i.beforeLayoutRender];a instanceof Function&&a.call(this,e),(null===(s=null===(o=this.embedOptions.events)||void 0===o?void 0:o.widget)||void 0===s?void 0:s.beforeLayoutRender)instanceof Function&&(null===(d=null===(n=this.embedOptions.events)||void 0===n?void 0:n.widget)||void 0===d||d.beforeLayoutRender.call(this,e))}_onBoldBIDashboardWidgetIconClick(e){var t,i,o,s,n,d;const a=window[this.onWidgetIconClickFn];a instanceof Function&&a.call(this,e);const r=window[null===(i=null===(t=this.embedOptions.events)||void 0===t?void 0:t.widget)||void 0===i?void 0:i.onToolbarItemClick];r instanceof Function&&r.call(this,e),(null===(s=null===(o=this.embedOptions.events)||void 0===o?void 0:o.widget)||void 0===s?void 0:s.onToolbarItemClick)instanceof Function&&(null===(d=null===(n=this.embedOptions.events)||void 0===n?void 0:n.widget)||void 0===d||d.onToolbarItemClick.call(this,e))}_onBoldBIonControlMenuClick(e){var t,i,o,s,n,d;const a=window[null===(i=null===(t=this.embedOptions.events)||void 0===t?void 0:t.widget)||void 0===i?void 0:i.onToolbarItemClick];a instanceof Function&&a.call(this,e),(null===(s=null===(o=this.embedOptions.events)||void 0===o?void 0:o.widget)||void 0===s?void 0:s.onToolbarItemClick)instanceof Function&&(null===(d=null===(n=this.embedOptions.events)||void 0===n?void 0:n.widget)||void 0===d||d.onToolbarItemClick.call(this,e))}_onBoldBIDashboardUpdatefavorite(e){const t=window[this.onFavoriteStateChangeFn];t instanceof Function&&t.call(this,e);const i=window[this.embedOptions.dashboardSettings.onFavoriteIconClick];i instanceof Function&&i.call(this,e),this.embedOptions.dashboardSettings.onFavoriteIconClick instanceof Function&&this.embedOptions.dashboardSettings.onFavoriteIconClick.call(this,e)}_onBoldBIBeforeNavigateUrlLinking(e){var t,i,o,s,n,d;const a=window[null===(i=null===(t=this.embedOptions.events)||void 0===t?void 0:t.viewer)||void 0===i?void 0:i.beforeUrlNavigation];a instanceof Function&&a.call(this,e),(null===(s=null===(o=this.embedOptions.events)||void 0===o?void 0:o.viewer)||void 0===s?void 0:s.beforeUrlNavigation)instanceof Function&&(null===(d=null===(n=this.embedOptions.events)||void 0===n?void 0:n.viewer)||void 0===d||d.beforeUrlNavigation.call(this,e))}_onBoldBIBeforeViewdataIconRender(e){var t,i,o,s,n,d;const a=window[null===(i=null===(t=this.embedOptions.events)||void 0===t?void 0:t.viewer)||void 0===i?void 0:i.beforeViewDataRender];a instanceof Function&&a.call(this,e),(null===(s=null===(o=this.embedOptions.events)||void 0===o?void 0:o.viewer)||void 0===s?void 0:s.beforeViewDataRender)instanceof Function&&(null===(d=null===(n=this.embedOptions.events)||void 0===n?void 0:n.viewer)||void 0===d||d.beforeViewDataRender.call(this,e))}_onBoldBIBeforeNavigateToDashboard(e){const t=window[this.embedOptions.beforeNavigateToDashboard];t instanceof Function&&t.call(this,e),this.embedOptions.beforeNavigateToDashboard instanceof Function&&this.embedOptions.beforeNavigateToDashboard.call(this,e)}_onBoldBIAuthorizionComplete(e){const t=window[this.embedOptions.authorizationServer.authorizionComplete];t instanceof Function&&t.call(this,e),this.embedOptions.authorizationServer.authorizionComplete instanceof Function&&this.embedOptions.authorizationServer.authorizionComplete.call(this,e)}_showLoader(e){this.isMultipleWidgetMode&&(this.embedOptions.embedContainerId=e);const t=this.embedOptions.embedContainerId,i="\n        #".concat(t," .viewer-blue-loader { display: block !important; }\n        #").concat(t," .loader-icon { display: block; left: 0 !important; position: relative; margin: 0 auto; width: 54px; height: 54px; }\n        #").concat(t," .loader-icon .circular { animation: rotate 2s linear infinite; height: 54px; width: 54px; position: relative; }\n        #").concat(t," .loader-icon .path { stroke-dasharray: 1,200; stroke-dashoffset: 0; animation: dash 1.5s ease-in-out infinite; stroke: #5592FB; stroke-linecap: square; }\n        @keyframes rotate { 100% { transform: rotate(360deg); } }\n        @keyframes dash {\n            0% { stroke-dasharray: 1,200; stroke-dashoffset: 0; }\n            50% { stroke-dasharray: 89,200; stroke-dashoffset: -35; }\n            100% { stroke-dasharray: 89,200; stroke-dashoffset: -124; }\n        }\n        ");if(![...document.head.querySelectorAll("style")].some(e=>e.innerHTML.includes("#".concat(t," .viewer-blue-loader")))){const e=document.createElement("style");e.innerHTML=i,document.head.appendChild(e)}const o='<div class="preloader-wrap viewer-blue-loader" style="display: none; width: '+this.embedOptions.width+";height: "+this.embedOptions.height+'; top: 0; bottom: 0; z-index : 2;"> <div id="loader_image" align="center" style="position:relative;top:45%;"> <div class="loader-blue loader-icon" id="loader-icon"> <svg class="circular"> <circle class="path" cx="27" cy="27" r="20" fill="none" stroke-width="4" stroke-miterlimit="10"></circle> </svg> </div> </div> </div>';this._removeElement("embedded-bi-error"),document.getElementById(this.embedOptions.embedContainerId).insertAdjacentHTML("afterbegin",o)}_xhrRequestHelper(e,t,i,s,n){const d=this,a=new XMLHttpRequest;a.open(e,t,!0),a.responseType="json",a.setRequestHeader("Content-type","application/json");for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&a.setRequestHeader(o,s["".concat(o)]);a.onreadystatechange=function(){if(4==a.readyState&&200==a.status){const e="object"===typeof a.response?a.response:JSON.parse(a.response);d._authorizeResponse=e,n.call(d,e)}else 4==a.readyState&&404==a.status?d._throwError(o.errorMessages.ServerNotFound):4==a.readyState&&d._throwError(a.statusText)},a.send(JSON.stringify(i))}_emptyHtml(e){document.getElementById(e).innerHTML=""}_removeElement(e){const t=document.getElementById(e);null!=t&&t.parentNode.removeChild(t)}_uuidv4Generator(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}_isEmptyOrSpaces(e){return"undefined"==typeof e||null==e||null!=e.match(/^ *$/)}_isNullOrUndefined(e){return void 0==e||null==e}_isUrl(e){let t;try{t=new URL(e)}catch(i){return!1}return"http:"==t.protocol||"https:"==t.protocol}_throwError(e,t){var i,s,n,d,a,r,l,h;t=this._isEmptyOrSpaces(t)?this.embedOptions.embedContainerId:t;const m=!("boolean"===typeof this.embedOptions.hideErrorMessage?this.embedOptions.hideErrorMessage:null!==(s=null===(i=this.embedOptions.settings)||void 0===i?void 0:i.hideErrorMessage)&&void 0!==s&&s);if(t){e&&"string"===typeof e?e=e.replace(/^BoldBI Embedded:\s*/,""):e&&"string"===typeof e.message&&(e=e.message.replace(/^BoldBI Embedded:\s*/,""));const i=(null===(a=null===(d=null===(n=this.embedOptions)||void 0===n?void 0:n.settings)||void 0===d?void 0:d.brand)||void 0===a?void 0:a.name)?this.embedOptions.settings.brand.name:"BoldBI Embedded";if(this._removeElementsClass(t,".preloader-wrap","viewer-blue-loader"),m){const o='<div id="embedded-bi-error" style="display:table;height:100%;width:100%;"><div style="display: table-cell;vertical-align: middle;text-align: center;"><div style="display: inline-block;"><img src='+this.errorImage+' style="float: left"/><div style="float: left;margin-left: 10px;line-height: 20px;">'+i+":"+e+"</div></div>",s=document.getElementById(t);s&&(s.innerHTML=o)}}else m&&alert(e);if(this._isNullOrUndefined(this.embedOptions.events.onError)||""==this.embedOptions.events.onError)throw new Error(o.errorMessages.BoldBIEmbedded+e);{const t=(null===(h=null===(l=null===(r=this.embedOptions)||void 0===r?void 0:r.settings)||void 0===l?void 0:l.brand)||void 0===h?void 0:h.name)?new Error(this.embedOptions.settings.brand.name+":"+e):new Error(o.errorMessages.BoldBIEmbedded+e);this.onErrorClient(t)}}onErrorClient(e){const t={errorStatus:!0,StatusMessage:e,StatusCode:500},i=window[this.embedOptions.events.onError];i instanceof Function&&i.call(this,t),this.embedOptions.events.onError instanceof Function&&this.embedOptions.events.onError.call(this,t)}_removeElementsClass(e,t,i){let o=[];if(this._isEmptyOrSpaces(e))o=document.querySelector(t);else if(this._isEmptyOrSpaces(t))o.push(document.getElementById(e));else{const i=document.getElementById(e);o=i?i.querySelectorAll(t):[]}o.forEach(function(e){this._removeClass(e,i)}.bind(this))}_hasClass(e,t){if(e.classList)return e.classList.contains(t);const i=RegExp;return!!e.className.match(new i("(\\s|^)"+t+"(\\s|$)"))}_addClass(e,t){e.classList?e.classList.add(t):this._hasClass(e,t)||(e.className+=" "+t)}_removeClass(e,t){if(e.classList)e.classList.remove(t);else if(this._hasClass(e,t)){const i=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(i," ")}}_arraySlice(e,t,i){return e.forEach(function(e,o,s){e["".concat(t)]==i&&s.splice(o,1)}.bind(this)),e}_getFilterData(e){const t={masterData:[]},i=decodeURI(e).replace(/~&~/g,String.fromCharCode(251)+String.fromCharCode(251)).replace(/~=~/g,String.fromCharCode(250)+String.fromCharCode(250)).replace(/~[?]~/g,String.fromCharCode(253)+String.fromCharCode(253)).replace(/~[/]~/g,String.fromCharCode(254)+String.fromCharCode(254)).replace(/&&/g,"&").replace(/&/g,"|,|").replace(/=/g,"|:|").replace(/~,~/g,String.fromCharCode(252)+String.fromCharCode(252)).split("|,|");for(let o=0;o<i.length;o++){const e=i["".concat(o)].split("|:|");if(e.length>=2&&"FILTERQUERY"==e[0].trim().toUpperCase()){const i=e[1],o=a.parseJSON(i);""!=o&&0!=o.length&&(t.masterData=this._lengthensSelectedFilterInfo(o),this._unEscapeSelectedFilterDataforURLFilter(t.masterData));continue}}return this._createFilterCollection(t.masterData)}_createFilterCollection(e){if(e){const t=[];return e.forEach(function(e){let i=e.ColumnName,o=[];e.InitialDateFilter.DisplayDateFilterList.length>0&&(o=e.InitialDateFilter.DisplayDateFilterList,e.IsRange&&(o=[o[0]+" - "+o[1]])),e.InitialMeasureFilter.Values.length>0&&(o=e.InitialMeasureFilter.Values),e.InitialDimensionFilter.Text.length>0&&(o=e.InitialDimensionFilter.Text,i=i+" ("+e.InitialDimensionFilter.DimesnionFilterCondition+")"),e.InitialDimensionFilter.Text.length>0&&(o=e.InitialDimensionFilter.Text),t.push({ColumnName:i,Values:o})}.bind(this)),t}}_lengthensSelectedFilterInfo(e){const t=[],i=e.length;for(let o=0;o<i;o++){const i=e["".concat(o)],s=new SelectedFilterValue;this._hasValue(i,shortenEnum.UniqueColumnName)&&(s[lengthenEnum.UniqueColumnName]=i[shortenEnum.UniqueColumnName]),this._hasValue(i,shortenEnum.ReportName)&&(s[lengthenEnum.ReportName]=i[shortenEnum.ReportName]),this._hasValue(i,shortenEnum.IsStdDateTime)&&(s[lengthenEnum.IsStdDateTime]=i[shortenEnum.IsStdDateTime]),this._hasValue(i,shortenEnum.IsRange)&&(s[lengthenEnum.IsRange]=i[shortenEnum.IsRange]),this._hasValue(i,shortenEnum.IsGroupBarFilter)&&(s[lengthenEnum.IsGroupBarFilter]=i[shortenEnum.IsGroupBarFilter]),this._hasValue(i,shortenEnum.IsMultiSelection)&&(s[lengthenEnum.IsMultiSelection]=i[shortenEnum.IsMultiSelection]),this._hasValue(i,shortenEnum.ColumnName)&&(s[lengthenEnum.ColumnName]=i[shortenEnum.ColumnName]),this._hasValue(i,shortenEnum.FieldId)&&(s[lengthenEnum.FieldId]=i[shortenEnum.FieldId]),this._hasValue(i,shortenEnum.IsPoPWidget)&&(s[lengthenEnum.IsPoPWidget]=i[shortenEnum.IsPoPWidget]),this._hasValue(i,shortenEnum.InitialDateFilter)&&(this._hasValue(i[shortenEnum.InitialDateFilter],shortenEnum.DateFilterCondition)&&(s.InitialDateFilter[lengthenEnum.DateFilterCondition]=i[shortenEnum.InitialDateFilter][shortenEnum.DateFilterCondition]),this._hasValue(i[shortenEnum.InitialDateFilter],shortenEnum.DateFilterList)&&(s.InitialDateFilter[lengthenEnum.DateFilterList]=i[shortenEnum.InitialDateFilter][shortenEnum.DateFilterList]),this._hasValue(i[shortenEnum.InitialDateFilter],shortenEnum.DateFilterType)&&(s.InitialDateFilter[lengthenEnum.DateFilterType]=i[shortenEnum.InitialDateFilter][shortenEnum.DateFilterType]),this._hasValue(i[shortenEnum.InitialDateFilter],shortenEnum.DisplayDateFilterList)&&(s.InitialDateFilter[lengthenEnum.DisplayDateFilterList]=i[shortenEnum.InitialDateFilter][shortenEnum.DisplayDateFilterList]),this._hasValue(i[shortenEnum.InitialDateFilter],shortenEnum.DateFormat)&&(s.InitialDateFilter[lengthenEnum.DateFormat]=i[shortenEnum.InitialDateFilter][shortenEnum.DateFormat]),this._hasValue(i[shortenEnum.InitialDateFilter],shortenEnum.SelectedRangeforRelativeFilter)&&(s.InitialDateFilter[lengthenEnum.SelectedRangeforRelativeFilter]=i[shortenEnum.InitialDateFilter][shortenEnum.SelectedRangeforRelativeFilter])),this._hasValue(i,shortenEnum.InitialDimensionFilter)&&(this._hasValue(i[shortenEnum.InitialDimensionFilter],shortenEnum.DimesnionFilterCondition)&&(s.InitialDimensionFilter[lengthenEnum.DimesnionFilterCondition]=i[shortenEnum.InitialDimensionFilter][shortenEnum.DimesnionFilterCondition]),this._hasValue(i[shortenEnum.InitialDimensionFilter],shortenEnum.Text)&&(s.InitialDimensionFilter[lengthenEnum.Text]=i[shortenEnum.InitialDimensionFilter][shortenEnum.Text])),this._hasValue(i,shortenEnum.InitialMeasureFilter)&&(this._hasValue(i[shortenEnum.InitialMeasureFilter],shortenEnum.MeasureFilterCondition)&&(s.InitialMeasureFilter[lengthenEnum.MeasureFilterCondition]=i[shortenEnum.InitialMeasureFilter][shortenEnum.MeasureFilterCondition]),this._hasValue(i[shortenEnum.InitialMeasureFilter],shortenEnum.Values)&&(s.InitialMeasureFilter[lengthenEnum.Values]=i[shortenEnum.InitialMeasureFilter][shortenEnum.Values])),this._hasValue(i,shortenEnum.PoPFilter)&&(this._hasValue(i[shortenEnum.PoPFilter],shortenEnum.DateFieldId)&&(s.PoPFilter[lengthenEnum.DateFieldId]=i[shortenEnum.PoPFilter][shortenEnum.DateFieldId]),this._hasValue(i[shortenEnum.PoPFilter],shortenEnum.PrimaryType)&&(s.PoPFilter[lengthenEnum.PrimaryType]=i[shortenEnum.PoPFilter][shortenEnum.PrimaryType]),this._hasValue(i[shortenEnum.PoPFilter],shortenEnum.SecondaryType)&&(s.PoPFilter[lengthenEnum.SecondaryType]=i[shortenEnum.PoPFilter][shortenEnum.SecondaryType]),this._hasValue(i[shortenEnum.PoPFilter],shortenEnum.PrimaryCustomRange)&&(s.PoPFilter[lengthenEnum.PrimaryCustomRange][lengthenEnum.StartRange]=i[shortenEnum.PoPFilter][shortenEnum.PrimaryCustomRange][shortenEnum.StartRange],s.PoPFilter[lengthenEnum.PrimaryCustomRange][lengthenEnum.EndRange]=i[shortenEnum.PoPFilter][shortenEnum.PrimaryCustomRange][shortenEnum.EndRange]),this._hasValue(i[shortenEnum.PoPFilter],shortenEnum.SecondaryCustomRange)&&i[shortenEnum.PoPFilter][shortenEnum.SecondaryCustomRange].length>0&&(s.PoPFilter[lengthenEnum.SecondaryCustomRange][0][lengthenEnum.StartRange]=i[shortenEnum.PoPFilter][shortenEnum.SecondaryCustomRange][0][shortenEnum.StartRange],s.PoPFilter[lengthenEnum.SecondaryCustomRange][0][lengthenEnum.EndRange]=i[shortenEnum.PoPFilter][shortenEnum.SecondaryCustomRange][0][shortenEnum.EndRange])),this._hasValue(s,lengthenEnum.UniqueColumnName)&&this._hasValue(s,lengthenEnum.ReportName)&&t.push(s)}return t}_hasValue(e,t){return!this._isNullOrUndefined(e)&&!this._isNullOrUndefined(e["".concat(t)])}_unEscapeSelectedFilterDataforURLFilter(e){for(let t=0;t<e.length;t++){const i=e["".concat(t)];if(!this._isNullOrUndefined(i.InitialDimensionFilter.Text)&&0!=i.InitialDimensionFilter.Text.length)for(let e=0;e<i.InitialDimensionFilter.Text.length;e++)i.InitialDimensionFilter.Text["".concat(e)]=i.InitialDimensionFilter.Text["".concat(e)].replaceAll(String.fromCharCode(252)+String.fromCharCode(252),",").replaceAll(String.fromCharCode(251)+String.fromCharCode(251),"&").replaceAll(String.fromCharCode(250)+String.fromCharCode(250),"=").replaceAll(String.fromCharCode(253)+String.fromCharCode(253),"?").replaceAll(String.fromCharCode(254)+String.fromCharCode(254),"/")}return e}_getWidgetFilterInfo(){const e=this._widgetsCollection,t=[];if(1==Array.isArray(e))for(let i=0;i<e.length;i++){let o=l._gettinstance(document.getElementById(this.embedOptions.embedContainerId),"embeddedBoldBIWidget_"+e["".concat(i)]);o=Array.isArray(o)?o:[o];const s=[];let n;for(let e=0;e<o.length;e++)n=o["".concat(e)].includes("=")?{columnName:o["".concat(e)].split("=")[0].toString(),values:o["".concat(e)].split("=")[1].split(",")}:{values:o},s[s.length]=n;const d={id:e["".concat(i)],filters:s};t[t.length]=d}return t}_multipleWidgets(e){const t=this._getDashboardInstance();if(!this._isNullOrUndefined(t)){for(var i=t.loadMultipleWidget.multipleWidgetInstanceCollection,o=arguments.length,s=new Array(o>1?o-1:0),n=1;n<o;n++)s[n-1]=arguments[n];for(let t=0;t<i.length;t++){const o=i[t].currentInstance;if("widgets"==e)i[t].widgetId==s[0][0].id&&(o.model[e]=[],o.option(e,...s));else if("exportWidgetAsCsv"!=e&&"exportWidgetAsImage"!=e&&"exportWidgetAsExcel"!=e&&"exportWidgetAsPdf"!=e)"function"===typeof o[e]?o[e](...s):(o.model[e]="",o.option(e,...s));else if(i[t].widgetId==s[0]&&"function"===typeof o[e]){const t=s.slice(1);o[e](...t)}}}}applyStyles(){this.deprecated=!1,this.addStyles()}addStyles(){this.deprecationMessage("addStyles");this._loadDepedentFiles()}removeStyles(){this.deprecated=!1,this.destroyStyles()}destroyStyles(){this.deprecationMessage("destroyStyles");const e=this;document.querySelectorAll("link").forEach(function(t){e.cssFiles.forEach(function(e){-1!=t.href.toLowerCase().indexOf(e.toLowerCase())&&t.parentNode.removeChild(t)})})}_validatetoken(e){const t=e||this.authToken;return this._isJwtFormat(t)?"bearer ".concat(t):"basic ".concat(t)}_isJwtFormat(e){return/^[A-Za-z0-9-_=]+?\.[A-Za-z0-9-_=]+?\.[A-Za-z0-9-_.+/=]*$/.test(e)}removeWidgetInstance(e){this.deprecationMessage("removeWidgetInstance");const t=document.getElementById(this.embedOptions.embedContainerId);l._removewidgetinstance(t,"embeddedBoldBIWidget_"+e),this._widgetsCollection=this._widgetsCollection.filter(t=>t!==e)}static _putinstance(e,t,i){l._storage.has(e)||l._storage.set(e,new Map),l._storage.get(e).set(t,i)}static _gettinstance(e,t){if(l._storage.has(e))return l._storage.get(e).get(t)}static _hasinstance(e,t){return l._storage.has(e)&&l._storage.get(e).has(t)}static _removeinstance(e,t){if(l._storage.has(e)){const i=l._storage.get(e).delete(t);return 0!=l._storage.get(e).size&&l._storage.delete(e),i}}static _removewidgetinstance(e,t){if(l._storage.has(e)){return l._storage.get(e).delete(t)}}}t.BoldBI=l,l.Mode=s.Mode,l.EmbedType=s.EmbedType,l.Environment=s.Environment,l.Theme=s.Theme,l._storage=new WeakMap,l._widgetsCollection=[];class h{constructor(){this.containerID="",this.widgetCollection=[],this.deprecated=!0}setFilterParameters(e){this.deprecated&&((0,d.deprecatedMethod)("setFilterParameters"),this.deprecated=!0);const t=this.widgetCollection;1==Array.isArray(t)&&l._hasinstance(document.getElementById(this.containerID),"embeddedBoldBIWidget_"+t[t.length-1])&&l._putinstance(document.getElementById(this.containerID),"embeddedBoldBIWidget_"+t[t.length-1],e)}setFilters(e){this.deprecated=!1,this.setFilterParameters(e)}}},335(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultConstructor=void 0;const o=i(561);t.DefaultConstructor={IsDependencyLoaded:!1,deprecated:!0,bingMapRequired:!1,azureMapRequired:!1,disableAutoRecover:!1,restrictMobileView:!1,rootUrl:"",baseUrl:"",siteIdentifier:"",dashboardServerApiUrl:"",designerRootUrl:"",customThemeUrl:"",scheduleEndpointUrl:"",childContainer:"",cdnLink:"",liveHelpLink:"https://help.boldbi.com/embedding-options/embedding-sdk/",maskedCdnUrl:"https://cdn.boldbi.com/resources/v",beforeSaveViewDialogOpenFn:"beforeSaveViewDialogRendered",beforeSaveAsViewDialogOpenFn:"beforeSaveAsViewDialogRendered",onViewSavedFiltersClickFn:"openViewSection",onBannerIconClickFn:"onBannerIconClick",beforeWidgetIconRenderedFn:"beforeWidgetIconRendered",onWidgetIconClickFn:"onWidgetIconClick",actionBeginFn:"onActionBeginOfNewDashboardViewer",actionCompleteFn:"onActionCompleteOfNewDashboardViewer",reportOpenedFn:"onReportOpenedOfNewDashboardViewer",performNavigateDashboardFn:"performNavigateToDashboard",beforeBannerIconRenderFn:"beforeBannerIconRender",beforeOtherRenderFn:"beforeOtherOptionContextMenuRender",isWidgetMode:!1,isDashboardRendering:!1,isPinboardRendering:!1,isDashboardViewRendering:!1,widgetName:"",isDashboardViewMode:!1,dashboardViewName:"",errorImage:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjExNzgwNzk4MzhBOTExRTQ4MDMxRTZEMkIzQUQzNjdCIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjExNzgwNzk5MzhBOTExRTQ4MDMxRTZEMkIzQUQzNjdCIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTE3ODA3OTYzOEE5MTFFNDgwMzFFNkQyQjNBRDM2N0IiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MTE3ODA3OTczOEE5MTFFNDgwMzFFNkQyQjNBRDM2N0IiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4RB5yjAAABXklEQVR42rRUsU7DQAzNRWxESMydK2XsAhtiQGHo1LmsZYCBMSNDx3wASJQ1zN0rJjZYOlbqDCsSPxCeq5f0anwtSMHSk52L/c4++85VVRW1KXu14ZwLOn2enK1+Hr48B3evE3ONoQhBcgw1AjKgw+V3YAY8gvz1V4QgOoC6B4b0nQML2inQo/0EXIH4K0hIMslAspsCOQKWKvMuVAEMAMkyE9KmF2LUH3AugQoYK5IbgVob07f0eWJ1ZlLmFDveqjM/JRqhj1QxZOxKYs9nRJ0bTdwHEmM9V7EbhNLNuT4zSkLSSGW5ZNMyi7DjddMiTAL/Ft5YrQd7h3z8+aZwaFPLCaX1t3CkjP1Rssxfj3Omb825wFjvctBnFuGEujCyeCC0FCp2TYiy3qBkSAd6sCF9YmOweVtKxv7P1Qs9DnfAxY7HQaq53vo4qEyOoC4Dz9fEL9MkbEviqGX5FmAA1Vq0VgBUvekAAAAASUVORK5CYII=",pinBoardRendered:!0,pinboardIds:[],fromColumn:null,toColumn:null,fromPosition:null,toPosition:null,column:null,position:null,isMultiTab:!1,parentDbrdId:"",isNewConnection:!1,multiTabTheme:"",dashboardDetails:{},pinboardDetails:[],accessToken:"",authToken:"",homepageItemId:"",isVirtualHomepage:!1,dashboardUrl:"",commentsArgs:{},_widgetsCollection:[],jQueryDepedentFile:"jquery-3.5.0.min.js",jqConflictFile:"window.bb$ = jQuery.noConflict();",isFullscreen:!1,embedAuthorizeEndPoint:"/embed/authorize",embedGetDetailsEndPoint:"/embed/get-details",isMultipleWidgetMode:!1,invalidDetail:!1,isDefaultView:!1,embedSDKWrapperVersion:"14.2",tokenResponse:{dashboardVersion:"0",draftItemID:"",CanWrite:!1,DatasourceId:"",ConnectionList:"",ItemDetail:{IsPublic:!1,Description:"",Name:""}},dashboardWidgetExports:{dashboard:{showExport:!0,showMoreOption:!0,showMetrics:!0},widget:{showExport:!0,showMoreOption:!0},export:{image:!0,pdf:!0,excel:!0,csv:!0}},wrapperDependentScriptFiles:["jquery.easing.1.3.min.js","jquery-ui.min.js","jsrender.min.js"],viewerScriptFiles:["ej1.web.all.min.js","ej2.web.all.min.js","designerlocalization.js"],pinBoardScriptFiles:["bootstrap.min.js"],pinboardCssFiles:["pinboard-embed.min.css"],ejViewerDependentFiles:["ej.dashboarddesigner.min.js"],ejDesignerDependentFiles:["codemirror.min.js"],designerScriptFiles:["ej1.web.all.min.js","ej2.web.all.min.js","designerlocalization.js","signalr.min.js"],cssFiles:["font-server.min.css","ej1.web.all.min.css","ej2.partone.web.all.min.css","ej2.parttwo.web.all.min.css","ej.designerwidgets.all.min.css","ej.dashboarddesigner.min.css"],AICssFiles:["dashboard-designer.min.css","dashboard-viewer-bundle.min.css"],AIScriptFiles:["designerlocalization.js","ej1.web.all.min.js","ej2.web.all.min.js","dashboard-designer-dependency.min.js","bbi-unifiedaiagent.min.js"],designerCssFiles:["ej.codemirror.min.css"],applicationThemeCssFiles:["boldbi.theme.definition.min.css","application.theme.css"],dashboardThemeCssFiles:["dashboard.theme.css"],fontFamilyCssFiles:["font-family.min.css"],embedOptions:{isdesignerdraft:!1,serverUrl:"",dashboardId:"",dashboardIds:[],dashboardPath:"",dashboardPaths:[],datasourceId:"",datasourceName:"",embedContainerId:"",embedType:o.EmbedType.Component,environment:o.Environment.Enterprise,cloudCdnTimeStamp:"",customDashboardVersion:"0",embedToken:"",isPublicDashboard:!1,isMultiTabDashboard:!1,mode:o.Mode.View,restrictMobileView:!1,localData:{loadFromData:!1,layoutData:null,widgetData:null},viewId:"",viewName:"",nonce:"",anonymousToken:{isEnabled:!1,groupName:"",userEmail:""},layoutSettings:{hideDesignerScroller:!1},settings:{bingMapRequired:!1,azureMapRequired:!1,hideErrorMessage:!1,restrictMobileView:!1,disableAutoRecover:!1,datasources:[],viewer:{dashboardName:"",header:!0,export:!0,refresh:!0,moreOption:!0,fullScreen:!1,edit:!1,dashboardParameter:!0,comment:!1,metrics:!0,filterOverview:{enabled:!0,saveAs:!1,save:!1,viewSavedFilter:!1,viewId:"",viewName:""},widgetContainer:{margin:null,boxShadow:null},autoRefresh:{enabled:!1,hourlySchedule:{hours:0,minutes:0,seconds:0}}},designer:{previewAs:!0,hideSettings:!1,widgetsPanel:{hideDefaultWidgets:!1,hideExistingWidgets:!1,defaultPanelDisplayText:"",existingPanelDisplayText:"",defaultPanelSearchPlaceholder:"",existingPanelSearchPlaceholder:"",existingDashboards:[],dragAndDropSettings:{rowSpan:null,columnSpan:null,isWidgetMode:!1}},dataSourceConfig:{hideDataSourceConfig:!1,hideSampleDataSources:!1,hideExpression:!1,hideDataSourceList:!1},toolbar:{enabled:!0},preConfiguredWidgets:{dashboardId:"",categoryName:""}},designCanvas:{margin:null},viewData:{allColumns:!1,exporting:!0,columnSelection:!0},theme:{appearance:"",application:"",dashboard:"",localTheme:!1,fontFamily:""},widget:{export:!0,filter:!0,maximize:!0,moreOption:!0,comment:!1},dynamicConnection:{enabled:!1,identity:""},pinboard:{header:!0,unpinWidget:!0},export:{csv:!0,image:!0,excel:!0,pdf:!0},brand:{hideHelpLink:!1,domain:"",name:""},language:{hideDropdown:!1,code:""},locale:{culture:"en-US",dateFormat:"M/d/yyyy",timeFormat:"h:mm:ss tt",appLocale:"en-US"},aiAssistant:{enabled:!1,position:"bottom",name:"",hideBetaTag:!1,headerTextColor:"",hideLogo:!1,hideIcons:{history:!1,usageAnalytics:!1,helpLink:!1,newSession:!1},hideWelcomeNote:!1,hideDashboardTag:!1,hideDatasourceTag:!1,queryDisplayLimit:6,dashboards:[],dataSources:[],userName:"",summary:{enabled:!1,widget:!1,dashboard:!1}}},dashboardSettings:{showHeader:!0,showExport:!0,showRefresh:!0,showMoreOption:!0,showMetrics:!0,onFavoriteIconClick:"",beforeIconRender:"",onIconClick:"",onInteraction:"",enableFilterOverview:!0,enableFullScreen:!1,edit:!1,showDashboardParameter:!0,dashboardName:"",beforePublishAs:"",beforeDesignerToolbarButtons:"",enableComment:!1,beforeDesignerToolbarIconsRendered:"",beforeDatasourceToolbarButtonsRendered:"",beforeDatasourceToolbarIconsRendered:"",toolbarClick:"",fontFamily:"",widgetsPanel:{hideDefaultWidgets:!1,hideExistingWidgets:!1,defaultPanelDisplayText:"",existingPanelDisplayText:"",defaultPanelSearchPlaceholder:"",existingPanelSearchPlaceholder:"",existingDashboards:[],dragAndDropSettings:{rowSpan:null,columnSpan:null,isWidgetMode:!1}},dataSourceConfig:{hideDataSourceConfig:!1,hideSampleDataSources:!1,hideExpression:!1,hideDataSourceList:!1},viewDataSettings:{showAllColumns:!1,enableExporting:!0,enableColumnSelection:!0},showPreviewAs:!0,themeSettings:{appearance:"",application:"",dashboard:"",isLocalTheme:!1},filterOverviewSettings:{showSaveAsIcon:!1,showSaveIcon:!1,showViewSavedFilterIcon:!1,viewId:"",viewName:""},saveFilterClick:"",saveAsFilterClick:"",viewSavedFiltersClick:"",beforeSaveViewDialogOpen:"",beforeSaveAsViewDialogOpen:"",onViewSavedFiltersClick:""},widgetSettings:{showExport:!0,showMaximize:!0,showMoreOption:!0,showFilter:!0,beforeIconRender:"",onIconClick:"",beforeWidgetControlMenuOpen:"",onWidgetControlMenuClick:"",enableComment:!1,beforeWidgetItemsListed:"",beforeWidgetLayoutRender:""},languageSettings:{hideLanguageDropdown:!1,languageCode:""},customBrandSettings:{hideHelpLink:!1,customBrandName:"",customDomain:""},filterParameters:"",dynamicConnection:{isEnabled:!1,identity:""},exportSettings:{showExcel:!0,showPDF:!0,showImage:!0,showCSV:!0},height:"",width:"",theme:"",authorizationServer:{url:"",data:"",headers:{},authorizionComplete:""},token:"",expirationTime:86400,autoRefreshSettings:{enabled:!1,hourlySchedule:{hours:0,minutes:0,seconds:0}},embedAiAssistant:{enabled:!1,position:"bottom",name:"",hideAiDataUsage:!1,hideAiChatHelp:!1,summary:{enabled:!1,includeWidgetSummary:!1,includeDashboardSummary:!1}},isRemoveStyle:!1,scalingFactor:1,localeSettings:{culture:"en-US",dateFormat:"M/d/yyyy",timeFormat:"h:mm:ss tt",appLocale:"en-US"},actionBegin:"",actionComplete:"",reportOpened:"",performNavigateToDashboard:"",beforeContextMenuRender:"",beforeNavigateUrlLinking:"",beforeViewdataIconRender:"",beforeNavigateToDashboard:"",beforeFilterApply:"",afterFilterApply:"",toolbarSettings:{showToolbar:!0},pinboardName:"",pinboardSettings:{enablePinboardHeader:!0,enableUnpinWidget:!0},onUnpin:"",onDrag:"",onDrop:"",onLayoutChange:"",onResize:"",datasources:[],designCanvasSettings:{margin:null},widgetContainerSettings:{margin:null,boxShadow:null},beforeDatasourceSave:"",afterDatasourceSave:"",preConfiguredWidgets:{dashboardId:"",categoryName:""},disableAutoRecover:!1,ajaxBeforeLoad:"",isBingMapRequired:!1,widgetList:"",enableDomainMasking:!1,hideErrorMessage:!1,events:{onActionStart:"",onActionComplete:"",onAjaxStart:"",onResize:"",onError:"",viewer:{beforeContextMenuRender:"",beforeUrlNavigation:"",beforeViewDataRender:"",beforeToolBarItemsRender:"",onToolbarItemClick:"",beforeMobileMenuOpen:""},designer:{beforeWidgetsListed:"",beforeToolbarButtonsRender:"",beforeToolbarIconsRender:"",onToolbarItemClick:"",beforePublishDialogOpen:""},datasource:{beforeToolbarButtonsRender:"",beforeToolbarIconsRender:"",beforeSave:"",afterSave:"",onToolbarItemClick:""},pinboard:{onDrag:"",onDrop:"",onLayoutChange:"",onUnpin:""},widget:{beforeLayoutRender:"",beforeToolBarItemsRender:"",beforeContextMenuRender:"",onToolbarItemClick:""},filters:{afterApply:"",beforeApply:"",onInteraction:"",onSavedFilterClick:"",beforeSaveViewDialogOpen:"",beforeSaveAsViewDialogOpen:""}}}}},561(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Theme=t.Environment=t.EmbedType=t.Mode=void 0,t.Mode={View:"view",Design:"design",Connection:"connection",DataSource:"datasource",AIAssistant:"aiassistant"},t.EmbedType={Component:"component",IFrame:"iframe"},t.Environment={Enterprise:"onpremise",Cloud:"cloud"},t.Theme={Off:"off",Light:"light",Dark:"dark"}}}]);
//# sourceMappingURL=192.d7bb91bd.chunk.js.map